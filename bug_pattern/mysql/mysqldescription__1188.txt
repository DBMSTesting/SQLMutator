{
    "pattern": "SET sql_mode = ''; DROP TABLE IF EXISTS xbt_files; CREATE TABLE xbt_files (fid INT <constraint_type_parameter>, info_hash BLOB <constraint_type_parameter>, leechers INT <constraint_type_parameter> DEFAULT <dml_values_parameter>, seeders INT <constraint_type_parameter> DEFAULT <dml_values_parameter>, completed INT <constraint_type_parameter> DEFAULT <dml_values_parameter>, flags INT <constraint_type_parameter>, mtime INT <constraint_type_parameter>, ctime INT <constraint_type_parameter>, PRIMARY KEY (fid), UNIQUE KEY (info_hash(<dml_values_parameter>)); INSERT INTO xbt_files (info_hash, mtime, ctime) VALUES ('<dml_values_parameter>', UNIX_TIMESTAMP(), UNIX_TIMESTAMP()), ('<dml_values_parameter>', UNIX_TIMESTAMP(), UNIX_TIMESTAMP()), ('<dml_values_parameter>', UNIX_TIMESTAMP(), UNIX_TIMESTAMP()); INSERT INTO xbt_files (fid, leechers, seeders, completed) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>) ON DUPLICATE KEY UPDATE leechers = VALUES(leechers), seeders = VALUES(seeders), completed = VALUES(completed); SET sql_mode = '<dml_values_parameter>'; INSERT INTO xbt_files (fid, leechers, seeders, completed) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>) ON DUPLICATE KEY UPDATE leechers = VALUES(leechers), seeders = VALUES(seeders), completed = VALUES(completed);",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<dml_values_parameter>"
    ],
    "Affected Elements": "insert ... on duplicate key update; update ... case ... when ... then ... else ... end;",
    "Root Cause Analysis": "The feature request highlights the inefficiency of current bulk update methods in strict mode, particularly that certain operations fail due to strict mode enforcing not null constraints without defaults."
}
{
    "pattern": "CREATE DATABASE <database_name_parameter>; USE <database_name_parameter>; CREATE TABLE `wh_productsales` (`id` int(11) NOT NULL AUTO_INCREMENT, `created_on` datetime NOT NULL, `updated_on` datetime NOT NULL, `created_by_id` int(11) DEFAULT NULL, `updated_by_id` int(11) DEFAULT NULL, `date` date NOT NULL, `sales_quantity` decimal(10,2) NOT NULL, `promo_quantity` decimal(10,2) NOT NULL, `kirana_quantity` decimal(10,2) NOT NULL DEFAULT '0.00', `outofstock_time` int(11) NOT NULL DEFAULT '0', `available_time` int(11) NOT NULL DEFAULT '86400', `unavailable_time` int(11) NOT NULL DEFAULT '0', `actual_sales` decimal(10,2) NOT NULL DEFAULT '0.00', `dc_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `date` (`date`,`product_id`,`dc_id`), KEY `wh_productsales_4a21cf42` (`created_by_id`), KEY `wh_productsales_6f403c1` (`updated_by_id`), KEY `wh_productsales_679343db` (`date`), KEY `wh_productsales_44bdf3ee` (`product_id`), KEY `wh_productsales_f3c25827` (`dc_id`), KEY `idx_wh_productsales_created_on` (`created_on`), CONSTRAINT `created_by_id_refs_id_567b1f38` FOREIGN KEY (`created_by_id`) REFERENCES `auth_user` (`id`), CONSTRAINT `updated_by_id_refs_id_567b1f38` FOREIGN KEY (`updated_by_id`) REFERENCES `auth_user` (`id`)) ENGINE=<engine_parameter> AUTO_INCREMENT=<auto_increment_value_parameter> DEFAULT CHARSET=<charset_parameter>; CREATE TABLE `auth_user` (`id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(30) NOT NULL, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `password` varchar(128) NOT NULL, `is_staff` tinyint(1) NOT NULL, `is_active` tinyint(1) NOT NULL, `is_superuser` tinyint(1) NOT NULL, `last_login` datetime(6) DEFAULT NULL, `date_joined` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `username` (`username`)) ENGINE=<engine_parameter> AUTO_INCREMENT=<auto_increment_value_parameter> DEFAULT CHARSET=<charset_parameter>; CREATE DATABASE <database_name_parameter>; USE <database_name_parameter>; CREATE TABLE `wh_productsales` (`id` int(11) NOT NULL AUTO_INCREMENT, `created_on` datetime NOT NULL, `updated_on` datetime NOT NULL, `created_by_id` int(11) DEFAULT NULL, `updated_by_id` int(11) DEFAULT NULL, `date` date NOT NULL, `sales_quantity` decimal(10,2) NOT NULL, `promo_quantity` decimal(10,2) NOT NULL, `kirana_quantity` decimal(10,2) NOT NULL DEFAULT '0.00', `outofstock_time` int(11) NOT NULL DEFAULT '0', `available_time` int(11) NOT NULL DEFAULT '86400', `unavailable_time` int(11) NOT NULL DEFAULT '0', `actual_sales` decimal(10,2) NOT NULL DEFAULT '0.00', `dc_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `date` (`date`,`product_id`,`dc_id`), KEY `wh_productsales_4a21cf42` (`created_by_id`), KEY `wh_productsales_6f403c1` (`updated_by_id`), KEY `wh_productsales_679343db` (`date`), KEY `wh_productsales_44bdf3ee` (`product_id`), KEY `wh_productsales_f3c25827` (`dc_id`), KEY `idx_wh_productsales_created_on` (`created_on`), CONSTRAINT `created_by_id_refs_id_567b1f38` FOREIGN KEY (`created_by_id`) REFERENCES `auth_user` (`id`), CONSTRAINT `updated_by_id_refs_id_567b1f38` FOREIGN KEY (`updated_by_id`) REFERENCES `auth_user` (`id`)) ENGINE=<engine_parameter> AUTO_INCREMENT=<auto_increment_value_parameter> DEFAULT CHARSET=<charset_parameter>; mysqldiff --force --server1=<user_parameter>:<password_parameter>@<server1_parameter> --server2=<user_parameter>:<password_parameter>@<server2_parameter> bbdb:<database_name_parameter> --changes-for=<target_server_parameter> --difftype=<difftype_parameter>; ALTER TABLE `<database_name_parameter>`.`wh_productsales` DROP FOREIGN KEY <foreign_key_name_parameter>, DROP FOREIGN KEY <foreign_key_name_parameter>, DROP FOREIGN KEY <foreign_key_name_parameter>, ADD CONSTRAINT <foreign_key_name_parameter> FOREIGN KEY(<column_name_parameter>) REFERENCES `<database_name_parameter>`.<table_name_parameter>(<column_name_parameter>), ADD CONSTRAINT <foreign_key_name_parameter> FOREIGN KEY(<column_name_parameter>) REFERENCES `<database_name_parameter>`.<table_name_parameter>(<column_name_parameter>), ADD CONSTRAINT <foreign_key_name_parameter> FOREIGN KEY(<column_name_parameter>) REFERENCES `<database_name_parameter>`.<table_name_parameter>(<column_name_parameter>), AUTO_INCREMENT=<auto_increment_value_parameter>;",
    "applied_rules": [
        "<database_name_parameter>",
        "<engine_parameter>",
        "<auto_increment_value_parameter>",
        "<charset_parameter>",
        "<user_parameter>",
        "<password_parameter>",
        "<server1_parameter>",
        "<server2_parameter>",
        "<target_server_parameter>",
        "<foreign_key_name_parameter>",
        "<column_name_parameter>",
        "<table_name_parameter>",
        "<difftype_parameter>"
    ],
    "Affected Elements": "ALTER TABLE, DROP FOREIGN KEY, ADD CONSTRAINT",
    "Root Cause Analysis": "The mysqldiff tool incorrectly references foreign keys to the wrong database during the transformation process."
}
{
    "pattern": "CREATE TABLE `t1` ( `cl` <dml_values_parameter>, `fa` <dml_values_parameter>, `ti` <dml_values_parameter>, `id` <dml_values_parameter> NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `key1` (`fa`), KEY `IDX_1` (`ti`(<dml_values_parameter>)) ) ENGINE=<object_dependency_replace>; INSERT INTO t1 VALUES(<dml_values_parameter>,<dml_values_parameter>,<dml_values_parameter>,<dml_values_parameter>); CREATE TABLE `t2` ( `ID` <dml_values_parameter> NOT NULL, `ide` <dml_values_parameter> NOT NULL, `ctime` <dml_values_parameter> DEFAULT <dml_values_parameter>, PRIMARY KEY (`ide`), KEY `Index1` (`ctime`) ) ENGINE=<object_dependency_replace>; INSERT INTO t2 VALUES(<dml_values_parameter>,<dml_values_parameter>,<dml_values_parameter>); CREATE TABLE `t3` ( `ID` <dml_values_parameter> NOT NULL, `ide` <dml_values_parameter> NOT NULL, PRIMARY KEY (`ide`) ) ENGINE=<object_dependency_replace>; INSERT INTO t3 VALUES(<dml_values_parameter>,<dml_values_parameter>); CREATE TABLE `t4` ( `ts` <dml_values_parameter>, `orderid` <dml_values_parameter> DEFAULT <dml_values_parameter>, UNIQUE KEY `key_1` (`orderid`)) ENGINE=<object_dependency_replace>; INSERT INTO t4 VALUES(<dml_values_parameter>,<dml_values_parameter>); SET GLOBAL log_bin_trust_function_creators=<dml_values_parameter>; DELIMITER // CREATE FUNCTION getByteLength(inputText <dml_values_parameter>) RETURNS <dml_values_parameter> BEGIN RETURN(<numeric_function_parameter>(inputText)); END// DELIMITER ; SELECT count(1) AS count FROM ( SELECT substring(fa, getByteLength(<dml_values_parameter>) + <numeric_function_parameter>) AS ide, ti FROM t1 WHERE cl = <dml_values_parameter> ) AS TEMP WHERE TEMP.ide IN ( SELECT /*+ SEMIJOIN(materialization) */ ap.Ide FROM t2 AS ap <join_operator_replace> t3 AS ex ON ap.Ide = ex.Ide WHERE ap.ctime <comparison_operator_replace> <dml_values_parameter> ) AND TEMP.ti IN ( SELECT orderid FROM t4 WHERE ts <in_operator_replace> ( <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter> ) );",
    "applied_rules": [
        "<dml_values_parameter>",
        "<object_dependency_replace>",
        "<numeric_function_parameter>",
        "<comparison_operator_replace>",
        "<in_operator_replace>",
        "<join_operator_replace>"
    ],
    "Affected Elements": "SELECT, WHERE, IN, JOIN, COUNT",
    "Root Cause Analysis": "The optimizer's decision to use materialization for the subquery leads to incorrect results in certain cases."
}
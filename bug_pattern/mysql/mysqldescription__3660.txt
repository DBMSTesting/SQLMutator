{
    "pattern": "CREATE TABLE `products` (`id` int(11) <constraint_type_parameter> AUTO_INCREMENT, `run_flat` tinyint(1) <constraint_type_parameter> DEFAULT '0', PRIMARY KEY (`id`), KEY `run_flat` (`run_flat`)) ENGINE=<object_dependency_replace> AUTO_INCREMENT=11 DEFAULT CHARSET=<dml_values_parameter>; CREATE TABLE `products_mapping` (`id` int(10) unsigned <constraint_type_parameter> AUTO_INCREMENT, `product_id` int(10) unsigned <constraint_type_parameter>, PRIMARY KEY (`id`), KEY `product_id` (`product_id`)) ENGINE=<object_dependency_replace> AUTO_INCREMENT=25 DEFAULT CHARSET=<dml_values_parameter>; INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products VALUES (<dml_values_parameter>, 0); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 1); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 1); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 2); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 2); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 3); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 4); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 5); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 6); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 6); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 6); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 6); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 7); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 7); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 8); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 9); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 10); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 10); INSERT INTO products_mapping VALUES (<dml_values_parameter>, 10); ANALYZE TABLE products; SHOW INDEXES FROM products; EXPLAIN EXTENDED SELECT product_id FROM products_mapping <join_operator_replace> products ON products.id = products_mapping.product_id;",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<object_dependency_replace>",
        "<dml_values_parameter>",
        "<join_operator_replace>"
    ],
    "Affected Elements": "JOIN, INDEX, ANALYZE TABLE, EXPLAIN",
    "Root Cause Analysis": "The optimizer incorrectly chooses a secondary index with low cardinality instead of the primary index for an index scan, leading to performance degradation."
}
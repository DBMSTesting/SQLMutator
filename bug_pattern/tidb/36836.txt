{
    "pattern": "CREATE TABLE `lineorder` ( `LO_ORDERKEY` int(11) <constraint_type_parameter>, `LO_LINENUMBER` int(11) <constraint_type_parameter>, `LO_CUSTKEY` int(11) <constraint_type_parameter>, `LO_PARTKEY` int(11) <constraint_type_parameter>, `LO_SUPPKEY` int(11) <constraint_type_parameter>, `LO_ORDERDATE` int(11) <constraint_type_parameter>, `LO_ORDPRIORITY` char(15) <constraint_type_parameter>, `LO_SHIPPRIORITY` char(1) <constraint_type_parameter>, `LO_QUANTITY` int(11) <constraint_type_parameter>, `LO_EXTENDEDPRICE` decimal(10,0) <constraint_type_parameter>, `LO_DISCOUNT` int(11) <constraint_type_parameter>, `LO_REVENUE` decimal(10,0) <constraint_type_parameter>, `LO_SUPPLYCOST` decimal(10,0) <constraint_type_parameter>, `LO_TAX` int(11) <constraint_type_parameter>, `LO_COMMITDATE` int(11) <constraint_type_parameter>, `LO_SHIPMODE` char(10) <constraint_type_parameter>, KEY `idx_lo_custkey` (`LO_CUSTKEY`), UNIQUE KEY `UK_ORDR_LINE` ((tidb_shard(`LO_ORDERKEY`)),`LO_ORDERKEY`,`LO_LINENUMBER`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin; CREATE TABLE `date` ( `D_DATEKEY` int(11) <constraint_type_parameter>, `D_DATE` varchar(18) <constraint_type_parameter>, `D_DATEOFWEEK` varchar(9) <constraint_type_parameter>, `D_MONTH` varchar(9) <constraint_type_parameter>, `D_YEAR` int(11) <constraint_type_parameter>, `D_YEARMONTHNUM` int(11) <constraint_type_parameter>, `D_YEARMONTH` char(7) <constraint_type_parameter>, `D_DAYNUMINWEEK` int(11) <constraint_type_parameter>, `D_DAYNUMINMONTH` int(11) <constraint_type_parameter>, `D_DAYNUMINYEAR` int(11) <constraint_type_parameter>, `D_MONTHNUMINYEAR` int(11) <constraint_type_parameter>, `D_WEEKNUMINYEAR` int(11) <constraint_type_parameter>, `D_SELLINGSEASON` char(15) <constraint_type_parameter>, `D_LASTDAYINWEEKFL` tinyint(1) <constraint_type_parameter>, `D_LASTDAYINMONTHFL` tinyint(1) <constraint_type_parameter>, `D_HOLIDAYFL` tinyint(1) <constraint_type_parameter>, `D_WEEKDAYFL` tinyint(1) <constraint_type_parameter>, PRIMARY KEY (`D_DATEKEY`), KEY `idx_d_date` (`D_DATE`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin; ALTER TABLE `lineorder` SET tiflash replica 1; ALTER TABLE `date` SET tiflash replica 1; EXPLAIN SELECT <aggregation_function_parameter> AS REVENUE FROM `lineorder`, `date` WHERE LO_ORDERDATE = D_DATEKEY AND D_YEAR = <where_parameter> AND LO_DISCOUNT <comparison_operator_replace> <dml_condition_replace> AND LO_QUANTITY<25;",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<aggregation_function_parameter>",
        "<where_parameter>",
        "<comparison_operator_replace>",
        "<dml_condition_replace>"
    ],
    "Affected Elements": "INSERT, SELECT, TIFLASH, JOIN",
    "Root Cause Analysis": "The query planner is not utilizing the MPP plan for the specified query due to configuration or optimization issues with the Tiflash replication."
}
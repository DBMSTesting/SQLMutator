{
    "pattern": "CREATE TABLE `gholla_dummy1` (`id` varchar(10) <constraint_enforce_replace>, `mark` int, `deleted_at` datetime(3) <dml_values_parameter> DEFAULT <dml_values_parameter>, `account_id` varchar(10) <constraint_enforce_replace>, `metastore_id` varchar(10) <constraint_enforce_replace>, `is_deleted` tinyint(1) GENERATED ALWAYS AS ((`deleted_at` <comparison_operator_parameter> <dml_values_parameter>)) VIRTUAL <constraint_enforce_replace>, PRIMARY KEY (`account_id`,`metastore_id`,`id`), KEY `isDeleted_accountId_metastoreId` (`is_deleted`,`account_id`,`metastore_id`)) ENGINE=<object_dependency_replace> DEFAULT CHARSET=<object_dependency_replace> COLLATE=<object_dependency_replace>; CREATE TABLE `gholla_dummy2` (`id` varchar(10) <constraint_enforce_replace>, `mark` int, `deleted_at` datetime(3) <dml_values_parameter> DEFAULT <dml_values_parameter>, `account_id` varchar(10) <constraint_enforce_replace>, `metastore_id` varchar(10) <constraint_enforce_replace>, `is_deleted` tinyint(1) GENERATED ALWAYS AS ((`deleted_at` <comparison_operator_parameter> <dml_values_parameter>)) VIRTUAL <constraint_enforce_replace>, PRIMARY KEY (`account_id`,`metastore_id`,`id`), KEY `isDeleted_accountId_metastoreId` (`is_deleted`,`account_id`,`metastore_id`)) ENGINE=<object_dependency_replace> DEFAULT CHARSET=<object_dependency_replace> COLLATE=<object_dependency_replace>; INSERT INTO gholla_dummy1 (id,mark,deleted_at,account_id,metastore_id) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>); INSERT INTO gholla_dummy2 (id,mark,deleted_at,account_id,metastore_id) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>); start transaction; update gholla_dummy2 set deleted_at = <dml_values_parameter>, mark=<dml_values_parameter> where account_id = <dml_values_parameter> and metastore_id = <dml_values_parameter> and id = <dml_values_parameter>; select g1.account_id, g2.mark from gholla_dummy1 g1 <join_operator_replace> gholla_dummy2 g2 <join_operator_replace> ON g1.account_id = <dml_values_parameter> AND g1.metastore_id = <dml_values_parameter> AND g1.id = <dml_values_parameter> WHERE g1.account_id = <dml_values_parameter> AND g1.metastore_id = <dml_values_parameter> AND g1.is_deleted = <dml_values_parameter> AND g2.is_deleted = <dml_values_parameter>;",
    "applied_rules": [
        "<constraint_enforce_replace>",
        "<dml_values_parameter>",
        "<comparison_operator_parameter>",
        "<object_dependency_replace>",
        "<join_operator_replace>"
    ],
    "Affected Elements": "SELECT, UPDATE, VIRTUAL COLUMNS, TRANSACTION",
    "Root Cause Analysis": "The virtual column `is_deleted` is not being updated correctly in the context of the transaction, leading to stale data being read."
}
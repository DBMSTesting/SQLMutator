{
    "pattern": "CREATE DATABASE IF NOT EXISTS <database_name_parameter>; CREATE TABLE IF NOT EXISTS <database_name_parameter>.<table_name_parameter>(<column_name_parameter> INT); INSERT INTO <database_name_parameter>.<table_name_parameter>(<column_name_parameter>) VALUES (<dml_values_parameter>); RENAME TABLE <database_name_parameter>.<table_name_parameter> TO <database_name_parameter>.<table_name_parameter>; DROP TABLE <database_name_parameter>.<table_name_parameter>; DROP DATABASE <database_name_parameter>; CREATE DATABASE <database_name_parameter>; CREATE TABLE <database_name_parameter>.<table_name_parameter> (c2 CHAR(255)); RENAME TABLE <database_name_parameter>.<table_name_parameter> TO <database_name_parameter>.<table_name_parameter>; TRUNCATE TABLE <database_name_parameter>.<table_name_parameter>; CREATE TABLE IF NOT EXISTS <database_name_parameter>.<table_name_parameter> (c CHAR(255)); RENAME TABLE <database_name_parameter>.<table_name_parameter> TO <database_name_parameter>.<table_name_parameter>; INSERT INTO <database_name_parameter>.<table_name_parameter>(c2) VALUES ('<dml_values_parameter>'); INSERT INTO <database_name_parameter>.<table_name_parameter>(c) VALUES ('<dml_values_parameter>'); last_backup_ts=$(<command_name_parameter> --field=\"end-version\" -s \"local://backup/<database_name_parameter>/full\" | grep -oE \"^[0-9]+\" ); <command_name_parameter> --pd <pd_address_parameter> backup <database_name_parameter> -s \"local://backup/<database_name_parameter>/inc\" --db <database_name_parameter> --lastbackupts $last_backup_ts; <command_name_parameter> restore table --db <database_name_parameter> --table <table_name_parameter> -s \"local://backup/<database_name_parameter>/full\" --pd <pd_address_parameter> --ddl-batch-size=128; run_<command_name_parameter> restore db --db <database_name_parameter> -s \"local://backup/<database_name_parameter>/inc\" --pd <pd_address_parameter> --ddl-batch-size=128; INSERT INTO <database_name_parameter>.<table_name_parameter>(c2) VALUES ('<dml_values_parameter>'); INSERT INTO <database_name_parameter>.<table_name_parameter>(c) VALUES ('<dml_values_parameter>');",
    "applied_rules": [
        "<database_name_parameter>",
        "<table_name_parameter>",
        "<column_name_parameter>",
        "<dml_values_parameter>",
        "<command_name_parameter>",
        "<pd_address_parameter>"
    ],
    "Affected Elements": "INSERT INTO, RENAME TABLE, DROP TABLE, TRUNCATE TABLE",
    "Root Cause Analysis": "在恢复后，表的主键冲突导致插入操作失败，可能是由于增量备份未正确处理主键约束。"
}
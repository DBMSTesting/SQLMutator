{
    "pattern": "CREATE DATABASE <database_name_parameter>; USE <database_name_parameter>; CREATE TABLE <table_name_parameter> ( `id` int(11) NOT NULL <constraint_enforce_replace>, `ean` text, `title` text, `category` text, `vendor` text, `price` double DEFAULT NULL, `rating` double DEFAULT NULL, `created_at` timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:01.000', PRIMARY KEY (`id`) ) ENGINE=<engine_type_parameter> <auto_increment_parameter> DEFAULT CHARSET=<charset_parameter>; CREATE TABLE <table_name_parameter> ( `id` int(11) NOT NULL <constraint_enforce_replace>, `address` text, `email` text, `password` text, `name` text, `city` text, `longitude` double DEFAULT NULL, `state` text, `source` text, `birth_date` date DEFAULT NULL, `zip` text, `latitude` double DEFAULT NULL, `created_at` timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:01.000', PRIMARY KEY (`id`) ) ENGINE=<engine_type_parameter> <auto_increment_parameter> DEFAULT CHARSET=<charset_parameter>; CREATE TABLE <table_name_parameter> ( `id` int(11) NOT NULL <constraint_enforce_replace>, `product_id` int(11) DEFAULT NULL, `reviewer` text, `rating` int(11) DEFAULT NULL, `body` text, `created_at` timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:01.000', PRIMARY KEY (`id`), KEY `product_id_products` (`product_id`), CONSTRAINT `product_id_products` FOREIGN KEY (`product_id`) REFERENCES <table_name_parameter> (`id`) ) ENGINE=<engine_type_parameter> <auto_increment_parameter> DEFAULT CHARSET=<charset_parameter>; CREATE TABLE <table_name_parameter> ( `id` int(11) NOT NULL <constraint_enforce_replace>, `user_id` int(11) DEFAULT NULL, `product_id` int(11) DEFAULT NULL, `subtotal` double DEFAULT NULL, `tax` double DEFAULT NULL, `total` double DEFAULT NULL, `discount` double DEFAULT NULL, `created_at` timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:01.000', `quantity` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `user_id_people` (`user_id`), KEY `product_id_products` (`product_id`), CONSTRAINT `user_id_people` FOREIGN KEY (`user_id`) REFERENCES <table_name_parameter> (`id`), CONSTRAINT `product_id_products` FOREIGN KEY (`product_id`) REFERENCES <table_name_parameter> (`id`) ) ENGINE=<engine_type_parameter> <auto_increment_parameter> DEFAULT CHARSET=<charset_parameter>; SELECT <select_parameter> FROM <information_schema_parameter>.REFERENTIAL_CONSTRAINTS;",
    "applied_rules": [
        "<database_name_parameter>",
        "<table_name_parameter>",
        "<constraint_enforce_replace>",
        "<engine_type_parameter>",
        "<auto_increment_parameter>",
        "<charset_parameter>",
        "<select_parameter>",
        "<information_schema_parameter>"
    ],
    "Affected Elements": "INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS, FOREIGN KEY constraints",
    "Root Cause Analysis": "The bug arises from the TiDB version not populating the INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS table despite the existence of foreign key constraints."
}
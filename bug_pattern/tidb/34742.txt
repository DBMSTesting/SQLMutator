{
    "pattern": "CREATE TABLE IF NOT EXISTS user_test_partition (id INT <constraint_type_parameter>, name VARCHAR(64) <constraint_type_parameter>, phone VARCHAR(16) <constraint_type_parameter>, gender TINYINT <constraint_type_parameter>, age TINYINT <constraint_type_parameter> DEFAULT <dml_values_parameter>, created_at BIGINT <constraint_type_parameter> DEFAULT <dml_values_parameter>, PRIMARY KEY (id)) ENGINE=<object_dependency_replace> DEFAULT CHARSET=<object_dependency_replace> PARTITION BY RANGE(id) (PARTITION p0 VALUES LESS THAN (<dml_values_parameter>), PARTITION p1 VALUES LESS THAN (<dml_values_parameter>), PARTITION p2 VALUES LESS THAN (<dml_values_parameter>)); CREATE TABLE IF NOT EXISTS user_test_no_partition (id INT <constraint_type_parameter>, name VARCHAR(64) <constraint_type_parameter>, phone VARCHAR(16) <constraint_type_parameter>, gender TINYINT <constraint_type_parameter>, age TINYINT <constraint_type_parameter> DEFAULT <dml_values_parameter>, created_at BIGINT <constraint_type_parameter> DEFAULT <dml_values_parameter>, PRIMARY KEY (id)) ENGINE=<object_dependency_replace> DEFAULT CHARSET=<object_dependency_replace>; INSERT INTO user_test_partition (name, phone, gender, age, created_at) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>), (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>), ...; INSERT INTO user_test_no_partition (name, phone, gender, age, created_at) VALUES (<dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>, <dml_values_parameter>), ...; ALTER TABLE user_test_partition EXCHANGE PARTITION p0 WITH TABLE user_test_no_partition; EXECUTE <dml_values_parameter>;",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<dml_values_parameter>",
        "<object_dependency_replace>"
    ],
    "Affected Elements": "ALTER TABLE, EXCHANGE PARTITION, INSERT",
    "Root Cause Analysis": "The root cause of the bug appears to be a failure in the restoration process that leads to incorrect data state in the exchanged partition and the table, indicating potential issues with how partitioned tables are handled during Point-in-Time Recovery (PiTR)."
}
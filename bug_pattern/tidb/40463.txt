{
    "pattern": "CREATE TABLE `<object_name_parameter>` ( `<column_name_parameter>` enum('<enum_values_parameter>') NOT NULL DEFAULT '<default_value_parameter>', `<column_name_parameter>` set('<set_values_parameter>') NOT NULL DEFAULT '<default_value_parameter>', PRIMARY KEY (`<column_name_parameter>`,`<column_name_parameter>`) /*T![clustered_index] <index_type_replace> */ ) ENGINE=<engine_type_parameter> DEFAULT CHARSET=<charset_parameter> COLLATE=<collation_parameter>; INSERT INTO `<object_name_parameter>` VALUES ('<value_parameter>','<value_parameter>'),('<value_parameter','<value_parameter>'); CREATE TABLE `<object_name_parameter>` ( `<column_name_parameter>` set('<set_values_parameter>') DEFAULT '<default_value_parameter>', `<column_name_parameter>` set('<set_values_parameter>') DEFAULT '<default_value_parameter>', `<column_name_parameter>` year(4) DEFAULT '<default_value_parameter>', UNIQUE KEY `<unique_key_name_parameter>` (`<column_name_parameter>`), KEY `<key_name_parameter>` (`<column_name_parameter>`,`<column_name_parameter>`) ) ENGINE=<engine_type_parameter> DEFAULT CHARSET=<charset_parameter> COLLATE=<collation_parameter> /*T! <shard_row_id_bits_replace> */; INSERT INTO `<object_name_parameter>` VALUES ('<value_parameter>', '<value_parameter>', <value_parameter>); CREATE TABLE `<object_name_parameter>` ( `<column_name_parameter>` bigint(20) NOT NULL DEFAULT '<default_value_parameter>', `<column_name_parameter>` date NOT NULL DEFAULT '<default_value_parameter>', `<column_name_parameter>` decimal(7,5) DEFAULT '<default_value_parameter>', `<column_name_parameter>` float DEFAULT '<default_value_parameter>', PRIMARY KEY (`<column_name_parameter>`,`<column_name_parameter>`) /*T![clustered_index] <index_type_replace> */, KEY `<key_name_parameter>` (`<column_name_parameter>`), KEY `<key_name_parameter>` (`<column_name_parameter>`), KEY `<key_name_parameter>` (`<column_name_parameter>`), KEY `<key_name_parameter>` (`<column_name_parameter>`), KEY `<key_name_parameter>` (`<column_name_parameter>`) ) ENGINE=<engine_type_parameter> DEFAULT CHARSET=<charset_parameter> COLLATE=<collation_parameter>; SET sql_mode=''; INSERT INTO `<object_name_parameter>` VALUES (<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>),(<value_parameter>,'<value_parameter>',<value_parameter>,<value_parameter>); SELECT /*+ use_index_merge(`<object_name_parameter>`) */ /*+ stream_agg() */ approx_percentile(`<object_name_parameter>`.`<column_name_parameter>`, <percentile_value_parameter>) AS r0, `<object_name_parameter>`.`<column_name_parameter>` AS r1 FROM `<object_name_parameter>` WHERE NOT(IsNull(`<object_name_parameter>`.`<column_name_parameter>`)) AND NOT(`<object_name_parameter>`.`<column_name_parameter>` IN (SELECT `<column_name_parameter>` FROM `<object_name_parameter>` WHERE `<object_name_parameter>`.`<column_name_parameter>` IN (SELECT `<column_name_parameter>` FROM `<object_name_parameter>` WHERE NOT(`<object_name_parameter>`.`<column_name_parameter>` BETWEEN '<value_parameter>' AND '<value_parameter>') AND NOT(`<object_name_parameter>`.`<column_name_parameter>` IN (SELECT `<column_name_parameter>` FROM `<object_name_parameter>` WHERE IsNull(`<object_name_parameter>`.`<column_name_parameter>`) OR NOT(`<object_name_parameter>`.`<column_name_parameter>` IN (SELECT `<column_name_parameter>` FROM `<object_name_parameter>` WHERE IsNull(`<object_name_parameter>`.`<column_name_parameter>`) AND NOT(`<object_name_parameter>`.`<column_name_parameter>` BETWEEN '<value_parameter>' AND '<value_parameter>')))))))) GROUP BY `<object_name_parameter>`.`<column_name_parameter>`;",
    "applied_rules": [
        "<object_name_parameter>",
        "<column_name_parameter>",
        "<enum_values_parameter>",
        "<default_value_parameter>",
        "<set_values_parameter>",
        "<unique_key_name_parameter>",
        "<key_name_parameter>",
        "<engine_type_parameter>",
        "<charset_parameter>",
        "<collation_parameter>",
        "<shard_row_id_bits_replace>",
        "<percentile_value_parameter>",
        "<value_parameter>"
    ],
    "Affected Elements": "approx_percentile, GROUP BY, NOT(ISNULL), IN, BETWEEN",
    "Root Cause Analysis": "The panic occurs due to an index out of range error during parallel hash aggregation, likely caused by an empty set of results being processed."
}
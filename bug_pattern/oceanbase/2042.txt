{
    "pattern": "CREATE TABLE `tc` ( `id` bigint unsigned NOT NULL COMMENT '主键ID', `merchant_id` int unsigned NOT NULL COMMENT '商户ID', `user_id` int unsigned NOT NULL COMMENT '用户ID', `mid` SMALLINT UNSIGNED GENERATED ALWAYS AS ( (id & <numeric_function_parameter>) >> <numeric_function_parameter> ) VIRTUAL, `uid` TINYINT UNSIGNED GENERATED ALWAYS AS ( id & <numeric_function_parameter> ) VIRTUAL, PRIMARY KEY (`id`) USING <index_type_parameter> ) DEFAULT CHARSET=<charset_parameter> COLLATE=<collation_parameter> PARTITION BY LIST (mid) SUBPARTITION BY HASH (uid) SUBPARTITIONS <subpartition_number_parameter> (PARTITION P0 VALUES IN ( <partition_value_parameter> ), PARTITION P1 VALUES IN ( <partition_value_parameter> ), PARTITION P2 VALUES IN ( <partition_value_parameter> ), PARTITION P3 VALUES IN ( <partition_value_parameter> ), PARTITION P4 VALUES IN ( <partition_value_parameter> ), PARTITION P5 VALUES IN ( <partition_value_parameter> ), PARTITION P6 VALUES IN ( <partition_value_parameter> ), PARTITION P7 VALUES IN ( <partition_value_parameter> ), PARTITION P8 VALUES IN ( <partition_value_parameter> ), PARTITION P9 VALUES IN ( <partition_value_parameter> ), PARTITION P10 VALUES IN ( <partition_value_parameter> ), PARTITION P11 VALUES IN ( <partition_value_parameter> ), PARTITION P12 VALUES IN ( <partition_value_parameter> ), PARTITION P13 VALUES IN ( <partition_value_parameter> ), PARTITION P14 VALUES IN ( <partition_value_parameter> ), PARTITION P15 VALUES IN ( <partition_value_parameter> ), PARTITION P16 VALUES IN ( <partition_value_parameter> ), PARTITION P17 VALUES IN ( <partition_value_parameter> ), PARTITION P18 VALUES IN ( <partition_value_parameter> ), PARTITION P19 VALUES IN ( <partition_value_parameter> ), PARTITION P20 VALUES IN ( <partition_value_parameter> ), PARTITION P21 VALUES IN ( <partition_value_parameter> ), PARTITION P22 VALUES IN ( <partition_value_parameter> ), PARTITION P23 VALUES IN ( <partition_value_parameter> ), PARTITION P24 VALUES IN ( <partition_value_parameter> ), PARTITION P25 VALUES IN ( <partition_value_parameter> ), PARTITION P26 VALUES IN ( <partition_value_parameter> ), PARTITION P27 VALUES IN ( <partition_value_parameter> ), PARTITION P28 VALUES IN ( <partition_value_parameter> ), PARTITION P29 VALUES IN ( <partition_value_parameter> ), PARTITION P30 VALUES IN ( <partition_value_parameter> ), PARTITION P31 VALUES IN ( <partition_value_parameter> )); ALTER TABLE tc ADD CONSTRAINT cst_tc_uid CHECK ( uid = (user_id & <numeric_function_parameter>) ); ALTER TABLE tc ADD CONSTRAINT cst_tc_mid CHECK ( mid = (merchant_id & <numeric_function_parameter>) ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); INSERT INTO tc (id, merchant_id, user_id) VALUES ( <dml_values_parameter> ); EXPLAIN SELECT * FROM tc WHERE merchant_id = <where_parameter> AND user_id = <where_parameter>; EXPLAIN SELECT * FROM tc WHERE merchant_id = <where_parameter> AND user_id = <where_parameter>;",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<dml_values_parameter>",
        "<numeric_function_parameter>",
        "<index_type_parameter>",
        "<charset_parameter>",
        "<collation_parameter>",
        "<subpartition_number_parameter>",
        "<partition_value_parameter>",
        "<where_parameter>"
    ],
    "Affected Elements": "PARTITION BY, SUBPARTITION BY, CHECK CONSTRAINTS",
    "Root Cause Analysis": "The partition pruning optimization logic may be incorrectly implemented, causing the query to access more partitions than necessary."
}
{
    "pattern": "CREATE TABLE table_3_utf8_undef (pk INT <constraint_type_parameter>, col_bigint_undef_signed BIGINT, col_bigint_undef_unsigned BIGINT UNSIGNED, col_bigint_key_signed BIGINT, col_bigint_key_unsigned BIGINT UNSIGNED, col_float_undef_signed FLOAT, col_float_undef_unsigned FLOAT UNSIGNED, col_float_key_signed FLOAT, col_float_key_unsigned FLOAT UNSIGNED, col_double_undef_signed DOUBLE, col_double_undef_unsigned DOUBLE UNSIGNED, col_double_key_signed DOUBLE, col_double_key_unsigned DOUBLE UNSIGNED, col_decimal(40, 20)_undef_signed DECIMAL(40, 20), col_decimal(40, 20)_undef_unsigned DECIMAL(40, 20) UNSIGNED, col_decimal(40, 20)_key_signed DECIMAL(40, 20), col_decimal(40, 20)_key_unsigned DECIMAL(40, 20) UNSIGNED, col_char(20)_undef_signed CHAR(20), col_char(20)_key_signed CHAR(20), col_varchar(20)_undef_signed VARCHAR(20), col_varchar(20)_key_signed VARCHAR(20), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>)) CHARACTER SET utf8; INSERT INTO table_3_utf8_undef <dml_values_parameter>; CREATE TABLE table_7_utf8_undef (pk INT <constraint_type_parameter>, col_bigint_undef_signed BIGINT, col_bigint_undef_unsigned BIGINT UNSIGNED, col_bigint_key_signed BIGINT, col_bigint_key_unsigned BIGINT UNSIGNED, col_float_undef_signed FLOAT, col_float_undef_unsigned FLOAT UNSIGNED, col_float_key_signed FLOAT, col_float_key_unsigned FLOAT UNSIGNED, col_double_undef_signed DOUBLE, col_double_undef_unsigned DOUBLE UNSIGNED, col_double_key_signed DOUBLE, col_double_key_unsigned DOUBLE UNSIGNED, col_decimal(40, 20)_undef_signed DECIMAL(40, 20), col_decimal(40, 20)_undef_unsigned DECIMAL(40, 20) UNSIGNED, col_decimal(40, 20)_key_signed DECIMAL(40, 20), col_decimal(40, 20)_key_unsigned DECIMAL(40, 20) UNSIGNED, col_char(20)_undef_signed CHAR(20), col_char(20)_key_signed CHAR(20), col_varchar(20)_undef_signed VARCHAR(20), col_varchar(20)_key_signed VARCHAR(20), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>), KEY (<dml_values_parameter>)) CHARACTER SET utf8; INSERT INTO table_7_utf8_undef <dml_values_parameter>; WITH MYWITH AS ((SELECT (~f4) AS f1, (DATE_ADD(f4, INTERVAL 1 WEEK)) AS f2, (f5) AS f3 FROM (SELECT col_double_key_signed AS f4, col_bigint_undef_signed AS f5, col_char(20)_key_signed AS f6 FROM table_3_utf8_undef USE INDEX (<index_parameter>, <index_parameter>)) AS t1 WHERE <where_parameter> HAVING (NOT ((BINARY <value_parameter> - f2) <= (CHARSET(f3) % f1))) OR (NOT (CAST((f2) AS CHAR) NOT LIKE _UTF8MB4'%0%')) AND (CAST((f2) AS CHAR) NOT LIKE _UTF8MB4'%0%')) UNION ALL (SELECT (CHARSET(1)) AS f1, (LOG10(<value_parameter>)) AS f2, (UNIX_TIMESTAMP(_UTF8MB4'<date_value>')) AS f3 FROM (SELECT col_bigint_key_signed AS f7, col_float_undef_unsigned AS f10, col_varchar(20)_undef_signed AS f9 FROM table_7_utf8_undef) AS t2 JOIN (SELECT col_double_undef_unsigned AS f11, col_decimal(40, 20)_undef_unsigned AS f8, col_char(20)_key_signed AS f12 FROM table_3_utf8_undef USE INDEX (<index_parameter>)) AS t3)) SELECT * FROM MYWITH; WITH MYWITH AS ((SELECT (~f4) AS f1, (DATE_ADD(f4, INTERVAL 1 WEEK)) AS f2, (f5) AS f3 FROM (SELECT col_double_key_signed AS f4, col_bigint_undef_signed AS f5, col_char(20)_key_signed AS f6 FROM table_3_utf8_undef USE INDEX (<index_parameter>, <index_parameter>)) AS t1 WHERE <where_parameter> HAVING (NOT ((BINARY <value_parameter> - f2) <= (CHARSET(f3) % f1))) OR (NOT (CAST((f2) AS CHAR) NOT LIKE _UTF8MB4'%0%')) AND (CAST((f2) AS CHAR) NOT LIKE _UTF8MB4'%0%')) UNION ALL (SELECT (CHARSET(1)) AS f1, (LOG10(<value_parameter>)) AS f2, (UNIX_TIMESTAMP(_UTF8MB4'<date_value>')) AS f3 FROM (SELECT col_bigint_key_signed AS f7, col_float_undef_unsigned AS f10, col_varchar(20)_undef_signed AS f9 FROM table_7_utf8_undef) AS t2 JOIN (SELECT col_double_undef_unsigned AS f11, col_decimal(40, 20)_undef_unsigned AS f8, col_char(20)_key_signed AS f12 FROM table_3_utf8_undef USE INDEX (<index_parameter>)) AS t3)) SELECT * FROM MYWITH;",
    "applied_rules": [
        "<constraint_type_parameter>",
        "<dml_values_parameter>",
        "<where_parameter>",
        "<index_parameter>",
        "<value_parameter>",
        "<date_value>"
    ],
    "Affected Elements": "WHERE clause, HAVING clause, UNION ALL",
    "Root Cause Analysis": "The root cause appears to be the inconsistency in how the conditions are evaluated, leading to unexpected results when applying more restrictive filters."
}
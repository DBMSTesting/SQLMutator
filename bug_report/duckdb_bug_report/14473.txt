ID: 14473
Title: Convert the shell from C to C++
Description:
Previously we have tried to keep the CLI code as close to the original as possible - but given we have already made many modifications at this point, we should transition away from the original C code-base. This PR starts the process by converting the shell code to valid C++.
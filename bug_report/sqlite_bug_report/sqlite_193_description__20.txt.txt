CREATE TABLE t0(c0 INT);
INSERT INTO t0 VALUES(0);
CREATE VIEW v0(c0) AS SELECT CAST(t0.c0 AS INTEGER) FROM t0;
CREATE TABLE t1_a(a INTEGER PRIMARY KEY, b TEXT);
INSERT INTO t1_a VALUES(1,'one'),(4,'four');
CREATE TABLE t1_b(c INTEGER PRIMARY KEY, d TEXT);
INSERT INTO t1_b VALUES(2,'two'),(5,'five');
CREATE VIEW t1 AS 
  SELECT a, b FROM t1_a   UNION ALL
  SELECT c, c FROM t1_b;
SELECT * FROM (
  SELECT t1.a AS a, t1.b AS b, t0.c0 AS c, v0.c0 AS d
    FROM t0 LEFT JOIN v0 ON v0.c0>'0',t1
) AS t2 WHERE b='2';
.testctrl optimization 1
SELECT * FROM (
  SELECT t1.a, t1.b, t0.c0 AS c, v0.c0 AS d
    FROM t0 LEFT JOIN v0 ON v0.c0>'0',t1
) AS t2 WHERE b='2';
CREATE VIEW dual(dummay) AS SELECT 'X';
SELECT x, typeof(x) FROM (SELECT CAST(4.0 AS NUMERIC) AS x) JOIN dual;
SELECT x, typeof(x) FROM (SELECT CAST(4.0 AS NUMERIC) AS x) CROSS JOIN dual;


ID: 6746
Title: Segfault: alter UInt8 -> Nullable(UInt8)
Description:
I launched this query `alter table mytable modify column type Nullable(UInt8);` through clickhouse-client that resulted to segfault.

The table's schema is:

```sql
CREATE TABLE IF NOT EXISTS mytable
(
    fetched_at DateTime,
    id1 UUID,
    id2 UUID,
    id3 UUID,
    id4 UUID,
    id5 UUID,
    inin UInt64,
    outout UInt64,
    in Nullable(UInt64),
    out Nullable(UInt64),
    type UInt8
)
ENGINE = MergeTree
PARTITION BY toDate(fetched_at)
ORDER BY (id4, id3, id5, id2);
```

<details><summary>Error log output</summary>
2019.08.30 11:47:32.781799 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.781814 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 185) Received signal Segmentation fault (11).
2019.08.30 11:47:32.781835 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.781849 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.781866 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.781878 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 223) Received signal Segmentation fault (11).
2019.08.30 11:47:32.781891 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.781904 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.781933 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.781946 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 164) Received signal Segmentation fault (11).
2019.08.30 11:47:32.781959 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.781971 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.781994 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782006 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 264) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782024 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782041 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782064 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782077 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 289) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782089 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782102 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782127 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782151 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 188) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782163 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782175 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782195 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782211 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 171) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782223 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782235 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782251 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782262 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 276) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782274 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782286 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782310 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782322 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 73) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782334 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782346 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782370 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782381 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 211) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782393 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782405 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:32.782421 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:32.782432 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 147) Received signal Segmentation fault (11).
2019.08.30 11:47:32.782444 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:32.782456 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:33.924241 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:33.924290 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 51) Received signal Segmentation fault (11).
2019.08.30 11:47:33.924314 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:33.924341 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:36.383602 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:36.383650 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 193) Received signal Segmentation fault (11).
2019.08.30 11:47:36.383674 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:36.383701 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:36.978698 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:36.978745 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 126) Received signal Segmentation fault (11).
2019.08.30 11:47:36.978770 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:36.978797 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]

2019.08.30 11:47:37.312247 [ 298 ] {} <Error> BaseDaemon: ########################################
2019.08.30 11:47:37.312280 [ 298 ] {} <Error> BaseDaemon: (version 19.13.1.11 (official build)) (from thread 44) Received signal Segmentation fault (11).
2019.08.30 11:47:37.312295 [ 298 ] {} <Error> BaseDaemon: Address: 0x188 Access: read. Address not mapped to object.
2019.08.30 11:47:37.312314 [ 298 ] {} <Error> BaseDaemon: 0. clickhouse-server(StackTrace::StackTrace(ucontext_t const&)+0x31) [0x7f58f71]
1. clickhouse-server() [0x3d9d2fe]
2. /lib/x86_64-linux-gnu/libpthread.so.0(+0x110e0) [0x7fbb7a8070e0]
3. clickhouse-server() [0x753e164]
4. clickhouse-server(DB::DataTypeNullable::enumerateStreams(std::function<void (std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> > const&)> const&, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&) const+0x9b) [0x6c96f1b]
5. clickhouse-server(DB::IMergedBlockOutputStream::writeFinalMark(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::shared_ptr<DB::IDataType const>, std::set<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >&, bool, std::vector<DB::IDataType::Substream, std::allocator<DB::IDataType::Substream> >&)+0xb0) [0x753ac60]
6. clickhouse-server(DB::MergedColumnOnlyOutputStream::writeSuffixAndGetChecksums()+0x259) [0x70cd9e9]
7. clickhouse-server(DB::MergeTreeData::alterDataPart(DB::NamesAndTypesList const&, std::vector<std::shared_ptr<DB::ASTIndexDeclaration>, std::allocator<std::shared_ptr<DB::ASTIndexDeclaration> > > const&, bool, std::unique_ptr<DB::MergeTreeData::AlterDataPartTransaction, std::default_delete<DB::MergeTreeData::AlterDataPartTransaction> >&)+0x7cf) [0x704784f]
8. clickhouse-server(ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::_List_iterator<ThreadFromGlobalPool>)+0x1a7) [0x3c74537]
9. clickhouse-server(ThreadFromGlobalPool::ThreadFromGlobalPool<ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}>(ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::function<void ()>, int, std::optional<unsigned long>)::{lambda()#3}&&)::{lambda()#1}::operator()() const+0x3e) [0x3c74b1e]
10. clickhouse-server(ThreadPoolImpl<std::thread>::worker(std::_List_iterator<std::thread>)+0x1a6) [0x3c72046]
11. clickhouse-server() [0xba2baa0]
12. /lib/x86_64-linux-gnu/libpthread.so.0(+0x74a4) [0x7fbb7a7fd4a4]
13. /lib/x86_64-linux-gnu/libc.so.6(clone+0x3f) [0x7fbb7a037d0f]
</details>

Version 19.13.1.11


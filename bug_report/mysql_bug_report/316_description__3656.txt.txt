
DROP TABLE TEST;
CREATE TABLE TEST (col1 int, col2 varchar(10), primary key (col1));
INSERT INTO TEST VALUES (1,'aaa');
INSERT INTO TEST VALUES (2,'bbb');
INSERT INTO TEST VALUES (3,'ccc');
INSERT INTO TEST VALUES (4,'ddd');
INSERT INTO TEST VALUES (5,'eee');
INSERT INTO TEST VALUES (6,'fff');
INSERT INTO TEST VALUES (7,'aaa');
INSERT INTO TEST VALUES (8,'aaa');
INSERT INTO TEST VALUES (9,'aaa');
INSERT INTO TEST VALUES (10,'aaa');
INSERT INTO TEST VALUES (11,'bbb');
COMMIT;
CREATE INDEX IDX1 ON TEST (col2);
DROP TABLE innodb_lock_monitor;
CREATE TABLE innodb_lock_monitor (i int not null) engine = innodb;
SELECT col1, col2 FROM TEST WHERE col2 = 'aaa' OR col2 = 'bbb' ORDER BY col1 DESC LIMIT 1 FOR UPDATE;
SELECT col1, col2 FROM TEST WHERE col2 = 'aaa' OR col2 = 'bbb' ORDER BY col1 DESC, col2 ASC LIMIT 1;
EXPLAIN SELECT col1, col2 FROM TEST WHERE col2 = 'aaa' OR col2 = 'bbb' ORDER BY col1 DESC;
EXPLAIN SELECT col1, col2 FROM TEST WHERE col2 = 'aaa' OR col2 = 'bbb' ORDER BY col1 DESC, col2 ASC;
SELECT * FROM TAZ_GATEWAY_QUEUE gq ORDER BY gq.PRIORITY, gq.DATE_CREATED LIMIT 1 FOR UPDATE;

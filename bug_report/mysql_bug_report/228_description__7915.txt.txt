
DROP FUNCTION IF EXISTS f1;
DROP TABLE IF EXISTS t1, t2;
CREATE FUNCTION f1(p1 INT) RETURNS INT NO SQL RETURN p1;
CREATE TABLE t1 (id INT NOT NULL);
INSERT INTO t1 VALUES (1), (2);
CREATE TABLE t2 (id INT NOT NULL);
INSERT INTO t2 VALUES (0), (1);
SELECT IF(COUNT(t1.id) > 0, "Success", "Failure") "Result"
FROM t1 WHERE 1 IN (SELECT t1_inner.id FROM t1 t1_inner INNER JOIN t2 WHERE f1(t2.id) > 0);
SELECT IF(COUNT(t1.id) > 0, "Success", "Failure") "Result"
FROM t1 WHERE 1 IN (SELECT t1_inner.id FROM t1 t1_inner INNER JOIN t2 WHERE t2.id > 0);
DROP FUNCTION f1;
DROP TABLE t1, t2;

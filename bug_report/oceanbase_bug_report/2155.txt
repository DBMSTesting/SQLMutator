ID: 2155
Title: [Bug]: 使用oceanbase-client-2.4.0.jar进行开发，调用resultSet.getMetaData().getColumnDisplaySize()方法获取列长度不准确 || [Bug]: Using oceanbase-client-2.4.0.jar for development, calling the resultSet.getMetaData().getColumnDisplaySize() method to obtain the column length is inaccurate
Description:
最近我们公司的项目在做oceanbase-orcale数据库适配，开发中遇到了一些问题
以下是创表语句：
```sql
CREATE TABLE TESTDB.LKG_STT(
    STAFF_ID VARCHAR2(18),

    STAFF_MNAME VARCHAR2(20),
    PAR_NUM VARCHAR2(14)

);
```

以下是java代码：
```java
    public static void main(String[] args) throws IOException, SQLException, ClassNotFoundException {
        //com.alipay.oceanbase.jdbc.Driver    oracle.jdbc.driver.OracleDriver
        Connection connection = createCon("com.alipay.oceanbase.jdbc.Driver");
        Statement statement = connection.createStatement();
        DatabaseMetaData metaData = connection.getMetaData();
        System.out.println("------------------------------------------");
        ResultSet resultSet = statement.executeQuery("select * from TESTDB.LKG_STT");
        ResultSetMetaData rsmd = resultSet.getMetaData();
        int size = rsmd.getColumnCount();
        for (int i = 1; i <= size; i++) {
          System.out.println(rsmd.getColumnName(i)+"   "+ rsmd.getColumnTypeName(i)+"   "+rsmd.getColumnDisplaySize(i));
        }
    }
```
执行以上代码后结果输出为：
------------------------------------------
```
STAFF_ID   VARCHAR2   4
STAFF_MNAME   VARCHAR2   5
PAR_NUM   VARCHAR2   3

Process finished with exit code 0    
```
 
数据库是oracle模式，获取的列长度和数据库里面的长度不一样。

同样代码，使用oracle数据库建一个相同结构的表，更换java驱动类，输出结果为：

![1729919500758](https://github.com/user-attachments/assets/d6cf5c4d-df21-4242-a311-2ad68d984d3c)

<!--This is a translation content dividing line, the content below is generated by machine, please do not modify the content below-->
---
Recently, our company's project is adapting the oceanbase-orcale database, and we encountered some problems during development.
The following is the table creation statement:
```sql
CREATE TABLE TESTDB.LKG_STT(
    STAFF_ID VARCHAR2(18),

    STAFF_MNAME VARCHAR2(20),
    PAR_NUM VARCHAR2(14)

);
```

The following is the java code:
```java
    public static void main(String[] args) throws IOException, SQLException, ClassNotFoundException {
        //com.alipay.oceanbase.jdbc.Driver oracle.jdbc.driver.OracleDriver
        Connection connection = createCon("com.alipay.oceanbase.jdbc.Driver");
        Statement statement = connection.createStatement();
        DatabaseMetaData metaData = connection.getMetaData();
        System.out.println("---------------------------------------------" );
        ResultSet resultSet = statement.executeQuery("select * from TESTDB.LKG_STT");
        ResultSetMetaData rsmd = resultSet.getMetaData();
        int size = rsmd.getColumnCount();
        for (int i = 1; i <= size; i++) {
          System.out.println(rsmd.getColumnName(i)+" "+ rsmd.getColumnTypeName(i)+" "+rsmd.getColumnDisplaySize(i));
        }
    }
```
The output after executing the above code is:
------------------------------------------
```
STAFF_ID VARCHAR2 4
STAFF_MNAME VARCHAR2 5
PAR_NUM VARCHAR2 3

Process finished with exit code 0
```
 
The database is in Oracle mode, and the obtained column length is different from the length in the database.

With the same code, use Oracle database to build a table with the same structure, replace the java driver class, and the output result is:

![1729919500758](https://github.com/user-attachments/assets/d6cf5c4d-df21-4242-a311-2ad68d984d3c)

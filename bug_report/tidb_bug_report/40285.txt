ID: 40285
Title: invalid memory address when build planner in buildProjection4Union 
Description:
## Bug Report

Please answer these questions before submitting your issue. Thanks!

### 1. Minimal reproduce step (Required)

<!-- a step by step guide for reproducing the bug. -->
``` SQL
CREATE TABLE `02824710-a179-457b-98e7-a70dc7110202` (
  `d89f318b-9b35-43cd-96ed-e787c07aa92b` enum('p5','9a33x','61ikq','t','ce9d','5h','p2','8y2io','glft','j','o') NOT NULL DEFAULT 'glft',
  `cff0654c-4810-4b71-865c-e1f2cad35541` tinyblob DEFAULT NULL,
  PRIMARY KEY (`d89f318b-9b35-43cd-96ed-e787c07aa92b`) /*T![clustered_index] CLUSTERED */,
  KEY `f79a5fa7-8424-457f-82c6-91243f58426d` (`d89f318b-9b35-43cd-96ed-e787c07aa92b`),
  UNIQUE KEY `5e078ec1-a880-477a-b5c6-a95ac3522739` (`d89f318b-9b35-43cd-96ed-e787c07aa92b`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_bin;
( select  /*+ use_index_merge( `02824710-a179-457b-98e7-a70dc7110202` ) */ /*+ agg_to_cop() stream_agg() */  last_value( `02824710-a179-457b-98e7-a70dc7110202`.`d89f318b-9b35-43cd-96ed-e787c07aa92b` ) over w as r0 , `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` as r1 from `02824710-a179-457b-98e7-a70dc7110202` where not( `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` < 'YCPL1auzC' )  window w as (  order by `cff0654c-4810-4b71-865c-e1f2cad35541`,`d89f318b-9b35-43cd-96ed-e787c07aa92b`  ) order by r0,r1  ) union all ( select  /*+ use_index_merge( `02824710-a179-457b-98e7-a70dc7110202` ) */ /*+ agg_to_cop() stream_agg() */  `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` as r0 , row_number() over w as r1 from `02824710-a179-457b-98e7-a70dc7110202` where `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` >= 'tVmhan(3MV@ZT&uQn_'  window w as (  order by `d89f318b-9b35-43cd-96ed-e787c07aa92b`,`cff0654c-4810-4b71-865c-e1f2cad35541` rows between current row and 1 following ) order by r0,r1 limit 15 for update ) order by 1 limit 799;
```
### 2. What did you expect to see? (Required)
no error
### 3. What did you see instead (Required)
```
2023-01-03 19:50:55 (UTC+08:00)TiDB 127.0.0.1:4000[conn.go:1058] ["connection running loop panic"] [conn=684615313081239377] [lastSQL="( select  /*+ use_index_merge( `02824710-a179-457b-98e7-a70dc7110202` ) */ /*+ agg_to_cop() stream_agg() */  last_value( `02824710-a179-457b-98e7-a70dc7110202`.`d89f318b-9b35-43cd-96ed-e787c07aa92b` ) over w as r0 , `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` as r1 from `02824710-a179-457b-98e7-a70dc7110202` where not( `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` < 'YCPL1auzC' )  window w as (  order by `cff0654c-4810-4b71-865c-e1f2cad35541`,`d89f318b-9b35-43cd-96ed-e787c07aa92b`  ) order by r0,r1  ) union all ( select  /*+ use_index_merge( `02824710-a179-457b-98e7-a70dc7110202` ) */ /*+ agg_to_cop() stream_agg() */  `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` as r0 , row_number() over w as r1 from `02824710-a179-457b-98e7-a70dc7110202` where `02824710-a179-457b-98e7-a70dc7110202`.`cff0654c-4810-4b71-865c-e1f2cad35541` >= 'tVmhan(3MV@ZT&uQn_'  window w as (  order by `d89f318b-9b35-43cd-96ed-e787c07aa92b`,`cff0654c-4810-4b71-865c-e1f2cad35541` rows between current row and 1 following ) order by r0,r1 limit 15 for update ) order by 1 limit 799"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="github.com/pingcap/tidb/server.(*clientConn).Run.func1\n\t/Users/bba/pc/tidb/server/conn.go:1061\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.19/src/runtime/panic.go:884\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile.func1\n\t/Users/bba/pc/tidb/executor/compiler.go:70\nruntime.gopanic\n\t/Users/bba/.gvm/gos/go1.19/src/runtime/panic.go:884\nruntime.panicmem\n\t/Users/bba/.gvm/gos/go1.19/src/runtime/panic.go:260\nruntime.sigpanic\n\t/Users/bba/.gvm/gos/go1.19/src/runtime/signal_unix.go:835\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).setUnionFlen\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1579\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildProjection4Union\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1605\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildUnionAll\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1900\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildUnion\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1861\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildExcept\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1835\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSetOpr\n\t/Users/bba/pc/tidb/planner/core/logical_plan_builder.go:1683\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build\n\t/Users/bba/pc/tidb/planner/core/planbuilder.go:818\ngithub.com/pingcap/tidb/planner.buildLogicalPlan\n\t/Users/bba/pc/tidb/planner/optimize.go:470\ngithub.com/pingcap/tidb/planner.optimize\n\t/Users/bba/pc/tidb/planner/optimize.go:391\ngithub.com/pingcap/tidb/planner.Optimize\n\t/Users/bba/pc/tidb/planner/optimize.go:254\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/bba/pc/tidb/executor/compiler.go:114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/bba/pc/tidb/session/session.go:2183\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt\n\t/Users/bba/pc/tidb/server/driver_tidb.go:247\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt\n\t/Users/bba/pc/tidb/server/conn.go:2093\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery\n\t/Users/bba/pc/tidb/server/conn.go:1943\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch\n\t/Users/bba/pc/tidb/server/conn.go:1374\ngithub.com/pingcap/tidb/server.(*clientConn).Run\n\t/Users/bba/pc/tidb/server/conn.go:1123\ngithub.com/pingcap/tidb/server.(*Server).onConn\n\t/Users/bba/pc/tidb/server/server.go:625"]
```
### 4. What is your TiDB version? (Required)
master
<!-- Paste the output of SELECT tidb_version() -->


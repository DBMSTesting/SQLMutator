ID: 17751
Title: P2-[4.0 bug hunting]-[SELECT query]-Wrong error returned
Description:
## Description
Bug Hunter issue tidb-challenge-program/bug-hunting-issue#75

---

## Bug Report


### 1. What did you do?

````
mysql> select * from user where user((((((((((((((((((((( True ) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))))) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND ((((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))));
ERROR 1582 (42000): Incorrect parameter count in the call to native function 'user
````

### 2. What did you expect to see?
````
mysql> select * from user where user((((((((((((((((((((( True ) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR  False )) AND ((( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) OR  False )) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))))) AND ((( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (( 1 <=( 4751 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) AND ((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND ((((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ( 1 <=( 4751 ))) OR ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 )))))) AND (((( 1856 = 7703761045 )) OR (( 1856 = 7703761045 )) OR ( 1 <=( 4751 ))) OR (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))) AND ((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR (( 1856 = 7703761045 ))))));
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(((((((((((((((((((( True ) AND (((( 1856 = 7703761045 )) OR ( 1 <=( 4751 )) OR ' at line 1
````

### 3. What did you see instead?

````
ERROR 1582 (42000): Incorrect parameter count in the call to native function 'user'
````

### 4. What version of TiDB are you using? (`tidb-server -V` or run `select tidb_version();` on TiDB)

````
mysql> select tidb_version();
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tidb_version()                                                                                                                                                                                                                                                                                        |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Release Version: v4.0.0-rc
Git Commit Hash: 79db9e30ab8f98ac07c8ae55c66dfecc24b43d56
Git Branch: heads/refs/tags/v4.0.0-rc
UTC Build Time: 2020-04-08 07:32:25
GoVersion: go1.13
Race Enabled: false
TiKV Min Version: v3.0.0-60965b006877ca7234adaced7890d7b029ed1306
Check Table Before Drop: false |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

````
## SIG slack channel

 [#sig-exec](https://slack.tidb.io/invite?team=tidb-community&channel=sig-exec&ref=high-performance)

## Score

- 300

## Mentor

* @lzmhhh123

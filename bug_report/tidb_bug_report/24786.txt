ID: 24786
Title: an unstable test in package `telemetry`
Description:
## Development Task
```
[2021-05-20T07:02:37.129Z] fatal error: checkptr: converted pointer straddles multiple allocations
[2021-05-20T07:02:37.129Z] 
[2021-05-20T07:02:37.129Z] goroutine 605 [running]:
[2021-05-20T07:02:37.129Z] runtime.throw(0x4f6201e, 0x3a)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/runtime/panic.go:1117 +0x72 fp=0xc00581cfc0 sp=0xc00581cf90 pc=0x112aa32
[2021-05-20T07:02:37.129Z] runtime.checkptrAlignment(0xc0055085b0, 0x4cc1a80, 0x1)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/runtime/checkptr.go:20 +0xc9 fp=0xc00581cff0 sp=0xc00581cfc0 pc=0x10f8bc9
[2021-05-20T07:02:37.129Z] go.etcd.io/bbolt.(*Bucket).write(0xc00581d190, 0x0, 0x0, 0x0)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/bbolt@v1.3.3/bucket.go:624 +0x265 fp=0xc00581d088 sp=0xc00581cff0 pc=0x3d370a5
[2021-05-20T07:02:37.129Z] go.etcd.io/bbolt.(*Bucket).CreateBucket(0xc0055480f8, 0x7594520, 0x7, 0x7, 0x118353f, 0xc00553d708, 0xc0ffffffff)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/bbolt@v1.3.3/bucket.go:181 +0x32d fp=0xc00581d240 sp=0xc00581d088 pc=0x3d3332d
[2021-05-20T07:02:37.129Z] go.etcd.io/bbolt.(*Tx).CreateBucket(...)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/bbolt@v1.3.3/tx.go:108
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/mvcc/backend.(*batchTx).UnsafeCreateBucket(0xc006d596b0, 0x7594520, 0x7, 0x7)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/mvcc/backend/batch_tx.go:72 +0x9e fp=0xc00581d480 sp=0xc00581d240 pc=0x3d65e1e
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/mvcc/backend.(*batchTxBuffered).UnsafeCreateBucket(0xc006d596b0, 0x7594520, 0x7, 0x7)
[2021-05-20T07:02:37.129Z] 	<autogenerated>:1 +0x65 fp=0xc00581d4b0 sp=0xc00581d480 pc=0x3d71f65
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/etcdserver/api/membership.mustCreateBackendBuckets(0x5e825f8, 0xc005514e80)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/etcdserver/api/membership/store.go:166 +0x110 fp=0xc00581d548 sp=0xc00581d4b0 pc=0x3e0cc90
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/etcdserver/api/membership.(*RaftCluster).SetBackend(...)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/etcdserver/api/membership/cluster.go:242
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/etcdserver.NewServer(0xc00550a090, 0x12, 0x0, 0x0, 0x0, 0x0, 0xc0055445a0, 0x1, 0x1, 0xc005544480, ...)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/etcdserver/server.go:405 +0x6705 fp=0xc00581ef20 sp=0xc00581d548 pc=0x3f83485
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/integration.(*member).Launch(0xc0067c0800, 0x0, 0x0)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/cluster.go:801 +0x69e fp=0xc00581ff98 sp=0xc00581ef20 pc=0x483593e
[2021-05-20T07:02:37.129Z] go.etcd.io/etcd/integration.(*cluster).Launch.func1(0xc005512600, 0xc0067c0800)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/cluster.go:224 +0x39 fp=0xc00581ffd0 sp=0xc00581ff98 pc=0x4840b79
[2021-05-20T07:02:37.129Z] runtime.goexit()
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/runtime/asm_amd64.s:1371 +0x1 fp=0xc00581ffd8 sp=0xc00581ffd0 pc=0x1167561
[2021-05-20T07:02:37.129Z] created by go.etcd.io/etcd/integration.(*cluster).Launch
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/cluster.go:223 +0xea
[2021-05-20T07:02:37.129Z] 
[2021-05-20T07:02:37.129Z] goroutine 1 [chan receive]:
[2021-05-20T07:02:37.129Z] testing.(*T).Run(0xc00068e300, 0x4eb9e8c, 0x5, 0x4fb7770, 0x0)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/testing/testing.go:1239 +0x610
[2021-05-20T07:02:37.129Z] testing.runTests.func1(0xc00068e300)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/testing/testing.go:1511 +0xa7
[2021-05-20T07:02:37.129Z] testing.tRunner(0xc00068e300, 0xc000cbfce0)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/testing/testing.go:1193 +0x203
[2021-05-20T07:02:37.129Z] testing.runTests(0xc0004c8378, 0x7511540, 0x2, 0x2, 0xc021a15f2b94cd0d, 0x1176cdf38d4, 0x7b9be40, 0xc000cbfda0)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/testing/testing.go:1509 +0x613
[2021-05-20T07:02:37.129Z] testing.(*M).Run(0xc000c0f200, 0x0)
[2021-05-20T07:02:37.129Z] 	/usr/local/go/src/testing/testing.go:1417 +0x3b4
[2021-05-20T07:02:37.129Z] main.main()
[2021-05-20T07:02:37.129Z] 	_testmain.go:47 +0x237
[2021-05-20T07:02:37.129Z] 
[2021-05-20T07:02:37.129Z] goroutine 16 [select]:
[2021-05-20T07:02:37.129Z] go.opencensus.io/stats/view.(*worker).start(0xc0004c6c30)
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.opencensus.io@v0.22.3/stats/view/worker.go:154 +0x1c5
[2021-05-20T07:02:37.129Z] created by go.opencensus.io/stats/view.init.0
[2021-05-20T07:02:37.129Z] 	/nfs/cache/mod/go.opencensus.io@v0.22.3/stats/view/worker.go:32 +0x9a
[2021-05-20T07:02:37.129Z] 
[2021-05-20T07:02:37.129Z] goroutine 132 [chan receive]:
[2021-05-20T07:02:37.130Z] go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc0004c8240)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:173 +0x4bb
[2021-05-20T07:02:37.130Z] created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:91 +0x105
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 159 [chan receive]:
[2021-05-20T07:02:37.130Z] go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc0005ea330)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:173 +0x4bb
[2021-05-20T07:02:37.130Z] created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:91 +0x105
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 180 [chan receive]:
[2021-05-20T07:02:37.130Z] go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc0004c8570)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:173 +0x4bb
[2021-05-20T07:02:37.130Z] created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/pkg/logutil/merge_logger.go:91 +0x105
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 569 [select]:
[2021-05-20T07:02:37.130Z] github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).runUpdateSafePointLoop(0xc006e82000)
[2021-05-20T07:02:37.130Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/mvcc.go:1549 +0x385
[2021-05-20T07:02:37.130Z] created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.NewMVCCStore
[2021-05-20T07:02:37.130Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/mvcc.go:84 +0x5ee
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 583 [chan receive]:
[2021-05-20T07:02:37.130Z] go.etcd.io/etcd/integration.(*cluster).Launch(0xc00554a120, 0x5e8bc30, 0x0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/cluster.go:228 +0x171
[2021-05-20T07:02:37.130Z] go.etcd.io/etcd/integration.NewClusterV3(0x5e8bc30, 0x0, 0xc005566000, 0x5e30250)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/cluster.go:1224 +0x170
[2021-05-20T07:02:37.130Z] github.com/pingcap/tidb/telemetry_test.(*testSuite).SetUpSuite(0xc000bd4690, 0xc0057391d0)
[2021-05-20T07:02:37.130Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/telemetry/telemetry_test.go:60 +0x2a5
[2021-05-20T07:02:37.130Z] reflect.Value.call(0x4bdd740, 0xc000bd4690, 0x213, 0x4eb87d5, 0x4, 0xc0000e0ef0, 0x1, 0x1, 0xc006685e18, 0x27236de, ...)
[2021-05-20T07:02:37.130Z] 	/usr/local/go/src/reflect/value.go:476 +0x99c
[2021-05-20T07:02:37.130Z] reflect.Value.Call(0x4bdd740, 0xc000bd4690, 0x213, 0xc006685ef0, 0x1, 0x1, 0xc006685da0, 0x334bec5, 0x0)
[2021-05-20T07:02:37.130Z] 	/usr/local/go/src/reflect/value.go:337 +0xd9
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*suiteRunner).runFixture.func1(0xc0057391d0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799 +0x1d1
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*suiteRunner).forkCall.func1(0xc005f87a70, 0xc0057391d0, 0x4fb5b38)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739 +0x11e
[2021-05-20T07:02:37.130Z] created by github.com/pingcap/check.(*suiteRunner).forkCall
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:734 +0x4cd
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 585 [select]:
[2021-05-20T07:02:37.130Z] github.com/pingcap/badger/epoch.(*ResourceManager).collectLoop(0xc006d8fb60, 0xc006bb3200)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/epoch/manager.go:101 +0x185
[2021-05-20T07:02:37.130Z] created by github.com/pingcap/badger/epoch.NewResourceManager
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/epoch/manager.go:79 +0x128
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 276 [chan receive]:
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*suiteRunner).runFunc(...)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:752
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*suiteRunner).runFixture(0xc005f87a70, 0xc0061763f0, 0x0, 0x0, 0x0, 0x0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:795 +0xb9
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*suiteRunner).run(0xc005f87a70, 0xc000bd4690)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:695 +0x12d
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.Run(0x4bdd740, 0xc000bd4690, 0xc000bebe50, 0xc00032f8c0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/run.go:150 +0x5b
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.RunAll(0xc000bebe50, 0x0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/run.go:113 +0xff7
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.TestingT(0xc00068e600)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/run.go:99 +0x757
[2021-05-20T07:02:37.130Z] github.com/pingcap/tidb/telemetry.TestT(0xc00068e600)
[2021-05-20T07:02:37.130Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/telemetry/util_test.go:27 +0x39
[2021-05-20T07:02:37.130Z] testing.tRunner(0xc00068e600, 0x4fb7770)
[2021-05-20T07:02:37.130Z] 	/usr/local/go/src/testing/testing.go:1193 +0x203
[2021-05-20T07:02:37.130Z] created by testing.(*T).Run
[2021-05-20T07:02:37.130Z] 	/usr/local/go/src/testing/testing.go:1238 +0x5d8
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 582 [select]:
[2021-05-20T07:02:37.130Z] github.com/pingcap/check.(*resultTracker)._loopRoutine(0xc005f879e0)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:464 +0x185
[2021-05-20T07:02:37.130Z] created by github.com/pingcap/check.(*resultTracker).start
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:444 +0x4d
[2021-05-20T07:02:37.130Z] 
[2021-05-20T07:02:37.130Z] goroutine 584 [select]:
[2021-05-20T07:02:37.130Z] github.com/pingcap/badger.(*DB).updateSize(0xc00681ed80, 0xc006bb31e8)
[2021-05-20T07:02:37.130Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:1032 +0x1d2
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/badger.Open
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:327 +0x131f
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 589 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/store/tikv.(*KVStore).runSafePointChecker(0xc005bb6100)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/kv.go:171 +0x165
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/store/tikv.NewKVStore
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/kv.go:151 +0x6a8
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 567 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/store/mockstore/unistore/tikv.writeDBWorker.run(0xc006ea2900, 0xc006bc0080)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/write.go:95 +0x1cf
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*dbWriter).Open
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/write.go:198 +0xc5
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 592 [select]:
[2021-05-20T07:02:37.131Z] github.com/dgraph-io/ristretto.(*Cache).processItems(0xc000014120)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/dgraph-io/ristretto@v0.0.1/cache.go:257 +0x145
[2021-05-20T07:02:37.131Z] created by github.com/dgraph-io/ristretto.NewCache
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/dgraph-io/ristretto@v0.0.1/cache.go:155 +0x69a
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 591 [select]:
[2021-05-20T07:02:37.131Z] github.com/dgraph-io/ristretto.(*defaultPolicy).processItems(0xc0008ba1b0)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/dgraph-io/ristretto@v0.0.1/policy.go:96 +0x1d0
[2021-05-20T07:02:37.131Z] created by github.com/dgraph-io/ristretto.newDefaultPolicy
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/dgraph-io/ristretto@v0.0.1/policy.go:80 +0x25a
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 564 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/badger.(*writeWorker).runWriteVLog(0xc00685c020, 0xc006bb2000)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:94 +0x245
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/badger.startWriteWorker
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:64 +0x2a5
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 586 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/badger.Open.func4(0xc00079c1b8)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:341 +0x356
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/badger.Open
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:338 +0x18ab
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 566 [chan receive]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/badger.(*writeWorker).runMergeLSM(0xc00685c020, 0xc006bb2000)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:154 +0xf7
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/badger.startWriteWorker
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:66 +0x2fd
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 587 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/store/tikv/oracle/oracles.(*pdOracle).updateTS(0xc006e8a000, 0x5e55ce8, 0xc0001a6018, 0x77359400)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/oracle/oracles/pd.go:208 +0x1e5
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/store/tikv/oracle/oracles.NewPdOracle
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/oracle/oracles/pd.go:56 +0x191
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 602 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/domain.(*Domain).TelemetryReportLoop.func1(0xc0069f1950, 0x5e954d8, 0xc004b65a20)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1050 +0x1c5
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/domain.(*Domain).TelemetryReportLoop
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1042 +0x145
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 565 [chan receive, locked to thread]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/badger.(*writeWorker).runWriteLSM(0xc00685c020, 0xc006bb2000)
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:141 +0x247
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/badger.startWriteWorker
[2021-05-20T07:02:37.131Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/writer.go:65 +0x2d1
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 570 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection.func1(0xc006e82000)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/mvcc.go:1285 +0x165
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/mvcc.go:1283 +0xa5
[2021-05-20T07:02:37.131Z] 
[2021-05-20T07:02:37.131Z] goroutine 588 [select]:
[2021-05-20T07:02:37.131Z] github.com/pingcap/tidb/store/tikv.(*RegionCache).asyncCheckAndResolveLoop(0xc0067ea000, 0xdf8475800)
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/region_cache.go:335 +0x1c5
[2021-05-20T07:02:37.131Z] created by github.com/pingcap/tidb/store/tikv.NewRegionCache
[2021-05-20T07:02:37.131Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/region_cache.go:319 +0x4bf
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 590 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/store/tikv.(*KVStore).safeTSUpdater(0xc005bb6100)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/kv.go:421 +0x225
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/store/tikv.NewKVStore
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/tikv/kv.go:152 +0x6ca
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 568 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/store/mockstore/unistore/tikv.writeLockWorker.run(0xc006ea2960, 0xc006bc0080)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/write.go:147 +0x229
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*dbWriter).Open
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/store/mockstore/unistore/tikv/write.go:205 +0x138
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 626 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/badger.(*blobGCHandler).run(0xc006e12680, 0xc006db7fe0)
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/blob.go:468 +0x177
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/badger.(*blobManager).Open
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/blob.go:292 +0xa72
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 627 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/badger.(*levelsController).runWorker(0xc005d63a40, 0xc006e008b8, 0x0)
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/levels.go:212 +0x289
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/badger.(*levelsController).startCompact
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/levels.go:180 +0xd3
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 628 [chan receive]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/badger.(*DB).runFlushMemTable(0xc00681ed80, 0xc006bb3770, 0x0, 0x0)
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:913 +0x257
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/badger.Open
[2021-05-20T07:02:37.132Z] 	/nfs/cache/mod/github.com/pingcap/badger@v1.5.1-0.20200908111422-2e78ee155d19/db.go:360 +0x249d
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 785 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/ddl.(*delRange).startEmulator(0xc0007b7d60)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/delete_range.go:142 +0x1c5
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/ddl.(*delRange).start
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/delete_range.go:124 +0x97
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 784 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/ddl.(*ddl).limitDDLJobs(0xc000505260)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl_worker.go:245 +0x3ee
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/ddl.(*ddl).Start
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl.go:346 +0x3ec
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 818 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/ddl.(*worker).start(0xc000505340, 0xc004ee4840)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl_worker.go:157 +0x475
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/ddl.(*ddl).Start
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl.go:364 +0xb25
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 819 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/ddl.(*worker).start(0xc0005052d0, 0xc004ee4840)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl_worker.go:157 +0x475
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/ddl.(*ddl).Start
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/ddl/ddl.go:364 +0xb25
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 822 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/domain.(*Domain).topNSlowQueryLoop(0xc0069f1950)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:419 +0x31f
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/domain.(*Domain).Init
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:767 +0x8fa
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 823 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/domain.(*Domain).infoSyncerKeeper(0xc0069f1950)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:451 +0x285
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/domain.(*Domain).Init
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:770 +0x939
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 824 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/domain.(*Domain).topologySyncerKeeper(0xc0069f1950)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:477 +0x2ca
[2021-05-20T07:02:37.132Z] created by github.com/pingcap/tidb/domain.(*Domain).Init
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:774 +0x9a5
[2021-05-20T07:02:37.132Z] 
[2021-05-20T07:02:37.132Z] goroutine 603 [select]:
[2021-05-20T07:02:37.132Z] github.com/pingcap/tidb/domain.(*Domain).TelemetryRotateSubWindowLoop.func1(0xc0069f1950)
[2021-05-20T07:02:37.132Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1079 +0x185
[2021-05-20T07:02:37.133Z] created by github.com/pingcap/tidb/domain.(*Domain).TelemetryRotateSubWindowLoop
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1072 +0xad
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 840 [select]:
[2021-05-20T07:02:37.133Z] github.com/pingcap/tidb/domain.(*Domain).handleEvolvePlanTasksLoop.func1(0xc0069f1950, 0x5e954d8, 0xc006857080)
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1016 +0x1d2
[2021-05-20T07:02:37.133Z] created by github.com/pingcap/tidb/domain.(*Domain).handleEvolvePlanTasksLoop
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:1008 +0x85
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 839 [select]:
[2021-05-20T07:02:37.133Z] github.com/pingcap/tidb/domain.(*Domain).globalBindHandleWorkerLoop.func1(0xc0069f1950)
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:988 +0x205
[2021-05-20T07:02:37.133Z] created by github.com/pingcap/tidb/domain.(*Domain).globalBindHandleWorkerLoop
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:979 +0x6d
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 886 [select]:
[2021-05-20T07:02:37.133Z] github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop.func1(0xc0069f1950, 0xc00079c818, 0x6fc23ac00, 0x5e954d8, 0xc006856420)
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:924 +0x1d6
[2021-05-20T07:02:37.133Z] created by github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:915 +0x169
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 607 [select]:
[2021-05-20T07:02:37.133Z] go.etcd.io/etcd/mvcc/backend.(*backend).run(0xc005514e80)
[2021-05-20T07:02:37.133Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/mvcc/backend/backend.go:327 +0x225
[2021-05-20T07:02:37.133Z] created by go.etcd.io/etcd/mvcc/backend.newBackend
[2021-05-20T07:02:37.133Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/mvcc/backend/backend.go:189 +0x845
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 604 [IO wait]:
[2021-05-20T07:02:37.133Z] internal/poll.runtime_pollWait(0x7f5e49562838, 0x72, 0x6c69)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/runtime/netpoll.go:222 +0x55
[2021-05-20T07:02:37.133Z] internal/poll.(*pollDesc).wait(0xc005514c98, 0x72, 0x0, 0x0, 0x4ebded5)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/internal/poll/fd_poll_runtime.go:87 +0xe6
[2021-05-20T07:02:37.133Z] internal/poll.(*pollDesc).waitRead(...)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/internal/poll/fd_poll_runtime.go:92
[2021-05-20T07:02:37.133Z] internal/poll.(*FD).Accept(0xc005514c80, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/internal/poll/fd_unix.go:401 +0x32f
[2021-05-20T07:02:37.133Z] net.(*netFD).accept(0xc005514c80, 0x676e69702f6d6f63, 0x626469742f706163, 0x0)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/net/fd_unix.go:172 +0x58
[2021-05-20T07:02:37.133Z] net.(*UnixListener).accept(0xc006d59230, 0x0, 0xc0056c6e38, 0x1128e90)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/net/unixsock_posix.go:162 +0x50
[2021-05-20T07:02:37.133Z] net.(*UnixListener).Accept(0xc006d59230, 0x0, 0x10, 0x7b96e90, 0x0)
[2021-05-20T07:02:37.133Z] 	/usr/local/go/src/net/unixsock.go:260 +0x8e
[2021-05-20T07:02:37.133Z] go.etcd.io/etcd/integration.(*bridge).serveListen(0xc00553d570)
[2021-05-20T07:02:37.133Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/bridge.go:116 +0x176
[2021-05-20T07:02:37.133Z] created by go.etcd.io/etcd/integration.newBridge
[2021-05-20T07:02:37.133Z] 	/nfs/cache/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20200824191128-ae9734ed278b/integration/bridge.go:61 +0x4e5
[2021-05-20T07:02:37.133Z] 
[2021-05-20T07:02:37.133Z] goroutine 883 [select]:
[2021-05-20T07:02:37.133Z] github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop.func1(0xc0069f1950, 0xc00079c708, 0x45d964b800, 0x5e954d8, 0xc006856420)
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:875 +0x1d6
[2021-05-20T07:02:37.133Z] created by github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop
[2021-05-20T07:02:37.133Z] 	/home/jenkins/agent/workspace/tidb_ghpr_unit_test/go/src/github.com/pingcap/tidb/domain/domain.go:866 +0x25b
[2021-05-20T07:02:37.133Z] FAIL	github.com/pingcap/tidb/telemetry	3.318s
[2021-05-20T07:02:37.133Z] === RUN   TestT
[2021-05-20T07:02:37.133Z] OK: 24 passed
[2021-05-20T07:02:37.133Z] --- PASS: TestT (0.06s)
[2021-05-20T07:02:37.133Z] PASS
[2021-05-20T07:02:37.133Z] ok  	github.com/pingcap/tidb/types/json	(cached)
[2021-05-20T07:02:37.133Z] === RUN   TestT
```
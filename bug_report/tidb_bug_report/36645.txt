ID: 36645
Title: timeout test TestLockTables
Description:
## Bug Report

Please answer these questions before submitting your issue. Thanks!

### 1. Minimal reproduce step (Required)

```
 panic: test timed out after 30m0s
goroutine 131682 [running]:
testing.(*M).startAlarm.func1()
	/usr/local/go/src/testing/testing.go:2029 +0xbb
created by time.goFunc
	/usr/local/go/src/time/sleep.go:176 +0x48
goroutine 1 [chan receive, 30 minutes]:
testing.(*T).Run(0xc000b08340, {0x5a7a203, 0xe}, 0x5be8110)
	/usr/local/go/src/testing/testing.go:1487 +0x750
testing.runTests.func1(0x0?)
	/usr/local/go/src/testing/testing.go:1839 +0x9a
testing.tRunner(0xc000b08340, 0xc000bbf980)
	/usr/local/go/src/testing/testing.go:1439 +0x214
testing.runTests(0xc0008fff40?, {0x8886700, 0x250, 0x250}, {0x1?, 0xc000000073?, 0x8f84fc0?})
	/usr/local/go/src/testing/testing.go:1837 +0x7e5
testing.(*M).Run(0xc0008fff40)
	/usr/local/go/src/testing/testing.go:1719 +0xa72
go.uber.org/goleak.VerifyTestMain({0x6d155c0, 0xc0008fff40}, {0xc005845e00, 0x4, 0x4})
	/home/prow/go/pkg/mod/go.uber.org/goleak@v1.1.12/testmain.go:53 +0x5a
github.com/pingcap/tidb/ddl_test.TestMain(0x88f81c0?)
	/go/tidb/ddl/main_test.go:68 +0x5fa
main.main()
	_testmain.go:1345 +0x3f8
goroutine 93 [select]:
github.com/pingcap/badger/epoch.(*ResourceManager).collectLoop(0x7f2d838f0008?, 0xc00013f1d0)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/epoch/manager.go:101 +0x175
created by github.com/pingcap/badger/epoch.NewResourceManager
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/epoch/manager.go:79 +0x197
goroutine 63 [chan receive]:
github.com/golang/glog.(*loggingT).flushDaemon(0x0?)
	/home/prow/go/pkg/mod/github.com/golang/glog@v1.0.0/glog.go:882 +0x8b
created by github.com/golang/glog.init.0
	/home/prow/go/pkg/mod/github.com/golang/glog@v1.0.0/glog.go:410 +0x265
goroutine 92 [select]:
github.com/pingcap/badger.(*DB).updateSize(0x7f2d838f0008?, 0xc00013f1a0)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:1039 +0x1d6
created by github.com/pingcap/badger.Open
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:328 +0x1706
goroutine 64 [select]:
go.opencensus.io/stats/view.(*worker).start(0xc0006c6480)
	/home/prow/go/pkg/mod/go.opencensus.io@v0.23.0/stats/view/worker.go:276 +0x177
created by go.opencensus.io/stats/view.init.0
	/home/prow/go/pkg/mod/go.opencensus.io@v0.23.0/stats/view/worker.go:34 +0xf7
goroutine 91 [select]:
github.com/pingcap/tidb/ddl.(*ddl).DoDDLJob(0xc00a3e2d80, {0x6d8aec8, 0xc004794b40}, 0xc00666ed80)
	/go/tidb/ddl/ddl.go:952 +0xe4f
github.com/pingcap/tidb/ddl.(*ddl).LockTables(0xc00a3e2d80, {0x6d8aec8, 0xc004794b40}, 0xc0079cd620)
	/go/tidb/ddl/ddl_api.go:6334 +0x6a7
github.com/pingcap/tidb/executor.(*DDLExec).executeLockTables(0xc00a71f5e0, 0xc0079cd620)
	/go/tidb/executor/ddl.go:567 +0x2cb
github.com/pingcap/tidb/executor.(*DDLExec).Next(0xc00a71f5e0, {0x6d32218, 0xc004ea22d0}, 0x0?)
	/go/tidb/executor/ddl.go:177 +0x8b7
github.com/pingcap/tidb/executor.Next({0x6d32218, 0xc004ea22d0}, {0x6d352e0, 0xc00a71f5e0}, 0xc005066910)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*ExecStmt).next(0xc005f990e0, {0x6d32218, 0xc004ea22d0}, {0x6d352e0, 0xc00a71f5e0}, 0xc004517f20?)
	/go/tidb/executor/adapter.go:898 +0x8a
github.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor(0xc005f990e0, {0x6d32218, 0xc004ea22d0}, {0x6d352e0?, 0xc00a71f5e0})
	/go/tidb/executor/adapter.go:698 +0x6b8
github.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay(0xc005f990e0, {0x6d32218, 0xc004ea22d0}, {0x6d352e0, 0xc00a71f5e0?}, 0x0)
	/go/tidb/executor/adapter.go:548 +0x29d
github.com/pingcap/tidb/executor.(*ExecStmt).Exec(0xc005f990e0, {0x6d32218, 0xc004ea22d0})
	/go/tidb/executor/adapter.go:497 +0x106c
github.com/pingcap/tidb/session.runStmt({0x6d321a8, 0xc000146008}, 0xc004794b40, {0x6d3f8e0, 0xc005f990e0?})
	/go/tidb/session/session.go:2133 +0x74c
github.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc004794b40, {0x6d321a8, 0xc000146008}, {0x6d46100, 0xc0079cd620})
	/go/tidb/session/session.go:1999 +0xebb
github.com/pingcap/tidb/testkit.(*TestKit).Exec(0xc00a98d980, {0x5abc3be, 0x1d}, {0x0, 0x0, 0x1?})
	/go/tidb/testkit/testkit.go:240 +0x715
github.com/pingcap/tidb/testkit.(*TestKit).MustExec(0xc00a98d980, {0x5abc3be, 0x1d}, {0x0, 0x0, 0x0})
	/go/tidb/testkit/testkit.go:92 +0x9a
github.com/pingcap/tidb/ddl_test.TestLockTables(0x0?)
	/go/tidb/ddl/db_table_test.go:735 +0xc71
testing.tRunner(0xc000b084e0, 0x5be8110)
	/usr/local/go/src/testing/testing.go:1439 +0x214
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1486 +0x725
goroutine 94 [select, 30 minutes]:
github.com/pingcap/badger.Open.func4()
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:342 +0x2f8
created by github.com/pingcap/badger.Open
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:339 +0x1c7c
goroutine 95 [select, 30 minutes]:
github.com/pingcap/badger.(*blobGCHandler).run(0xc0009e8880, 0xc00013e7f8)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/blob.go:468 +0x174
created by github.com/pingcap/badger.(*blobManager).Open
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/blob.go:292 +0xa73
goroutine 96 [select]:
github.com/pingcap/badger.(*levelsController).runWorker(0xc00027bdc0, 0xc00013e828, 0x0)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/levels.go:212 +0x2e9
created by github.com/pingcap/badger.(*levelsController).startCompact
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/levels.go:180 +0xa9
goroutine 97 [chan receive, 30 minutes]:
github.com/pingcap/badger.(*DB).runFlushMemTable(0xc000c36d80, 0xc00013f770)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:920 +0x149
created by github.com/pingcap/badger.Open
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/db.go:361 +0x2127
goroutine 103 [chan receive]:
github.com/pingcap/badger.(*writeWorker).runMergeLSM(0xc0006363c0, 0xc00013ea50)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:154 +0xf8
created by github.com/pingcap/badger.startWriteWorker
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:66 +0x53b
goroutine 102 [chan receive, locked to thread]:
github.com/pingcap/badger.(*writeWorker).runWriteLSM(0xc0006363c0, 0xc00013ea50)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:141 +0x21e
created by github.com/pingcap/badger.startWriteWorker
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:65 +0x49b
goroutine 101 [select]:
github.com/pingcap/badger.(*writeWorker).runWriteVLog(0xc0006363c0, 0xc00013ea50)
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:94 +0x21b
created by github.com/pingcap/badger.startWriteWorker
	/home/prow/go/pkg/mod/github.com/pingcap/badger@v1.5.1-0.20220314162537-ab58fbf40580/writer.go:64 +0x3f7
goroutine 104 [select]:
github.com/pingcap/tidb/store/mockstore/unistore/tikv.writeDBWorker.run({0xc0001b95c0?, 0xc0009e89c0?})
	/go/tidb/store/mockstore/unistore/tikv/write.go:96 +0x185
created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*dbWriter).Open
	/go/tidb/store/mockstore/unistore/tikv/write.go:199 +0x10d
goroutine 105 [select]:
github.com/pingcap/tidb/store/mockstore/unistore/tikv.writeLockWorker.run({0xc0001b9620?, 0xc0009e89c0?})
	/go/tidb/store/mockstore/unistore/tikv/write.go:148 +0x1dd
created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*dbWriter).Open
	/go/tidb/store/mockstore/unistore/tikv/write.go:206 +0x1e5
goroutine 106 [select]:
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).runUpdateSafePointLoop(0xc000cd7200)
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:1706 +0x2d9
created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.NewMVCCStore
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:87 +0x6ef
goroutine 107 [select]:
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection.func1()
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:1379 +0x111
created by github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).StartDeadlockDetection
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:1377 +0x137
goroutine 108 [select]:
github.com/tikv/client-go/v2/oracle/oracles.(*pdOracle).updateTS(0xc000766150, {0x6d321a8, 0xc000146018}, 0x42245e8?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/oracle/oracles/pd.go:229 +0x1d8
created by github.com/tikv/client-go/v2/oracle/oracles.NewPdOracle
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/oracle/oracles/pd.go:77 +0x21b
goroutine 109 [select]:
github.com/tikv/client-go/v2/internal/locate.(*RegionCache).asyncCheckAndResolveLoop(0xc000748ea0, 0xc0009e89c0?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_cache.go:449 +0x1cb
created by github.com/tikv/client-go/v2/internal/locate.NewRegionCache
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_cache.go:420 +0x515
goroutine 110 [select]:
github.com/tikv/client-go/v2/tikv.(*KVStore).runSafePointChecker(0xc0003e2140)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:234 +0x1a9
created by github.com/tikv/client-go/v2/tikv.NewKVStore
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:189 +0x685
goroutine 111 [select]:
github.com/tikv/client-go/v2/tikv.(*KVStore).safeTSUpdater(0xc0003e2140)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:530 +0x312
created by github.com/tikv/client-go/v2/tikv.NewKVStore
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:190 +0x6ef
goroutine 112 [select, 30 minutes]:
github.com/dgraph-io/ristretto.(*lfuPolicy).processItems(0xc0009e98c0)
	/home/prow/go/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1-0.20220403145359-8e850b710d6d/policy.go:67 +0x109
created by github.com/dgraph-io/ristretto.newPolicy
	/home/prow/go/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1-0.20220403145359-8e850b710d6d/policy.go:51 +0x2d7
goroutine 113 [select]:
github.com/dgraph-io/ristretto.(*Cache).processItems(0xc000766230)
	/home/prow/go/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1-0.20220403145359-8e850b710d6d/cache.go:476 +0x24f
created by github.com/dgraph-io/ristretto.NewCache
	/home/prow/go/pkg/mod/github.com/dgraph-io/ristretto@v0.1.1-0.20220403145359-8e850b710d6d/cache.go:213 +0x1136
goroutine 131655 [semacquire]:
sync.runtime_Semacquire(0xc007647198?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007647190)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec.func2()
	/go/tidb/executor/aggregate.go:874 +0x59
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:873 +0x958
goroutine 131647 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc000bf8e40)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc000bf8e40, {0x6d8aec8, 0xc0075ff440}, 0xc007647180, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 37297 [select, 22 minutes]:
github.com/pingcap/tidb/domain.(*Domain).globalConfigSyncerKeeper(0xc00507c500)
	/go/tidb/domain/domain.go:559 +0x1b3
created by github.com/pingcap/tidb/domain.(*Domain).Init
	/go/tidb/domain/domain.go:892 +0x1436
goroutine 131629 [select]:
github.com/pingcap/tidb/executor.readProjectionInput(0xc009302de0, 0xc000119c20)
	/go/tidb/executor/projection.go:458 +0xa7
github.com/pingcap/tidb/executor.(*projectionWorker).run(0xc00b5ac340, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:427 +0x1ef
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:275 +0xca7
goroutine 131640 [semacquire]:
sync.runtime_Semacquire(0xc000750bf8?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc000750bf0)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashJoinExec).waitJoinWorkersAndCloseResultChan(0xc000750a00)
	/go/tidb/executor/join.go:419 +0x3f
github.com/pingcap/tidb/util.WithRecovery(0xc005443880, 0x0)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:362 +0x74f
goroutine 37286 [select, 1 minutes]:
github.com/pingcap/tidb/ddl.(*ddl).limitDDLJobs(0xc00a3e2d80)
	/go/tidb/ddl/ddl_worker.go:278 +0x20d
github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
	/go/tidb/util/wait_group_wrapper.go:33 +0x74
created by github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run
	/go/tidb/util/wait_group_wrapper.go:31 +0xdd
goroutine 131634 [chan receive]:
github.com/pingcap/tidb/executor.(*HashAggExec).parallelExec(0xc000ba1600, {0x6d321a8, 0xc000146008}, 0xc00a679270)
	/go/tidb/executor/aggregate.go:906 +0x299
github.com/pingcap/tidb/executor.(*HashAggExec).Next(0xc000ba1600, {0x6d321a8, 0xc000146008}, 0xc00a679270)
	/go/tidb/executor/aggregate.go:775 +0x13f
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d354a0, 0xc000ba1600}, 0xc00a679270)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchProbeSideChunks(0xc000750a00, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/join.go:219 +0x2d7
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func1()
	/go/tidb/executor/join.go:346 +0xbd
github.com/pingcap/tidb/util.WithRecovery(0xc00482ff40, 0xc005443820)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:344 +0x287
goroutine 37384 [select, 22 minutes]:
github.com/pingcap/tidb/statistics/handle.(*Handle).drainColTask(0xc005bf8a20, 0xc007030720)
	/go/tidb/statistics/handle/handle_hist.go:371 +0x1a5
github.com/pingcap/tidb/statistics/handle.(*Handle).HandleOneTask(0x151db96?, 0x0, 0xc000060000?, {0x7f2d737db9e0, 0xc0075feb40}, 0xc009a6eae0?)
	/go/tidb/statistics/handle/handle_hist.go:191 +0xf4
github.com/pingcap/tidb/statistics/handle.(*Handle).SubLoadWorker(0xc005bf8a20, {0x6d8aec8?, 0xc0075feb40}, 0xc009638f30?, 0xc00507c5c8)
	/go/tidb/statistics/handle/handle_hist.go:167 +0x188
created by github.com/pingcap/tidb/domain.(*Domain).StartLoadStatsSubWorkers
	/go/tidb/domain/domain.go:1380 +0x2af
goroutine 131663 [semacquire]:
sync.runtime_Semacquire(0xc0076476a8?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc0076476a0)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).waitPartialWorkerAndCloseOutputChs(0xc000ba1400, 0xc000ba1600?)
	/go/tidb/executor/aggregate.go:822 +0x4f
github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec.func1()
	/go/tidb/executor/aggregate.go:862 +0x67
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:861 +0x611
goroutine 131626 [semacquire]:
sync.runtime_Semacquire(0xc007994558?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007994550)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/store/copr.(*copIteratorTaskSender).run(0xc00b5ac100)
	/go/tidb/store/copr/coprocessor.go:502 +0x127
created by github.com/pingcap/tidb/store/copr.(*copIterator).open
	/go/tidb/store/copr/coprocessor.go:479 +0xa5b
goroutine 37295 [select, 1 minutes]:
github.com/pingcap/tidb/domain.(*Domain).topNSlowQueryLoop(0xc00507c500)
	/go/tidb/domain/domain.go:504 +0x2c9
created by github.com/pingcap/tidb/domain.(*Domain).Init
	/go/tidb/domain/domain.go:890 +0x1336
goroutine 37287 [select, 2 minutes]:
github.com/pingcap/tidb/ddl.(*delRange).startEmulator(0xc0071cf860)
	/go/tidb/ddl/delete_range.go:160 +0x1a9
created by github.com/pingcap/tidb/ddl.(*delRange).start
	/go/tidb/ddl/delete_range.go:142 +0xe5
goroutine 37385 [select, 2 minutes]:
github.com/pingcap/tidb/domain.(*Domain).DumpFileGcCheckerLoop.func1()
	/go/tidb/domain/domain.go:1296 +0x1e9
created by github.com/pingcap/tidb/domain.(*Domain).DumpFileGcCheckerLoop
	/go/tidb/domain/domain.go:1287 +0xa5
goroutine 131656 [semacquire]:
sync.runtime_Semacquire(0xc007647178?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007647170)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).waitAllWorkersAndCloseFinalOutputCh(0xc000ba1600, {0xc000ac2fb8, 0x3, 0xc000bf88c0?})
	/go/tidb/executor/aggregate.go:834 +0x5e
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:882 +0xaa5
goroutine 37373 [select]:
github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop.func1()
	/go/tidb/domain/domain.go:1092 +0x1f1
created by github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop
	/go/tidb/domain/domain.go:1083 +0x310
goroutine 37288 [chan receive]:
github.com/pingcap/tidb/executor.(*ProjectionExec).parallelExecute(0xc0001759e0, {0x6d321a8, 0xc000146008}, 0xc00a678c30)
	/go/tidb/executor/projection.go:217 +0x15d
github.com/pingcap/tidb/executor.(*ProjectionExec).Next(0xc0001759e0, {0x6d321a8, 0xc000146008}, 0x4020d77047de0782?)
	/go/tidb/executor/projection.go:181 +0xc5
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d35aa0, 0xc0001759e0}, 0xc00a678c30)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*ExecStmt).next(0xc005f984b0, {0x6d321a8, 0xc000146008}, {0x6d35aa0, 0xc0001759e0}, 0xc00b27d8f0?)
	/go/tidb/executor/adapter.go:898 +0x8a
github.com/pingcap/tidb/executor.(*recordSet).Next(0xc00a678be0, {0x6d321a8, 0xc000146008}, 0xc00a678c30)
	/go/tidb/executor/adapter.go:152 +0x15a
github.com/pingcap/tidb/util/sqlexec.DrainRecordSet({0x6d321a8, 0xc000146008}, {0x6d32bb8, 0xc004adad20}, 0xd2?)
	/go/tidb/util/sqlexec/restricted_sql_executor.go:225 +0xff
github.com/pingcap/tidb/ddl.(*session).execute(0xc00757bf60, {0x6d321a8, 0xc000146008}, {0xc000978620, 0xd2}, {0x5a778e8, 0xd})
	/go/tidb/ddl/ddl.go:1622 +0x3be
github.com/pingcap/tidb/ddl.(*ddl).getJob(0xc00a3e2d80, 0x88e0db4?, 0x1, 0xc00a583a10)
	/go/tidb/ddl/job_table.go:98 +0x1f6
github.com/pingcap/tidb/ddl.(*ddl).getReorgJob(0xc00a3e2d80, 0xc00757bf60)
	/go/tidb/ddl/job_table.go:146 +0x7b
github.com/pingcap/tidb/ddl.(*ddl).getDDLJobAndRun(0xc00a3e2d80, 0xc00045fc98?, 0xc00b42b380, 0xc00045fe00)
	/go/tidb/ddl/job_table.go:204 +0x407
github.com/pingcap/tidb/ddl.(*ddl).startDispatchLoop(0xc00a3e2d80)
	/go/tidb/ddl/job_table.go:189 +0x989
github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
	/go/tidb/util/wait_group_wrapper.go:33 +0x74
created by github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run
	/go/tidb/util/wait_group_wrapper.go:31 +0xdd
goroutine 131660 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc00b0add80)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc00b0add80, {0x6d8aec8, 0xc0075ff440}, 0xc0076476a0, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 37382 [select, 22 minutes]:
github.com/pingcap/tidb/statistics/handle.(*Handle).drainColTask(0xc005bf8a20, 0xc007030720)
	/go/tidb/statistics/handle/handle_hist.go:371 +0x1a5
github.com/pingcap/tidb/statistics/handle.(*Handle).HandleOneTask(0x0?, 0x0, 0x0?, {0x7f2d737db9e0, 0xc0075fe6c0}, 0x0?)
	/go/tidb/statistics/handle/handle_hist.go:191 +0xf4
github.com/pingcap/tidb/statistics/handle.(*Handle).SubLoadWorker(0xc005bf8a20, {0x6d8aec8?, 0xc0075fe6c0}, 0x4f16af9?, 0xc00507c5c8)
	/go/tidb/statistics/handle/handle_hist.go:167 +0x188
created by github.com/pingcap/tidb/domain.(*Domain).StartLoadStatsSubWorkers
	/go/tidb/domain/domain.go:1380 +0x2af
goroutine 37386 [select, 2 minutes]:
github.com/pingcap/tidb/domain.(*Domain).LoadSigningCertLoop.func1()
	/go/tidb/domain/domain.go:1651 +0x170
created by github.com/pingcap/tidb/domain.(*Domain).LoadSigningCertLoop
	/go/tidb/domain/domain.go:1644 +0xa5
goroutine 131654 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf9300)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf9300, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf9300, {0x6d8aec8, 0xc0075ff440}, 0xc007647190)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 37292 [select]:
github.com/pingcap/tidb/ddl.(*ddl).startCleanDeadTableLock(0xc00a3e2d80)
	/go/tidb/ddl/ddl.go:1071 +0x232
created by github.com/pingcap/tidb/ddl.(*ddl).Start
	/go/tidb/ddl/ddl.go:669 +0x836
goroutine 131636 [select]:
github.com/pingcap/tidb/executor.(*HashJoinExec).runJoinWorker(0xc000750a00, 0x1, {0xc007646af8, 0x1, 0x1})
	/go/tidb/executor/join.go:465 +0x519
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/go/tidb/executor/join.go:359 +0xf8
github.com/pingcap/tidb/util.WithRecovery(0xc00b5acb40, 0xc005443840)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:357 +0x3d9
goroutine 131651 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf90c0)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf90c0, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf90c0, {0x6d8aec8, 0xc0075ff440}, 0xc007647190)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131653 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf9240)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf9240, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf9240, {0x6d8aec8, 0xc0075ff440}, 0xc007647190)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131657 [select]:
github.com/pingcap/tidb/store/copr.(*copIterator).recvFromRespCh(0xc0079944e0, {0x6d321a8, 0xc000146008}, 0xc000119a40)
	/go/tidb/store/copr/coprocessor.go:512 +0x254
github.com/pingcap/tidb/store/copr.(*copIterator).Next(0xc0079944e0, {0x6d321a8, 0xc000146008})
	/go/tidb/store/copr/coprocessor.go:611 +0x226
github.com/pingcap/tidb/distsql.(*selectResult).fetchResp(0xc005f98780, {0x6d321a8, 0xc000146008})
	/go/tidb/distsql/select_result.go:195 +0x14c
github.com/pingcap/tidb/distsql.(*selectResult).Next(0xc005f98780, {0x6d321a8, 0xc000146008}, 0xc00abf3720)
	/go/tidb/distsql/select_result.go:263 +0x185
github.com/pingcap/tidb/executor.(*tableResultHandler).nextChunk(0xc004633f20, {0x6d321a8, 0xc000146008}, 0xc00abf3720)
	/go/tidb/executor/table_reader.go:486 +0x1a9
github.com/pingcap/tidb/executor.(*TableReaderExecutor).Next(0xc000871040, {0x6d321a8, 0xc000146008}, 0xc00abf3720)
	/go/tidb/executor/table_reader.go:249 +0x336
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d36120, 0xc000871040}, 0xc00abf3720)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*HashAggExec).fetchChildData(0xc000ba1400, {0x6d321a8, 0xc000146008}, 0xc007647690)
	/go/tidb/executor/aggregate.go:805 +0x31a
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:842 +0x1a5
goroutine 37293 [select]:
github.com/pingcap/tidb/ddl.(*ddl).PollTiFlashRoutine(0xc00a3e2d80)
	/go/tidb/ddl/ddl_tiflash_api.go:576 +0x331
github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
	/go/tidb/util/wait_group_wrapper.go:33 +0x74
created by github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run
	/go/tidb/util/wait_group_wrapper.go:31 +0xdd
goroutine 37294 [runnable]:
sync.runtime_Semacquire(0xc00b050878?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc00b050870)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*dbWriter).Write(0xc0009e89c0, {0x6d381a0?, 0xc00b050800})
	/go/tidb/store/mockstore/unistore/tikv/write.go:232 +0x145
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).CheckTxnStatus(0xc000cd7200, 0xc0066ff7c0, 0xc005c7efc0)
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:451 +0xe5b
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).KvCheckTxnStatus(0xc0009e8a40, {0xc000bd608a?, 0x6?}, 0xc005c7efc0)
	/go/tidb/store/mockstore/unistore/tikv/server.go:294 +0x391
github.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest(0xc0002a9ce0, {0x6d32218, 0xc00962d320}, {0xc000bd608a, 0x6}, 0xc006564b40, 0xc00962d2f0?)
	/go/tidb/store/mockstore/unistore/rpc.go:193 +0x2bef
github.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest(0xc0002a9e30, {0x6d32218, 0xc00962d320}, {0xc000bd608a, 0x6}, 0xc006564b40, 0x1554ab7?)
	/go/tidb/store/mockstore/redirector.go:72 +0x177
github.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest({{0x6d2b160?, 0xc0002a9e30?}}, {0x6d32218, 0xc00962d320}, {0xc000bd608a, 0x6}, 0x6fc23ac00?, 0x6fc23ac00)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_interceptor.go:42 +0x20c
github.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest({{0x6d30a70?, 0xc00090efd0?}}, {0x6d32218, 0xc00962d320}, {0xc000bd608a, 0x6}, 0x159d677?, 0x2?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_collapse.go:74 +0x131
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion(0xc009599d00, 0xc007c946c0, 0xc005c99b20, 0xc006564b40, 0xc009599b50?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1184 +0xd45
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx(0xc009599d00, 0xc007c946c0, 0xc006564b40, {0x2, 0x1, 0x1}, 0x6fc23ac00, 0x0, {0x0, 0x0, ...})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1017 +0x1967
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReq(...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:233
github.com/tikv/client-go/v2/tikv.(*KVStore).SendReq(0xc0003e2140, 0xc00962d320?, 0xc006c39220?, {0x24?, 0xa0?, 0x1a3457986c1?}, 0xc0b09d7f75564863?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:402 +0x15a
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).getTxnStatus(0xc0007661c0, 0xc007c946c0, 0x6090b284dc80002, {0xc006c39220, 0x24, 0xa0}, 0x6090b286f180000, 0x6090b286f180000, 0x0, 0x0, ...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:713 +0x555
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).getTxnStatusFromLock(0xc0007661c0, 0xc007c946c0, 0xc005c7ef00, 0x6090b286f180000, 0x0?, 0xc00959a680?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:619 +0x29f
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).resolveLocks.func2(0xc005c7ef00, 0x0)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:441 +0xcf
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).resolveLocks(0xc0007661c0, 0xc007c946c0, {0x6090b286f180000, {0xc0058048b0, 0x1, 0x1}, 0x1, 0x1, 0x0})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:494 +0x556
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).ResolveLocksWithOpts(...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:341
github.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).ResolveLocksWithOpts(0xc0065f7280, 0xc0058048b0?, {0x6090b286f180000, {0xc0058048b0, 0x1, 0x1}, 0x1, 0x1, 0x0})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnsnapshot/client_helper.go:89 +0x276
github.com/tikv/client-go/v2/txnkv/txnsnapshot.(*KVSnapshot).get(0xc006564780, {0x6d32218, 0xc00962d320}, 0xc007c946c0, {0xc0051cfd70, 0x1b, 0x21})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnsnapshot/snapshot.go:679 +0x1b88
github.com/tikv/client-go/v2/txnkv/txnsnapshot.(*KVSnapshot).Get(0xc006564780, {0x6d321a8, 0xc000146018}, {0xc0051cfd70, 0x1b, 0x21})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnsnapshot/snapshot.go:529 +0x66d
github.com/pingcap/tidb/store/driver/txn.(*tikvSnapshot).Get(0xc007c3b008, {0x6d321a8, 0xc000146018}, {0xc0051cfd70, 0x1b, 0x21})
	/go/tidb/store/driver/txn/snapshot.go:59 +0x21f
github.com/pingcap/tidb/structure.(*TxStructure).Get(0xc0065f71c0, {0xc00959b2e8, 0x8, 0x20})
	/go/tidb/structure/string.go:37 +0xe7
github.com/pingcap/tidb/meta.(*Meta).GetSchemaDiff(0xc00962d260, 0x88afd40?)
	/go/tidb/meta/meta.go:1417 +0x147
github.com/pingcap/tidb/meta.(*Meta).GetSchemaVersionWithNonEmptyDiff(0xc00962d260)
	/go/tidb/meta/meta.go:377 +0x85
github.com/pingcap/tidb/domain.(*Domain).loadInfoSchema(0xc00507c500, 0x5a632bc?)
	/go/tidb/domain/domain.go:129 +0x85
github.com/pingcap/tidb/domain.(*Domain).Reload(0xc00507c500)
	/go/tidb/domain/domain.go:429 +0x1c5
github.com/pingcap/tidb/domain.(*Domain).loadSchemaInLoop(0xc00507c500, {0x6d32170, 0xc0070c9c40}, 0x7a120)
	/go/tidb/domain/domain.go:616 +0x2d7
created by github.com/pingcap/tidb/domain.(*Domain).Init
	/go/tidb/domain/domain.go:887 +0x1295
goroutine 37289 [select]:
github.com/pingcap/tidb/ddl.(*worker).start(0xc00a3e3600, 0xc00b399500)
	/go/tidb/ddl/ddl_worker.go:194 +0x525
created by github.com/pingcap/tidb/ddl.(*ddl).prepareWorkers4legacyDDL
	/go/tidb/ddl/ddl.go:629 +0x551
goroutine 131630 [select]:
github.com/pingcap/tidb/executor.readProjectionInput(0xc009302f00, 0xc000119c20)
	/go/tidb/executor/projection.go:458 +0xa7
github.com/pingcap/tidb/executor.(*projectionWorker).run(0xc00b5ac380, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:427 +0x1ef
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:275 +0xca7
goroutine 37381 [select, 22 minutes]:
github.com/pingcap/tidb/statistics/handle.(*Handle).drainColTask(0xc005bf8a20, 0xc007030720)
	/go/tidb/statistics/handle/handle_hist.go:371 +0x1a5
github.com/pingcap/tidb/statistics/handle.(*Handle).HandleOneTask(0xc0067ffc80?, 0x0, 0x0?, {0x7f2d737db9e0, 0xc0075fe480}, 0x0?)
	/go/tidb/statistics/handle/handle_hist.go:191 +0xf4
github.com/pingcap/tidb/statistics/handle.(*Handle).SubLoadWorker(0xc005bf8a20, {0x6d8aec8?, 0xc0075fe480}, 0x0?, 0xc00507c5c8)
	/go/tidb/statistics/handle/handle_hist.go:167 +0x188
created by github.com/pingcap/tidb/domain.(*Domain).StartLoadStatsSubWorkers
	/go/tidb/domain/domain.go:1380 +0x2af
goroutine 37296 [select]:
github.com/pingcap/tidb/domain.(*Domain).infoSyncerKeeper(0xc00507c500)
	/go/tidb/domain/domain.go:536 +0x289
created by github.com/pingcap/tidb/domain.(*Domain).Init
	/go/tidb/domain/domain.go:891 +0x13b6
goroutine 131668 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf8b00)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf8b00, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf8b00, {0x6d8aec8, 0xc0075ff440}, 0xc0076476b0)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131638 [select]:
github.com/pingcap/tidb/executor.(*HashJoinExec).runJoinWorker(0xc000750a00, 0x3, {0xc007646af8, 0x1, 0x1})
	/go/tidb/executor/join.go:465 +0x519
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/go/tidb/executor/join.go:359 +0xf8
github.com/pingcap/tidb/util.WithRecovery(0xc00b5acbc0, 0xc005443860)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:357 +0x3d9
goroutine 37369 [select, 2 minutes]:
github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop.func1()
	/go/tidb/domain/domain.go:1042 +0x1f1
created by github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop
	/go/tidb/domain/domain.go:1033 +0x485
goroutine 37290 [runnable]:
github.com/pingcap/tidb/ddl.(*worker).start(0xc00a3e3580, 0xc00b399500)
	/go/tidb/ddl/ddl_worker.go:194 +0x525
created by github.com/pingcap/tidb/ddl.(*ddl).prepareWorkers4legacyDDL
	/go/tidb/ddl/ddl.go:629 +0x551
goroutine 37298 [select]:
github.com/pingcap/tidb/domain.(*Domain).topologySyncerKeeper(0xc00507c500)
	/go/tidb/domain/domain.go:582 +0x289
created by github.com/pingcap/tidb/domain.(*Domain).Init
	/go/tidb/domain/domain.go:895 +0x14d7
goroutine 131637 [select]:
github.com/pingcap/tidb/executor.(*HashJoinExec).runJoinWorker(0xc000750a00, 0x2, {0xc007646af8, 0x1, 0x1})
	/go/tidb/executor/join.go:465 +0x519
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/go/tidb/executor/join.go:359 +0xf8
github.com/pingcap/tidb/util.WithRecovery(0xc00b5acb80, 0xc005443850)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:357 +0x3d9
goroutine 37308 [select]:
github.com/pingcap/tidb/domain.(*Domain).handleEvolvePlanTasksLoop.func1()
	/go/tidb/domain/domain.go:1211 +0x196
created by github.com/pingcap/tidb/domain.(*Domain).handleEvolvePlanTasksLoop
	/go/tidb/domain/domain.go:1204 +0x135
goroutine 37383 [select, 22 minutes]:
github.com/pingcap/tidb/statistics/handle.(*Handle).drainColTask(0xc005bf8a20, 0xc007030720)
	/go/tidb/statistics/handle/handle_hist.go:371 +0x1a5
github.com/pingcap/tidb/statistics/handle.(*Handle).HandleOneTask(0x0?, 0x0, 0x0?, {0x7f2d737db9e0, 0xc0075fe900}, 0x0?)
	/go/tidb/statistics/handle/handle_hist.go:191 +0xf4
github.com/pingcap/tidb/statistics/handle.(*Handle).SubLoadWorker(0xc005bf8a20, {0x6d8aec8?, 0xc0075fe900}, 0x4f16af9?, 0xc00507c5c8)
	/go/tidb/statistics/handle/handle_hist.go:167 +0x188
created by github.com/pingcap/tidb/domain.(*Domain).StartLoadStatsSubWorkers
	/go/tidb/domain/domain.go:1380 +0x2af
goroutine 131648 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc000bf8f00)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc000bf8f00, {0x6d8aec8, 0xc0075ff440}, 0xc007647180, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 37307 [select]:
github.com/pingcap/tidb/domain.(*Domain).globalBindHandleWorkerLoop.func1()
	/go/tidb/domain/domain.go:1174 +0x27d
created by github.com/pingcap/tidb/domain.(*Domain).globalBindHandleWorkerLoop
	/go/tidb/domain/domain.go:1161 +0xf0
goroutine 131643 [chan receive]:
github.com/pingcap/tidb/executor.(*HashAggExec).parallelExec(0xc000ba1400, {0x6d321a8, 0xc000146008}, 0xc00abf3ea0)
	/go/tidb/executor/aggregate.go:906 +0x299
github.com/pingcap/tidb/executor.(*HashAggExec).Next(0xc000ba1400, {0x6d321a8, 0xc000146008}, 0xc00abf3ea0)
	/go/tidb/executor/aggregate.go:775 +0x13f
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d354a0, 0xc000ba1400}, 0xc00abf3ea0)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*SelectionExec).Next(0xc0079941a0, {0x6d321a8, 0xc000146008}, 0xc00abf3f90)
	/go/tidb/executor/executor.go:1554 +0x219
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d35ce0, 0xc0079941a0}, 0xc00abf3f90)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*HashAggExec).fetchChildData(0xc000ba1600, {0x6d321a8, 0xc000146008}, 0xc007647170)
	/go/tidb/executor/aggregate.go:805 +0x31a
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:842 +0x1a5
goroutine 37380 [select, 22 minutes]:
github.com/pingcap/tidb/statistics/handle.(*Handle).drainColTask(0xc005bf8a20, 0xc007030720)
	/go/tidb/statistics/handle/handle_hist.go:371 +0x1a5
github.com/pingcap/tidb/statistics/handle.(*Handle).HandleOneTask(0x151db96?, 0x0, 0xc000060000?, {0x7f2d737db9e0, 0xc0075fe240}, 0xc004e2a900?)
	/go/tidb/statistics/handle/handle_hist.go:191 +0xf4
github.com/pingcap/tidb/statistics/handle.(*Handle).SubLoadWorker(0xc005bf8a20, {0x6d8aec8?, 0xc0075fe240}, 0xc00b833c70?, 0xc00507c5c8)
	/go/tidb/statistics/handle/handle_hist.go:167 +0x188
created by github.com/pingcap/tidb/domain.(*Domain).StartLoadStatsSubWorkers
	/go/tidb/domain/domain.go:1380 +0x2af
goroutine 131645 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc000bf8cc0)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc000bf8cc0, {0x6d8aec8, 0xc0075ff440}, 0xc007647180, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131627 [chan receive]:
github.com/pingcap/tidb/executor.(*HashJoinExec).Next(0xc000750a00, {0x6d321a8?, 0xc000146008}, 0xc00a679220)
	/go/tidb/executor/join.go:711 +0xf38
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d354e0, 0xc000750a00}, 0xc00a679220)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*SortExec).fetchRowChunks(0xc0046e46c0, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/sort.go:198 +0xda9
github.com/pingcap/tidb/executor.(*SortExec).Next(0xc0046e46c0, {0x6d321a8, 0xc000146008}, 0xc00a678c80)
	/go/tidb/executor/sort.go:116 +0x785
github.com/pingcap/tidb/executor.Next({0x6d321a8, 0xc000146008}, {0x6d35fe0, 0xc0046e46c0}, 0xc00a678c80)
	/go/tidb/executor/executor.go:319 +0x5bc
github.com/pingcap/tidb/executor.(*projectionInputFetcher).run(0xc000175a60, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:380 +0x48a
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:271 +0xc7b
goroutine 131662 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc00b0adf00)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc00b0adf00, {0x6d8aec8, 0xc0075ff440}, 0xc0076476a0, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131625 [semacquire]:
sync.runtime_Semacquire(0x0?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007605e30)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*latches).acquireOne(0xc000cd3000, 0xe65c9cffafff675a, 0xc007646770)
	/go/tidb/store/mockstore/unistore/tikv/region.go:109 +0x4d
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*latches).acquire(0x7f2d796e5fa8?, {0xc007646768, 0x1, 0x1554f9b?})
	/go/tidb/store/mockstore/unistore/tikv/region.go:93 +0x85
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*regionCtx).AcquireLatches(0xc0001b9680, {0xc007646768, 0x1, 0x1})
	/go/tidb/store/mockstore/unistore/tikv/region.go:247 +0xae
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).CheckTxnStatus(0xc000cd7200, 0xc005a28820, 0xc009303620)
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:411 +0x157
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).KvCheckTxnStatus(0xc0009e8a40, {0xc000bd608a?, 0x6?}, 0xc009303620)
	/go/tidb/store/mockstore/unistore/tikv/server.go:294 +0x391
github.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest(0xc0002a9ce0, {0x6d32170, 0xc00b5ac700}, {0xc000bd608a, 0x6}, 0xc006bb03c0, 0xc005e4f507?)
	/go/tidb/store/mockstore/unistore/rpc.go:193 +0x2bef
github.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest(0xc0002a9e30, {0x6d32170, 0xc00b5ac700}, {0xc000bd608a, 0x6}, 0xc006bb03c0, 0x7f2dc2fc0108?)
	/go/tidb/store/mockstore/redirector.go:72 +0x177
github.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1({0xc000bd608a, 0x6}, 0x2b2b992?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_interceptor.go:39 +0x9e
github.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1({0xc000bd608a, 0x6}, 0x99c96a0?)
	/go/tidb/util/topsql/stmtstats/kv_exec_count.go:57 +0x92
github.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest({{0x6d2b160?, 0xc0002a9e30?}}, {0x6d32170, 0xc00b5ac700}, {0xc000bd608a, 0x6}, 0x6fc23ac00?, 0x6fc23ac00)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_interceptor.go:40 +0x1a2
github.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest({{0x6d30a70?, 0xc00090efd0?}}, {0x6d32170, 0xc00b5ac700}, {0xc000bd608a, 0x6}, 0x159d677?, 0x2?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_collapse.go:74 +0x131
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion(0xc00065c1e8, 0xc00a77c240, 0xc00b3ac930, 0xc006bb03c0, 0xc00065c038?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1184 +0xd45
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx(0xc00065c1e8, 0xc00a77c240, 0xc006bb03c0, {0x2, 0x1, 0x1}, 0x6fc23ac00, 0x0, {0x0, 0x0, ...})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1017 +0x1967
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReq(...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:233
github.com/tikv/client-go/v2/tikv.(*KVStore).SendReq(0xc0003e2140, 0xc004ada180?, 0xc00b6d2e00?, {0x24?, 0x380?, 0x1554ae5?}, 0x43fb012?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/tikv/kv.go:402 +0x15a
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).getTxnStatus(0xc0007661c0, 0xc00a77c240, 0x6090b284dc80002, {0xc00b6d2e00, 0x24, 0x380}, 0x6090b284e640000, 0x6090b284e6c0003, 0x0, 0x0, ...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:713 +0x555
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).getTxnStatusFromLock(0xc0007661c0, 0xc00a77c240, 0xc0093035c0, 0x6090b284e640000, 0x25?, 0xc0059b5080?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:619 +0x29f
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).resolveLocks.func2(0xc0093035c0, 0x0)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:441 +0xcf
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).resolveLocks(0xc0007661c0, 0xc00a77c240, {0x6090b284e640000, {0xc004e04d28, 0x1, 0x1}, 0x0, 0x1, 0xc007646738})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:494 +0x556
github.com/tikv/client-go/v2/txnkv/txnlock.(*LockResolver).ResolveLocksWithOpts(...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnlock/lock_resolver.go:341
github.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).ResolveLocksWithOpts(0xc00b5ac0c0, 0x5421da0?, {0x6090b284e640000, {0xc004e04d28, 0x1, 0x1}, 0x0, 0x1, 0xc007646738})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/txnsnapshot/client_helper.go:89 +0x276
github.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleCopResponse(0xc00abf3630, 0xc004e04cc8, 0xc00b3ac460, 0xc00a679130, {0xc005b9d520, 0x19b, 0x19b}, 0x0, 0xc0070f6000, 0xc000119a40, ...)
	/go/tidb/store/copr/coprocessor.go:927 +0xf68
github.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce(0xc00abf3630, 0xc004e04cc8, 0xc0070f6000, 0xc0070f6000?)
	/go/tidb/store/copr/coprocessor.go:806 +0x1b25
github.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask(0xc00abf3630, {0x6d32218, 0xc004ada180}, 0xc0070f6000, 0xc000119a40)
	/go/tidb/store/copr/coprocessor.go:688 +0x1e6
github.com/pingcap/tidb/store/copr.(*copIteratorWorker).run(0xc00abf3630, {0x6d32218, 0xc004ada180})
	/go/tidb/store/copr/coprocessor.go:430 +0x174
created by github.com/pingcap/tidb/store/copr.(*copIterator).open
	/go/tidb/store/copr/coprocessor.go:462 +0xc5
goroutine 131658 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc00b0adc00)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc00b0adc00, {0x6d8aec8, 0xc0075ff440}, 0xc0076476a0, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131628 [select]:
github.com/pingcap/tidb/executor.readProjectionInput(0xc009302cc0, 0xc000119c20)
	/go/tidb/executor/projection.go:458 +0xa7
github.com/pingcap/tidb/executor.(*projectionWorker).run(0xc00b5ac300, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:427 +0x1ef
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:275 +0xca7
goroutine 131631 [select]:
github.com/pingcap/tidb/executor.readProjectionInput(0xc009303020, 0xc000119c20)
	/go/tidb/executor/projection.go:458 +0xa7
github.com/pingcap/tidb/executor.(*projectionWorker).run(0xc00b5ac3c0, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:427 +0x1ef
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:275 +0xca7
goroutine 131670 [semacquire]:
sync.runtime_Semacquire(0xc007647698?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007647690)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).waitAllWorkersAndCloseFinalOutputCh(0xc000ba1400, {0xc000501fb8, 0x3, 0x2c3cce0?})
	/go/tidb/executor/aggregate.go:834 +0x5e
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:882 +0xaa5
goroutine 131652 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf9180)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf9180, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf9180, {0x6d8aec8, 0xc0075ff440}, 0xc007647190)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131646 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc000bf8d80)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc000bf8d80, {0x6d8aec8, 0xc0075ff440}, 0xc007647180, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131665 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf88c0)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf88c0, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf88c0, {0x6d8aec8, 0xc0075ff440}, 0xc0076476b0)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131639 [select]:
github.com/pingcap/tidb/executor.(*HashJoinExec).runJoinWorker(0xc000750a00, 0x4, {0xc007646af8, 0x1, 0x1})
	/go/tidb/executor/join.go:465 +0x519
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/go/tidb/executor/join.go:359 +0xf8
github.com/pingcap/tidb/util.WithRecovery(0xc00b5acc00, 0xc005443870)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:357 +0x3d9
goroutine 131661 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc00b0ade40)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc00b0ade40, {0x6d8aec8, 0xc0075ff440}, 0xc0076476a0, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131667 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf8a40)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf8a40, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf8a40, {0x6d8aec8, 0xc0075ff440}, 0xc0076476b0)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131650 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf9000)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf9000, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf9000, {0x6d8aec8, 0xc0075ff440}, 0xc007647190)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131644 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc000bf8c00)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc000bf8c00, {0x6d8aec8, 0xc0075ff440}, 0xc007647180, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131669 [semacquire]:
sync.runtime_Semacquire(0xc0076476b8?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc0076476b0)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec.func2()
	/go/tidb/executor/aggregate.go:874 +0x59
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:873 +0x958
goroutine 131632 [select]:
github.com/pingcap/tidb/executor.readProjectionInput(0xc009303140, 0xc000119c20)
	/go/tidb/executor/projection.go:458 +0xa7
github.com/pingcap/tidb/executor.(*projectionWorker).run(0xc00b5ac400, {0x6d321a8, 0xc000146008})
	/go/tidb/executor/projection.go:427 +0x1ef
created by github.com/pingcap/tidb/executor.(*ProjectionExec).prepare
	/go/tidb/executor/projection.go:275 +0xca7
goroutine 131635 [select]:
github.com/pingcap/tidb/executor.(*HashJoinExec).runJoinWorker(0xc000750a00, 0x0, {0xc007646af8, 0x1, 0x1})
	/go/tidb/executor/join.go:465 +0x519
github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable.func2()
	/go/tidb/executor/join.go:359 +0xf8
github.com/pingcap/tidb/util.WithRecovery(0xc00b5acb00, 0xc005443830)
	/go/tidb/util/misc.go:95 +0x6e
created by github.com/pingcap/tidb/executor.(*HashJoinExec).fetchAndProbeHashTable
	/go/tidb/executor/join.go:357 +0x3d9
goroutine 131664 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf8800)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf8800, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf8800, {0x6d8aec8, 0xc0075ff440}, 0xc0076476b0)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131649 [semacquire]:
sync.runtime_Semacquire(0xc007647188?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007647180)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/executor.(*HashAggExec).waitPartialWorkerAndCloseOutputChs(0xc000ba1600, 0xc000ba1000?)
	/go/tidb/executor/aggregate.go:822 +0x4f
github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec.func1()
	/go/tidb/executor/aggregate.go:862 +0x67
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:861 +0x611
goroutine 131666 [select]:
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).getPartialInput(0xc000bf8980)
	/go/tidb/executor/aggregate.go:635 +0xed
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).consumeIntermData(0xc000bf8980, {0x6d8aec8, 0xc0075ff440})
	/go/tidb/executor/aggregate.go:656 +0xec
github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run(0xc000bf8980, {0x6d8aec8, 0xc0075ff440}, 0xc0076476b0)
	/go/tidb/executor/aggregate.go:763 +0xf6
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:871 +0x6b5
goroutine 131659 [select]:
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).getChildInput(0xc00b0adcc0)
	/go/tidb/executor/aggregate.go:434 +0x10a
github.com/pingcap/tidb/executor.(*HashAggPartialWorker).run(0xc00b0adcc0, {0x6d8aec8, 0xc0075ff440}, 0xc0076476a0, 0x5)
	/go/tidb/executor/aggregate.go:474 +0x1d0
created by github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec
	/go/tidb/executor/aggregate.go:859 +0x2fc
goroutine 131571 [semacquire]:
sync.runtime_Semacquire(0xc007605e38?)
	/usr/local/go/src/runtime/sema.go:56 +0x25
sync.(*WaitGroup).Wait(0xc007605e30)
	/usr/local/go/src/sync/waitgroup.go:136 +0x9c
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*latches).acquireOne(0xc000cd3000, 0xe65c9cffafff675a, 0xc007680440)
	/go/tidb/store/mockstore/unistore/tikv/region.go:109 +0x4d
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*latches).acquire(0x52d2cd0?, {0xc00b3a0060, 0x3, 0xc004570d00?})
	/go/tidb/store/mockstore/unistore/tikv/region.go:93 +0x85
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*regionCtx).AcquireLatches(0xc0001b9680, {0xc00b3a0060, 0x3, 0x3})
	/go/tidb/store/mockstore/unistore/tikv/region.go:247 +0xae
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*MVCCStore).Commit(0xc000cd7200, 0xc0099955e0, {0xc00948bef0?, 0x3, 0x3}, 0x6090b284dc80002, 0x6090b284e100000)
	/go/tidb/store/mockstore/unistore/tikv/mvcc.go:951 +0x1d1
github.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).KvCommit(0xc0009e8a40, {0x40?, 0x6?}, 0xc00948bf40)
	/go/tidb/store/mockstore/unistore/tikv/server.go:363 +0x3fb
github.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest(0xc0002a9ce0, {0x6d32218, 0xc007acc240}, {0xc000bd608a, 0x6}, 0xc007208dc0, 0x6090b284dc80002?)
	/go/tidb/store/mockstore/unistore/rpc.go:183 +0x19d4
github.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest(0xc0002a9e30, {0x6d32218, 0xc007acc240}, {0xc000bd608a, 0x6}, 0xc007208dc0, 0x7f2dc2fc0108?)
	/go/tidb/store/mockstore/redirector.go:72 +0x177
github.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1({0xc000bd608a, 0x6}, 0x2b2b992?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_interceptor.go:39 +0x9e
github.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1({0xc000bd608a, 0x6}, 0x99c96a0?)
	/go/tidb/util/topsql/stmtstats/kv_exec_count.go:57 +0x92
github.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest({{0x6d2b160?, 0xc0002a9e30?}}, {0x6d32218, 0xc007acc240}, {0xc000bd608a, 0x6}, 0x6fc23ac00?, 0x6fc23ac00)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_interceptor.go:40 +0x1a2
github.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest({{0x6d30a70?, 0xc00090efd0?}}, {0x6d32218, 0xc007acc240}, {0xc000bd608a, 0x6}, 0x159d677?, 0x2?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/client/client_collapse.go:74 +0x131
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion(0xc000662a10, 0xc0075695f0, 0xc009881110, 0xc007208dc0, 0xc0006620e8?)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1184 +0xd45
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx(0xc000662a10, 0xc0075695f0, 0xc007208dc0, {0x2, 0x1, 0x1}, 0x6fc23ac00, 0x0, {0x0, 0x0, ...})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:1017 +0x1967
github.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReq(...)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/internal/locate/region_request.go:233
github.com/tikv/client-go/v2/txnkv/transaction.actionCommit.handleSingleBatch({0xe5}, 0xc00471af00, 0xc0075695f0, {{0x2, 0x1, 0x1}, {0x6d4ad60, 0xc005de85e0}, 0x1})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/commit.go:97 +0xbda
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).doActionOnBatches(0xc00471af00, 0xc0075695f0, {0x6d30b00?, 0xc00768041f}, {0xc0048e3500?, 0x1, 0x1})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/2pc.go:988 +0x483
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).doActionOnGroupMutations(0xc00471af00, 0xc0075695f0, {0x6d30b00, 0xc00768041f?}, {0xc0048e34d0, 0x1, 0xc007680410?})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/2pc.go:921 +0xd98
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).doActionOnMutations(0x578ea60?, 0xc007acc240?, {0x6d30b00?, 0xc00768041f}, {0x6d4ad60, 0xc007ba6c40})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/2pc.go:745 +0x14d
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).commitMutations(0xc00770f7e8?, 0xc0075695f0, {0x6d4ad60, 0xc007ba6c40})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/commit.go:221 +0x2ea
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).commitTxn(0xc00471af00, {0x6d32218?, 0xc007acc240}, 0xc005e2bb00)
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/2pc.go:1610 +0x477
github.com/tikv/client-go/v2/txnkv/transaction.(*twoPhaseCommitter).execute(0xc00471af00, {0x6d32218?, 0xc007acc240})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/2pc.go:1601 +0x3a97
github.com/tikv/client-go/v2/txnkv/transaction.(*KVTxn).Commit(0xc00653e000, {0x6d32218, 0xc007acc1e0?})
	/home/prow/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220725090834-0cdc7c1d0fb9/txnkv/transaction/txn.go:448 +0xcdc
github.com/pingcap/tidb/store/driver/txn.(*tikvTxn).Commit(0xc006363ef0, {0x6d32218, 0xc007acc1e0})
	/go/tidb/store/driver/txn/txn_driver.go:80 +0x54
github.com/pingcap/tidb/session.(*LazyTxn).Commit(0xc0047958d0, {0x6d32218, 0xc007acc1e0})
	/go/tidb/session/txn.go:393 +0x75f
github.com/pingcap/tidb/session.(*session).commitTxnWithTemporaryData(0xc0047958c0, {0x6d32218, 0xc007acc1e0}, {0x6d5d268, 0xc0047958d0})
	/go/tidb/session/session.go:761 +0x2c4
github.com/pingcap/tidb/session.(*session).doCommit(0xc0047958c0, {0x6d32218, 0xc007acc150})
	/go/tidb/session/session.go:651 +0x163b
github.com/pingcap/tidb/session.(*session).doCommitWithRetry(0xc0047958c0, {0x6d32218, 0xc007acc150})
	/go/tidb/session/session.go:893 +0x3a5
github.com/pingcap/tidb/session.(*session).CommitTxn(0xc0047958c0, {0x6d321a8, 0xc000146008})
	/go/tidb/session/session.go:959 +0x2c5
github.com/pingcap/tidb/ddl.(*session).commit(0xc0093cc730)
	/go/tidb/ddl/ddl.go:1590 +0x9d
github.com/pingcap/tidb/ddl.(*worker).HandleDDLJobTable(0xc007a27c80, 0xc00b399500, 0xc0050a4b40)
	/go/tidb/ddl/ddl_worker.go:771 +0xc47
github.com/pingcap/tidb/ddl.(*ddl).delivery2worker.func1()
	/go/tidb/ddl/job_table.go:236 +0x3e6
github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
	/go/tidb/util/wait_group_wrapper.go:33 +0x74
created by github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run
	/go/tidb/util/wait_group_wrapper.go:31 +0xdd 
```
<!-- a step by step guide for reproducing the bug. -->

### 2. What did you expect to see? (Required)

### 3. What did you see instead (Required)

### 4. What is your TiDB version? (Required)

<!-- Paste the output of SELECT tidb_version() -->


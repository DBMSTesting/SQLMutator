ID: 43244
Title: Transaction report "duplicate key" but the record is not touched
Description:
From an internal sysbench based test. The primary key is `(id)`

```
[2023/04/20 14:14:47.284 +08:00] [INFO] [conn.go:1151] ["command dispatched failed"] [conn=2087666916914102811] [connInfo="id:2087666916914102811, addr:10.233.112.197:44426 status:10, collation:utf8mb4_general_ci, user:root"] [command=Query] [status="inTxn:0, autocommit:1"] [sql=COMMIT] [txn_mode=OPTIMISTIC] [timestamp=440918681116213287] [err="previous statement: INSERT INTO `test`.`sbtest2` (`id`,`k`,`c`,`pad`) VALUES (5167,5020,'52711744267-99165402364-22417754133-78878784711-58846911534-96294694239-94046049988-90745224145-59739415510-43843376939','67413399055-89388693987-30380700121-81417810518-88487186053'): [kv:1062]Duplicate entry '5049' for key 'sbtest3.PRIMARY'"]
```

from above error log, we can see connection `2087666916914102811` wants to insert/update the record of `sbtest3` with id=5049. However, in general log that connection didn't access 5049

```
[2023/04/20 14:14:47.254 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=0] [forUpdateTS=0] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="START TRANSACTION"]
[2023/04/20 14:14:47.259 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="UPDATE `test`.`sbtest3` SET `id` = 3948, `k` = 4977, `c` = '64402643549-38484762295-86380231962-85845836657-14275775201-98696676515-01817046922-70188885740-52174108458-50048905307', `pad` = '49121888596-00474031384-79358878849-30940840752-70875686137' WHERE `id` = 3948 LIMIT 1"]
[2023/04/20 14:14:47.261 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest3` WHERE `id` = 5052 LIMIT 1"]
[2023/04/20 14:14:47.262 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest3` (`id`,`k`,`c`,`pad`) VALUES (5052,5015,'89706312053-27471179850-92460369847-57819631522-24166580467-42029486160-33676601863-95478411981-57947814799-05568751534','96053734743-18751133294-37234869048-44778688011-40233573270')"]
[2023/04/20 14:14:47.262 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest3` WHERE `id` = 4982 LIMIT 1"]
[2023/04/20 14:14:47.264 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest3` (`id`,`k`,`c`,`pad`) VALUES (4982,5005,'92914957933-74518275051-78800728857-30391373599-13824303405-56801367294-49297358204-18988879701-49853936535-72162137132','43817822793-11570201192-36176806941-40607736816-67413765857')"]
[2023/04/20 14:14:47.264 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="UPDATE `test`.`sbtest2` SET `id` = 4990, `k` = 6535, `c` = '65250264301-72132090728-30013469746-86818752996-56661405616-59897063036-80566444974-19301757095-66054809182-03832072873', `pad` = '84701489466-15990342895-19941799386-33487416256-54274210288' WHERE `id` = 4990 LIMIT 1"]
[2023/04/20 14:14:47.266 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="UPDATE `test`.`sbtest1` SET `id` = 5816, `k` = 5027, `c` = '55669699777-37264608563-59349880734-55205615859-19950694197-28085980249-97165750599-92286078152-44349583721-42205552711', `pad` = '85460240676-41885006453-46948171035-99858037552-87833108235' WHERE `id` = 5816 LIMIT 1"]
[2023/04/20 14:14:47.266 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest1` WHERE `id` = 4987 LIMIT 1"]
[2023/04/20 14:14:47.269 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest1` (`id`,`k`,`c`,`pad`) VALUES (4987,5044,'65212852145-66912010764-57686615352-76689095715-99158665952-35325467728-82658192461-92206361634-03656490427-54463768289','66308698210-61392234125-92639646436-19345316016-99031527119')"]
[2023/04/20 14:14:47.270 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="UPDATE `test`.`sbtest3` SET `id` = 5099, `k` = 5037, `c` = '69755808008-56733974542-27225946942-52982404821-92807301328-58345468348-68147693896-27797914202-59277789619-02332998067', `pad` = '42606867999-39382632972-21498443526-74292133750-79033042060' WHERE `id` = 5099 LIMIT 1"]
[2023/04/20 14:14:47.273 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="UPDATE `test`.`sbtest1` SET `id` = 6486, `k` = 4604, `c` = '52313723402-56126799589-15095783782-09221038658-01706993577-00237034509-83936669623-57477291510-13380014513-34027482419', `pad` = '54063883965-76666870142-46198289603-34883503108-58273047926' WHERE `id` = 6486 LIMIT 1"]
[2023/04/20 14:14:47.275 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest3` WHERE `id` = 3423 LIMIT 1"]
[2023/04/20 14:14:47.276 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest3` (`id`,`k`,`c`,`pad`) VALUES (3423,5022,'22621088031-34116925820-79917524276-82974889088-77837679020-25423768266-25361947904-01977201482-45294911498-64484871135','64855849094-67842760288-39041976789-10932331702-68993019577')"]
[2023/04/20 14:14:47.277 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest3` WHERE `id` = 4982 LIMIT 1"]
[2023/04/20 14:14:47.278 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest3` (`id`,`k`,`c`,`pad`) VALUES (4982,5042,'09923795259-76995752131-28011689048-36554823048-75941617619-83719392503-50810087545-90298200758-83288632720-58926837431','16992656131-00229748570-48507159493-80129651565-20455947547')"]
[2023/04/20 14:14:47.278 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="DELETE FROM `test`.`sbtest2` WHERE `id` = 5167 LIMIT 1"]
[2023/04/20 14:14:47.280 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="INSERT INTO `test`.`sbtest2` (`id`,`k`,`c`,`pad`) VALUES (5167,5020,'52711744267-99165402364-22417754133-78878784711-58846911534-96294694239-94046049988-90745224145-59739415510-43843376939','67413399055-89388693987-30380700121-81417810518-88487186053')"]
[2023/04/20 14:14:47.281 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=440918681116213287] [forUpdateTS=440918681116213287] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql=COMMIT]
(at this time error log is printed)
[2023/04/20 14:14:47.285 +08:00] [INFO] [session.go:3855] [GENERAL_LOG] [conn=2087666916914102811] [user=root@10.233.112.197] [schemaVersion=70] [txnStartTS=0] [forUpdateTS=0] [isReadConsistency=false] [currentDB=] [isPessimistic=false] [sessionTxnMode=OPTIMISTIC] [sql="START TRANSACTION"]
```
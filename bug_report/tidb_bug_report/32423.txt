ID: 32423
Title: br restore encrypted backup failed "Bad table magic number
Description:
## Bug Report

Please answer these questions before submitting your issue. Thanks!

### 1. Minimal reproduce step (Required)
Run br backup and restore, specifying encryption parameters as below
```
/br  backup  db "-s" "s3://tmp/br-backup-basica744c193-d3d1-4f4a-8f31-dc07172963a1?access-key=minioadmin&secret-access-key=minioadmin&endpoint=http%3a%2f%2fminio.pingcap.net%3a9000&force-path-style=true" "-u" "http://upstream-pd.brie-acceptance-tps-633695-1-121:2379" "--db" "IFRS9" "--use-backupmeta-v2" "--crypter.method" "aes128-ctr" "--crypter.key" "0123456789abcdef0123456789abcdef"

/br  restore  db "-s" "s3://tmp/br-backup-basica744c193-d3d1-4f4a-8f31-dc07172963a1?access-key=minioadmin&secret-access-key=minioadmin&endpoint=http%3a%2f%2fminio.pingcap.net%3a9000&force-path-style=true" "-u" "http://downstream-pd.brie-acceptance-tps-633695-1-121:2379" "--db" "IFRS9" "--crypter.method" "aes128-ctr" "--crypter.key" "0123456789abcdef0123456789abcdef"
```

### 2. What did you expect to see? (Required)
Restore can be successful.

### 3. What did you see instead (Required)
restore failed, error: "Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/b10f671b-0aa3-4914-938b-6f2c021605d0_20460_5_3231_default.sst"
```
# /br  restore  db "-s" "s3://tmp/br-backup-basica744c193-d3d1-4f4a-8f31-dc07172963a1?access-key=minioadmin&secret-access-key=minioadmin&endpoint=http%3a%2f%2fminio.pingcap.net%3a9000&force-path-style=true" "-u" "http://downstream-pd.brie-acceptance-tps-633695-1-121:2379" "--db" "IFR
S9" "--crypter.method" "aes128-ctr" "--crypter.key" "0123456789abcdef0123456789abcdef"
Detail BR log in /tmp/br.log.2022-02-17T02.15.31Z
Database restore <-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------> 100.00%
[2022/02/17 02:16:12.110 +00:00] [INFO] [collector.go:67] ["Database restore failed summary"] [total-ranges=1] [ranges-succeed=0] [ranges-failed=1] [split-region=450.889Âµs] [restore-ranges=50] [unit-name=file] [error="Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/b10f671b-0aa3-4914-938b-6f2c021605d0_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/61410545-b809-4f54-a489-82103a53816d_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e8734dca-9ea7-46a6-ac2b-ebc0b66e629b_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e9eac562-0bf4-4218-b8f9-e22fa41ac1f0_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/158d4eb2-bf11-499d-ab3a-c2283edfded9_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/17d525b2-10ff-4054-b462-bb49f4964746_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/076a7695-51d8-46f8-af49-f2d16bd2c1df_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/2fa5a118-9f91-49f5-966d-dc55313f3616_20460_5_3231_default.sst\"): [BR:KV:ErrKVDownloadFailed]download sst failed"] [errorVerbose="the following errors occurred:\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/b10f671b-0aa3-4914-938b-6f2c021605d0_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/61410545-b809-4f54-a489-82103a53816d_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e8734dca-9ea7-46a6-ac2b-ebc0b66e629b_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e9eac562-0bf4-4218-b8f9-e22fa41ac1f0_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/158d4eb2-bf11-499d-ab3a-c2283edfded9_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/17d525b2-10ff-4054-b462-bb49f4964746_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/076a7695-51d8-46f8-af49-f2d16bd2c1df_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371\n -  [BR:KV:ErrKVDownloadFailed]download sst failed\n    Engine Engine(\"Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/2fa5a118-9f91-49f5-966d-dc55313f3616_20460_5_3231_default.sst\")\n    github.com/pingcap/tidb/br/pkg/restore.(*FileImporter).downloadSST.func1\n    \t/home/jenkins/agent/workspace/build-common/go/src/github.com/pingcap/br/br/pkg/restore/import.go:499\n    golang.org/x/sync/errgroup.(*Group).Go.func1\n    \t/nfs/cache/mod/golang.org/x/sync@v0.0.0-20210220032951-036812b2e83c/errgroup/errgroup.go:57\n    runtime.goexit\n    \t/usr/local/go/src/runtime/asm_amd64.s:1371"]
Error: Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/b10f671b-0aa3-4914-938b-6f2c021605d0_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/61410545-b809-4f54-a489-82103a53816d_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e8734dca-9ea7-46a6-ac2b-ebc0b66e629b_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/e9eac562-0bf4-4218-b8f9-e22fa41ac1f0_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/158d4eb2-bf11-499d-ab3a-c2283edfded9_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/17d525b2-10ff-4054-b462-bb49f4964746_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/076a7695-51d8-46f8-af49-f2d16bd2c1df_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed; Engine Engine("Corruption: Bad table magic number: expected 9863518390377041911, found 7952868509031340309 in /var/lib/tikv/data/import/.temp/2fa5a118-9f91-49f5-966d-dc55313f3616_20460_5_3231_default.sst"): [BR:KV:ErrKVDownloadFailed]download sst failed

```

### 4. What is your TiDB version? (Required)
/ # /br -V
Release Version: v5.5.0-nightly
Git Commit Hash: 9659b93250e7f08e33f76e59844835927e3d39d8
Git Branch: heads/refs/tags/v5.5.0-nightly
Go Version: go1.16.4
UTC Build Time: 2022-02-16 06:07:49
Race Enabled: false



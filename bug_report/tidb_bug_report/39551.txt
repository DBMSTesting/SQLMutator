ID: 39551
Title: DATA RACE in TestBootstrap
Description:
## Bug Report

Please answer these questions before submitting your issue. Thanks!

### 1. Minimal reproduce step (Required)

<!-- a step by step guide for reproducing the bug. -->

Find in CI https://do.pingcap.net/jenkins/blue/organizations/jenkins/pingcap%2Ftidb%2Fghpr_unit_test/detail/ghpr_unit_test/8715/pipeline/49

### 2. What did you expect to see? (Required)

No data race

### 3. What did you see instead (Required)

```
==================
WARNING: DATA RACE
Write at 0x00c0067c1290 by goroutine 116:
  github.com/pingcap/tidb/executor.ResetContextOfStmt()
      executor/executor.go:2163 +0x33b6
  github.com/pingcap/tidb/session.(*session).ExecuteStmt()
      session/session.go:2116 +0x408
  github.com/pingcap/tidb/session.(*session).Execute()
      session/session.go:1699 +0x524
  github.com/pingcap/tidb/session.exec()
      session/main_test.go:111 +0xc1
  github.com/pingcap/tidb/session.mustExec()
      session/main_test.go:103 +0x89
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:87 +0xc10
  github.com/pingcap/tidb/session.runStmt()
      session/session.go:2329 +0x85c
  github.com/pingcap/tidb/session.(*session).ExecuteStmt()
      session/session.go:2193 +0x1266
  github.com/pingcap/tidb/session.(*session).Execute()
      session/session.go:1699 +0x524
  github.com/pingcap/tidb/session.exec()
      session/main_test.go:111 +0xc1
  github.com/pingcap/tidb/session.mustExec()
      session/main_test.go:103 +0x89
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:46 +0x16b
  github.com/pingcap/tidb/sessionctx/variable.(*SysVar).ValidateWithRelaxedValidation()
      sessionctx/variable/variable.go:361 +0x213
  github.com/pingcap/tidb/domain.(*Domain).rebuildSysVarCache()
      domain/sysvar_cache.go:146 +0x73c
  github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop()
      domain/domain.go:1360 +0xb9
  github.com/pingcap/tidb/session.BootstrapSession()
      session/session.go:2993 +0x78c
  github.com/pingcap/tidb/domain.(*Domain).GetSessionCache()
      domain/sysvar_cache.go:62 +0x6a
  github.com/pingcap/tidb/session.(*session).loadCommonGlobalVariablesIfNeeded()
      session/session.go:3245 +0x11e
  github.com/pingcap/tidb/session.(*session).ExecuteStmt()
      session/session.go:2108 +0x2fb
  github.com/pingcap/tidb/session.(*session).ExecuteInternal()
      session/session.go:1671 +0x4eb
  github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop()
      domain/domain.go:1302 +0x143
  github.com/pingcap/tidb/session.BootstrapSession()
      session/session.go:2986 +0x72c
  github.com/pingcap/tidb/session.createStoreAndBootstrap()
      session/main_test.go:88 +0x64
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:42 +0x4a
  testing.tRunner()
      GOROOT/src/testing/testing.go:1446 +0x216
  testing.(*T).Run.func1()
      GOROOT/src/testing/testing.go:1493 +0x47

Previous read at 0x00c0067c1290 by goroutine 1306:
  github.com/pingcap/tidb/executor.(*HashAggFinalWorker).loadFinalResult()
      executor/aggregate.go:731 +0x5c4
  github.com/pingcap/tidb/executor.(*HashAggFinalWorker).run()
      executor/aggregate.go:778 +0x264
  github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec.func5()
      executor/aggregate.go:883 +0x64

Goroutine 116 (running) created at:
  testing.(*T).Run()
      GOROOT/src/testing/testing.go:1493 +0x75d
  testing.runTests.func1()
      GOROOT/src/testing/testing.go:1846 +0x99
  testing.tRunner()
      GOROOT/src/testing/testing.go:1446 +0x216
  testing.runTests()
      GOROOT/src/testing/testing.go:1844 +0x7ec
  testing.(*M).Run()
      GOROOT/src/testing/testing.go:1726 +0xa84
  github.com/pingcap/tidb/testkit/testmain.(*testingM).Run()
      testkit/testmain/wrapper.go:27 +0x42
  go.uber.org/goleak.VerifyTestMain()
      external/org_uber_go_goleak/testmain.go:53 +0x70
  github.com/pingcap/tidb/session.TestMain()
      session/main_test.go:78 +0xf25
  main.main()
      bazel-out/k8-fastbuild/bin/session/session_test_/testmain.go:366 +0x7c9

Goroutine 1306 (finished) created at:
  github.com/pingcap/tidb/executor.(*HashAggExec).prepare4ParallelExec()
      executor/aggregate.go:883 +0x750
  github.com/pingcap/tidb/executor.(*HashAggExec).parallelExec()
      executor/aggregate.go:904 +0xc4
  github.com/pingcap/tidb/executor.(*HashAggExec).Next()
      executor/aggregate.go:787 +0xeb
  github.com/pingcap/tidb/executor.Next()
      executor/executor.go:328 +0x632
  github.com/pingcap/tidb/executor.(*ExecStmt).next()
      executor/adapter.go:1142 +0x9d
  github.com/pingcap/tidb/executor.(*recordSet).Next()
      executor/adapter.go:153 +0x179
  github.com/pingcap/tidb/session.(*execStmtResult).Next()
      <autogenerated>:1 +0x76
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:82 +0xb46
  github.com/pingcap/tidb/session.runStmt()
      session/session.go:2329 +0x85c
  github.com/pingcap/tidb/session.(*session).ExecuteStmt()
      session/session.go:2193 +0x1266
  github.com/pingcap/tidb/session.(*session).Execute()
      session/session.go:1699 +0x524
  github.com/pingcap/tidb/session.exec()
      session/main_test.go:111 +0xc1
  github.com/pingcap/tidb/session.mustExec()
      session/main_test.go:103 +0x89
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:46 +0x16b
  github.com/pingcap/tidb/sessionctx/variable.(*SysVar).ValidateWithRelaxedValidation()
      sessionctx/variable/variable.go:361 +0x213
  github.com/pingcap/tidb/domain.(*Domain).rebuildSysVarCache()
      domain/sysvar_cache.go:146 +0x73c
  github.com/pingcap/tidb/domain.(*Domain).LoadSysVarCacheLoop()
      domain/domain.go:1360 +0xb9
  github.com/pingcap/tidb/session.BootstrapSession()
      session/session.go:2993 +0x78c
  github.com/pingcap/tidb/domain.(*Domain).GetSessionCache()
      domain/sysvar_cache.go:62 +0x6a
  github.com/pingcap/tidb/session.(*session).loadCommonGlobalVariablesIfNeeded()
      session/session.go:3245 +0x11e
  github.com/pingcap/tidb/session.(*session).ExecuteStmt()
      session/session.go:2108 +0x2fb
  github.com/pingcap/tidb/session.(*session).ExecuteInternal()
      session/session.go:1671 +0x4eb
  github.com/pingcap/tidb/domain.(*Domain).LoadPrivilegeLoop()
      domain/domain.go:1302 +0x143
  github.com/pingcap/tidb/session.BootstrapSession()
      session/session.go:2986 +0x72c
  github.com/pingcap/tidb/session.createStoreAndBootstrap()
      session/main_test.go:88 +0x64
  github.com/pingcap/tidb/session.TestBootstrap()
      session/bootstrap_test.go:42 +0x4a
  testing.tRunner()
      GOROOT/src/testing/testing.go:1446 +0x216
  testing.(*T).Run.func1()
      GOROOT/src/testing/testing.go:1493 +0x47
==================
```

### 4. What is your TiDB version? (Required)

<!-- Paste the output of SELECT tidb_version() -->

https://github.com/pingcap/tidb/pull/39534
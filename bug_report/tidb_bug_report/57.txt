ID: 57
Title: [goleveldb] panic: runtime error: invalid memory address or nil pointer dereference
Description:
When I try to delete, it panic.

```
[xorm] [info]  2015/09/08 09:35:50.145837 [sql] DELETE FROM `userinfo` WHERE `id` = ? [args] [3]
2015/09/08 09:35:50 tidb.go:97: [debug] compiling prepared DELETE FROM `userinfo` WHERE `id` = ?
2015/09/08 09:35:50 txn.go:108: [debug] get key:142_r   ï¿½sdd, txn:94
2015/09/08 09:35:50 tidb.go:97: [debug] compiling prepared DELETE FROM `userinfo` WHERE `id` = ?
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x20 pc=0x411745]

goroutine 201 [running]:
github.com/pingcap/tidb/store/localstore.(*dbSnapshot).Get(0xc820c49ff0, 0xc820e67300, 0x11, 0x20, 0x0, 0x0, 0x0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/store/localstore/snapshot.go:34 +0x85
github.com/pingcap/tidb/kv.(*UnionStore).Get(0xc820c5c120, 0xc820e67300, 0x11, 0x20, 0x0, 0x0, 0x0, 0x1b00000, 0xc820061210)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/kv/union_store.go:91 +0x11c
github.com/pingcap/tidb/store/localstore.(*dbTxn).Get(0xc820c5c120, 0xc820e67300, 0x11, 0x20, 0x0, 0x0, 0x0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/store/localstore/txn.go:110 +0x34a
github.com/pingcap/tidb/table/tables.(*Table).RowWithCols(0xc82045d5f0, 0x1b82050, 0xc820018180, 0x9, 0xc8204208c0, 0x8, 0x8, 0x0, 0x0, 0x0, ...)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/table/tables/tables.go:412 +0x23d
github.com/pingcap/tidb/table/tables.(*Table).Row(0xc82045d5f0, 0x1b82050, 0xc820018180, 0x9, 0x0, 0x0, 0x0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/table/tables/tables.go:430 +0xce
github.com/pingcap/tidb/plan/plans.(*TableDefaultPlan).Do(0xc820c46e70, 0x1b82050, 0xc820018180, 0xc820222640, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/from.go:283 +0x3d1
github.com/pingcap/tidb/plan/plans.(*JoinPlan).Do(0xc820019f80, 0x1b82050, 0xc820018180, 0xc820222640, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/join.go:140 +0x6e
github.com/pingcap/tidb/plan/plans.(*FilterDefaultPlan).Do(0xc820c4e840, 0x1b82050, 0xc820018180, 0xc820c46fc0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/where.go:72 +0x1ad
github.com/pingcap/tidb/plan/plans.(*SelectLockPlan).Do(0xc820c4e880, 0x1b82050, 0xc820018180, 0xc820c46f90, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/lock.go:63 +0xd7
github.com/pingcap/tidb/plan/plans.(*LimitDefaultPlan).Do(0xc820c46f60, 0x1b82050, 0xc820018180, 0xc820c4e980, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/limit.go:69 +0x103
github.com/pingcap/tidb/plan/plans.(*SelectFinalPlan).Do(0xc820c4e8e0, 0x1b82050, 0xc820018180, 0xc820c49fb0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/plan/plans/final.go:59 +0xc4
github.com/pingcap/tidb/rset/rsets.Recordset.Do(0x1b82050, 0xc820018180, 0x1b82e58, 0xc820c4e8e0, 0xc820c49fa0, 0x0, 0x0)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/rset/rsets/rsets.go:42 +0x97
github.com/pingcap/tidb/rset/rsets.(*Recordset).Do(0xc820c4e900, 0xc820c49fa0, 0x0, 0x0)
    <autogenerated>:6 +0xac
github.com/pingcap/tidb.newdriverRows.func1(0xc820c4e920)
    /Users/lunny/gopath/src/github.com/pingcap/tidb/driver.go:355 +0xa9
created by github.com/pingcap/tidb.newdriverRows
    /Users/lunny/gopath/src/github.com/pingcap/tidb/driver.go:374 +0xeb

goroutine 1 [chan receive]:
testing.RunTests(0xa13c40, 0xd70b20, 0x2, 0x2, 0x1)
    /Users/lunny/go1.5/src/testing/testing.go:562 +0x8ad
testing.(*M).Run(0xc820039f08, 0xc8201d1e60)
    /Users/lunny/go1.5/src/testing/testing.go:494 +0x70
main.main()
    github.com/go-xorm/tidb/_test/_testmain.go:72 +0x116

goroutine 17 [syscall, locked to thread]:
runtime.goexit()
    /Users/lunny/go1.5/src/runtime/asm_amd64.s:1696 +0x1

goroutine 20 [IO wait]:
net.runtime_pollWait(0x1b81050, 0x72, 0xc820060080)
    /Users/lunny/go1.5/src/runtime/netpoll.go:157 +0x60
net.(*pollDesc).Wait(0xc820698060, 0x72, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/fd_poll_runtime.go:73 +0x3a
net.(*pollDesc).WaitRead(0xc820698060, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/fd_poll_runtime.go:78 +0x36
net.(*netFD).accept(0xc820698000, 0x0, 0x1b81148, 0xc8206920a0)
    /Users/lunny/go1.5/src/net/fd_unix.go:408 +0x27c
net.(*TCPListener).AcceptTCP(0xc820230008, 0xc820057dd0, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/tcpsock_posix.go:254 +0x4d
net/http.tcpKeepAliveListener.Accept(0xc820230008, 0x0, 0x0, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/http/server.go:2135 +0x41
net/http.(*Server).Serve(0xc820214000, 0x1b81110, 0xc820230008, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/http/server.go:1887 +0xb3
net/http.(*Server).ListenAndServe(0xc820214000, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/http/server.go:1877 +0x136
net/http.ListenAndServe(0x8c06d0, 0xe, 0x0, 0x0, 0x0, 0x0)
    /Users/lunny/go1.5/src/net/http/server.go:1967 +0x8f
created by github.com/pingcap/tidb.init.2
    /Users/lunny/gopath/src/github.com/pingcap/tidb/tidb.go:262 +0x1a6
```

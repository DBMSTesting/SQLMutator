ID: 42698
Title: DATA RACE in the dispatcher
Description:
## Bug Report

Please answer these questions before submitting your issue. Thanks!

### 1. Minimal reproduce step (Required)

<!-- a step by step guide for reproducing the bug. -->

### 2. What did you expect to see? (Required)

### 3. What did you see instead (Required)
```
==================
WARNING: DATA RACE
Write at 0x00c005f5fce0 by goroutine 28821:
  runtime.mapassign_fast64()
      GOROOT/src/runtime/map_fast64.go:93 +0x0
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).setRunningGlobalTasks()
      disttask/framework/dispatcher/dispatcher.go:68 +0x170
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).DispatchTaskLoop()
      disttask/framework/dispatcher/dispatcher.go:149 +0xa51
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).DispatchTaskLoop-fm()
      <autogenerated>:1 +0x39
  github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
      util/wait_group_wrapper.go:154 +0x73
Previous read at 0x00c005f5fce0 by goroutine 28822:
  runtime.mapiterinit()
      GOROOT/src/runtime/map.go:815 +0x0
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).DetectTaskLoop()
      disttask/framework/dispatcher/dispatcher.go:205 +0x1ec
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).DetectTaskLoop-fm()
      <autogenerated>:1 +0x39
  github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run.func1()
      util/wait_group_wrapper.go:154 +0x73
Goroutine 28821 (running) created at:
  github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run()
      util/wait_group_wrapper.go:152 +0xe4
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).Start()
      disttask/framework/dispatcher/dispatcher.go:104 +0x9c
  github.com/pingcap/tidb/domain.(*Domain).distTaskFrameworkLoop.func2()
      domain/domain.go:1380 +0x2a6
  github.com/pingcap/tidb/domain.(*Domain).distTaskFrameworkLoop()
      domain/domain.go:1400 +0x2bc
  github.com/pingcap/tidb/domain.(*Domain).initDistTaskLoop.func1()
      domain/domain.go:1354 +0x15a
  github.com/pingcap/tidb/util.(*WaitGroupEnhancedWrapper).Run.func1()
      util/wait_group_wrapper.go:96 +0xb7
Goroutine 28822 (running) created at:
  github.com/pingcap/tidb/util.(*WaitGroupWrapper).Run()
      util/wait_group_wrapper.go:152 +0xe4
  github.com/pingcap/tidb/disttask/framework/dispatcher.(*dispatcher).Start()
      disttask/framework/dispatcher/dispatcher.go:105 +0x109
  github.com/pingcap/tidb/domain.(*Domain).distTaskFrameworkLoop.func2()
      domain/domain.go:1380 +0x2a6
  github.com/pingcap/tidb/domain.(*Domain).distTaskFrameworkLoop()
      domain/domain.go:1400 +0x2bc
  github.com/pingcap/tidb/domain.(*Domain).initDistTaskLoop.func1()
      domain/domain.go:1354 +0x15a
  github.com/pingcap/tidb/util.(*WaitGroupEnhancedWrapper).Run.func1()
      util/wait_group_wrapper.go:96 +0xb7
================== 
```
### 4. What is your TiDB version? (Required)

<!-- Paste the output of SELECT tidb_version() -->


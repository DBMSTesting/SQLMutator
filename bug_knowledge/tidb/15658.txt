{
    "sql": "CREATE TABLE `A` ( `col_int` int(11) DEFAULT NULL, `col_varchar_10_utf8` varchar(10) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL, `pk` int(11) NOT NULL AUTO_INCREMENT, `col_varchar_10_latin1` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `col_int_not_null` int(11) NOT NULL, `col_varchar_1024_utf8_not_null` varchar(1024) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `col_varchar_1024_utf8` varchar(1024) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL, `col_varchar_1024_latin1_not_null` varchar(1024) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `col_varchar_10_utf8_not_null` varchar(10) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `col_varchar_1024_latin1` varchar(1024) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `col_varchar_10_latin1_not_null` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, PRIMARY KEY (`pk`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin AUTO_INCREMENT=2000001; INSERT INTO `A` VALUES (5,'t',1,'n',7,'r','z','f','x','e','s'); ...; INSERT INTO `A` VALUES (3,'a',100,'f',3,'b',NULL,'g','j',NULL,'a'); CREATE TABLE `V` ( `pk` int(11) NOT NULL AUTO_INCREMENT, `col_varchar_10_utf8_not_null` varchar(10) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `col_varchar_1024_utf8` varchar(1024) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL, `col_int` int(11) DEFAULT NULL, `col_varchar_10_latin1_not_null` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `col_int_not_null` int(11) NOT NULL, `col_varchar_1024_latin1` varchar(1024) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `col_varchar_1024_utf8_not_null` varchar(1024) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `col_varchar_1024_latin1_not_null` varchar(1024) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `col_varchar_10_latin1` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `col_varchar_10_utf8` varchar(10) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL, PRIMARY KEY (`pk`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin AUTO_INCREMENT=2000001; LOCK TABLES `V` WRITE; INSERT INTO `V` VALUES (1,'g',NULL,8,'b',0,'o','s','b','j','k'); ...; INSERT INTO `V` VALUES (21,'z','n',NULL,'d',2,'d','z','k','e','a'); SELECT /*+ tidb_hj(table1)*/ (table2.`pk`) AS field1, (table2.`col_int`) AS field3 FROM A AS table1 JOIN V AS table2 ON table1.`pk` = table2.`col_int` AND table1.`pk` = table2.`pk`;",
    "Affected Elements": "JOIN, ON, SELECT",
    "Root Cause Analysis": "使用了不正确的连接条件，导致重复的结果行。"
}
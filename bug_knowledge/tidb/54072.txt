{
    "sql": "SET SESSION tidb_opt_enable_hash_join = 'off'; EXPLAIN WITH RECURSIVE ancestors(gid) AS ( SELECT groupings.parentId FROM groupings WHERE (groupings.userId = 8329216799209537 OR groupings.groupId = 8329216799209537) AND groupings.parentId IN ( SELECT groupId FROM `groups` WHERE `groups`.workspaceid = 4094233125760157 OR `groups`.accountId = '02945107-4221-4317-9276-5e0e9ed7f194' ) AND groupings.internal_deleted_timestamp IS NULL UNION SELECT groupings.parentId FROM groupings JOIN ancestors ON groupings.groupId = ancestors.gid ), workspaceScopedGroups(gid) AS ( SELECT groupId FROM principalToWorkspace WHERE groupId IN ( SELECT gid FROM ancestors ) AND principalToWorkspace.deleted = false AND principalToWorkspace.workspaceId = 4094233125760157 UNION SELECT groupings.groupId FROM groupings JOIN workspaceScopedGroups ON groupings.parentId = workspaceScopedGroups.gid WHERE groupings.groupId IN ( SELECT gid FROM ancestors ) ) SELECT `groups`.groupId AS `groups`.groupId, `groups`.groupname AS `groups`.groupname, `groups`.externalId AS `groups`.externalId, `groups`.creationTime AS `groups`.creationTime, `groups`.groupuuid AS `groups`.groupuuid, `groups`.accountId AS `groups`.accountId, `groups`.syncedBy AS `groups`.syncedBy, `groups`.sourceIdp AS `groups`.sourceIdp FROM `groups` WHERE `groups`.groupId IN ( SELECT gid FROM workspaceScopedGroups );",
    "Affected Elements": "SET SESSION, WITH RECURSIVE, SELECT, JOIN",
    "Root Cause Analysis": "The bug is likely caused by a failure in the execution plan optimization when hash joins are disabled, leading to a runtime error due to invalid memory access."
}
{
    "sql": "CREATE TABLE `tai1` ( `aid` int(11) DEFAULT NULL, `rid` int(11) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin; CREATE TABLE `tai2` ( `rid` int(11) DEFAULT NULL, `prilan` varchar(20) DEFAULT NULL, KEY `idx` ((lower(`prilan`))) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin; ALTER TABLE tai2 ADD INDEX idx((lower(prilan))); SET @@tidb_opt_distinct_agg_push_down = 1; SELECT COUNT(DISTINCT tai1.aid) AS cb FROM tai1 INNER JOIN tai2 ON tai1.rid = tai2.rid WHERE lower(prilan) LIKE LOWER('%python%');",
    "Affected Elements": "CREATE TABLE, ALTER TABLE, SELECT, INNER JOIN, WHERE, COUNT, DISTINCT, LOWER",
    "Root Cause Analysis": "The query fails to find a proper physical plan due to the use of a virtual column in the index, which may not be properly handled by the optimizer."
}
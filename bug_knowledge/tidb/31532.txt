{
    "sql": "set @@session.tidb_enable_list_partition = ON; drop table if exists t1, t2; create table t1 (c_int int, c_str varchar(40) character set utf8mb4 collate utf8mb4_general_ci, c_datetime datetime, c_timestamp timestamp, c_double double, c_decimal decimal(12, 6), c_enum enum('blue','green','red','yellow','white','orange','purple'), primary key (c_datetime), key(c_int), key(c_decimal)) partition by range (to_days(c_datetime)) (partition p0 values less than (to_days('2020-02-01')), partition p1 values less than (to_days('2020-04-01')), partition p2 values less than (to_days('2020-06-01')), partition p3 values less than maxvalue); create table t2 like t1; insert into t1 values (2, 'recursing tesla', '2020-02-27 14:04:06', '2020-02-28 13:50:37', 62.488836, 2.609, 'green'); insert into t2 select * from t1; update t1 set c_enum='blue'; select * from t1, t2 where t1.c_enum <> t2.c_enum for update; begin; select * from t1, t2 where t1.c_enum <> t2.c_enum for update;",
    "Affected Elements": "HASH_JOIN, FOR UPDATE, ENUM",
    "Root Cause Analysis": "使用 HASH_JOIN 结合 ENUM 类型时，可能导致索引超出范围的运行时错误。"
}
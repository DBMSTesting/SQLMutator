{
    "sql": "DROP TABLE IF EXISTS t1; CREATE TABLE t1 ( pk VARBINARY(36) NOT NULL PRIMARY KEY, b BIGINT NOT NULL, c BIGINT NOT NULL, pad VARBINARY(2048), INDEX (b), INDEX (c)); INSERT INTO t1 SELECT uuid(), FLOOR(RAND()*5), FLOOR(RAND()*1000000), HEX(RANDOM_BYTES(1000)) FROM dual; INSERT INTO t1 SELECT uuid(), FLOOR(RAND()*5), FLOOR(RAND()*1000000), HEX(RANDOM_BYTES(1000)) FROM t1 a JOIN t1 b JOIN t1 c; INSERT INTO t1 SELECT uuid(), FLOOR(RAND()*5), FLOOR(RAND()*1000000), HEX(RANDOM_BYTES(1000)) FROM t1 a JOIN t1 b JOIN t1 c; INSERT INTO t1 SELECT uuid(), FLOOR(RAND()*5), FLOOR(RAND()*1000000), HEX(RANDOM_BYTES(1000)) FROM t1 a JOIN t1 b JOIN t1 c; SET tidb_dml_batch_size=20000; SET tidb_batch_insert=1; INSERT INTO t1 SELECT uuid(), FLOOR(RAND()*5), FLOOR(RAND()*1000000), HEX(RANDOM_BYTES(1000)) FROM t1 a JOIN t1 b JOIN t1 c;",
    "Affected Elements": "INSERT .. SELECT, SET statements for tidb_dml_batch_size and tidb_batch_insert",
    "Root Cause Analysis": "The batch insert process consumes excessive memory, leading to an Out Of Memory error despite settings intended to limit memory usage."
}
{
    "sql": "CREATE TABLE tFC_ZJSQED (KHH CHAR(12) NOT NULL, ZJZH CHAR(14) NOT NULL, JSRQ INT NOT NULL, CSED NUMERIC(16,2) NOT NULL, CSDJ NUMERIC(16,2) NOT NULL, BDED NUMERIC(16,2) NOT NULL, DJJE NUMERIC(16,2) NOT NULL, XTLX INT NOT NULL, JDBH INT NOT NULL, PRIMARY KEY (KHH, ZJZH, JSRQ, JDBH)) ENGINE = InnoDB; CREATE INDEX iFC_ZJSQED_XTLX_JDBH ON tFC_ZJSQED(XTLX,JDBH); INSERT INTO tFC_ZJSQED (KHH,ZJZH,JSRQ,CSED,CSDJ,BDED,DJJE,XTLX,JDBH) VALUES ('000100000001','00010000000101',0,5000000,0,0,0,4,1); INSERT INTO tFC_ZJSQED (KHH,ZJZH,JSRQ,CSED,CSDJ,BDED,DJJE,XTLX,JDBH) VALUES ('000100000001','00010000000101',20220927,0,0,0,100,4,1); INSERT INTO tFC_ZJSQED (KHH,ZJZH,JSRQ,CSED,CSDJ,BDED,DJJE,XTLX,JDBH) VALUES ('000100000001','00010000000101',20220928,0,0,0,-300,4,1); INSERT INTO tFC_ZJSQED (KHH,ZJZH,JSRQ,CSED,CSDJ,BDED,DJJE,XTLX,JDBH) VALUES ('000100000001','00010000000101',20220930,0,0,0,150,4,1); SELECT @kyzj:=@kyzj + CASE WHEN JSRQ <= 20220927 THEN CSED - CSDJ - BDED - DJJE ELSE CASE WHEN (@cdje:=@cdje + CSDJ + BDED + DJJE) > 0 THEN LEAST(-@cdje, @cdje:=0) ELSE 0 END END FROM tFC_ZJSQED A, (SELECT @kyzj:=0.0, @cdje:=0.0) B WHERE ZJZH='00010000000101' AND KHH='000100000001' ORDER BY JSRQ;",
    "Affected Elements": "User-defined variables, CASE statements, SELECT statements",
    "Root Cause Analysis": "Inconsistent handling of user-defined variables between MySQL and TiDB, leading to different evaluation results."
}
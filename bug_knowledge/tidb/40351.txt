{
    "sql": "CREATE TABLE `t_securities` ( `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'id', `security_id` varchar(8) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `market_id` smallint DEFAULT NULL, `security_type` int DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE, UNIQUE KEY `unique_securityId_marketId` (`security_id`, `market_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin; INSERT INTO t_securities (security_id, market_id, security_type) VALUES ('1', 2, 7), ('7', 1, 7) ON DUPLICATE KEY UPDATE security_type = VALUES(security_type); REPLACE INTO t_securities (security_id, market_id, security_type) SELECT security_id + 1, 1, security_type FROM t_securities WHERE security_id = '7'; INSERT INTO t_securities (security_id, market_id, security_type) VALUES ('1', 2, 7), ('7', 1, 7) ON DUPLICATE KEY UPDATE security_type = VALUES(security_type);",
    "Affected Elements": "REPLACE INTO, SELECT, VALUES, ON DUPLICATE KEY UPDATE",
    "Root Cause Analysis": "The error is likely caused by an attempt to access an index in a result set that is out of bounds due to unexpected data manipulation prior to the REPLACE operation."
}
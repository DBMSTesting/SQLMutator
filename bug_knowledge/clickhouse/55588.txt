{
    "sql": "DROP DATABASE IF EXISTS mv_cte_bug ON CLUSTER tinybird SYNC; CREATE DATABASE mv_cte_bug ON CLUSTER tinybird; CREATE TABLE mv_cte_bug.landing ON CLUSTER tinybird ( `timestamp` DateTime, `payload` String ) Engine=ReplicatedMergeTree('/clickhouse/tables/{layer}-{shard}/mv_cte_bug.landing', '{replica}') ORDER BY timestamp; CREATE TABLE mv_cte_bug.ds ON CLUSTER tinybird ( `timestamp` DateTime, `payload` String ) Engine=ReplicatedMergeTree('/clickhouse/tables/{layer}-{shard}/mv_cte_bug.ds', '{replica}') ORDER BY timestamp; CREATE MATERIALIZED VIEW mv_cte_bug.mv ON CLUSTER tinybird TO mv_cte_bug.ds AS WITH (SELECT '') AS problematic_cte SELECT timestamp, payload FROM mv_cte_bug.landing WHERE payload IN (SELECT * FROM problematic_cte);",
    "Affected Elements": "CTE syntax, WHERE clause using CTE in a materialized view",
    "Root Cause Analysis": "The CTE is not being recognized correctly and is being treated as a regular table reference, leading to incorrect parsing."
}
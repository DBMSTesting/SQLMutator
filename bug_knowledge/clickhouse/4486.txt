{
    "sql": "SET allow_experimental_data_skipping_indices=1; CREATE TABLE `test_noidx` ( timestamp DateTime, action LowCardinality(Nullable(String)), user LowCardinality(Nullable(String)) ) ENGINE=MergeTree PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, action, cityHash64(user)) SAMPLE BY cityHash64(user); INSERT INTO test_noidx VALUES (1550883010, 'subscribe', 'alice'); INSERT INTO test_noidx VALUES (1550883020, 'follow', 'bob'); SELECT * FROM test_noidx WHERE user = 'alice'; CREATE TABLE `test` ( timestamp DateTime, action LowCardinality(Nullable(String)), user LowCardinality(Nullable(String)), INDEX test_user_idx (user) TYPE set(0) GRANULARITY 8192 ) ENGINE=MergeTree PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, action, cityHash64(user)) SAMPLE BY cityHash64(user); INSERT INTO test VALUES (1550883010, 'subscribe', 'alice'); INSERT INTO test VALUES (1550883020, 'follow', 'bob'); SELECT * FROM test WHERE user = 'alice';",
    "Affected Elements": "CREATE TABLE, INDEX, SELECT",
    "Root Cause Analysis": "The error occurs due to the incompatibility of the LowCardinality(Nullable(String)) data type with the experimental set index during deserialization in the database engine."
}
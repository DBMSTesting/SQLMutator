{
    "sql": "CREATE TABLE t_local (d DateTime, v UInt32) ENGINE = MergeTree ORDER BY toStartOfHour(d); CREATE TABLE t_dist AS t_local ENGINE = Distributed(test_shard_localhost, currentDatabase(), t_local); INSERT INTO t_local VALUES (now(), 1); EXPLAIN PIPELINE SELECT v FROM t_dist ORDER BY toStartOfHour(d) ASC, v ASC SETTINGS optimize_monotonous_functions_in_order_by = 0; EXPLAIN PIPELINE SELECT v FROM t_dist ORDER BY toStartOfHour(d) ASC, v ASC SETTINGS optimize_monotonous_functions_in_order_by = 1; EXPLAIN SYNTAX SELECT v FROM t_dist ORDER BY d ASC, v ASC SETTINGS optimize_monotonous_functions_in_order_by = 1;",
    "Affected Elements": "optimize_monotonous_functions_in_order_by, ORDER BY",
    "Root Cause Analysis": "The optimization setting 'optimize_monotonous_functions_in_order_by' removes the monotonous function from the ORDER BY clause, which disrupts the matching of the primary key prefix, causing 'optimize_read_in_order' to fail."
}
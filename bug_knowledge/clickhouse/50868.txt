{
    "sql": "create database gl_test ON CLUSTER 'my_cluster' ENGINE = Atomic(); CREATE TABLE gl_test.test_smt ON CLUSTER 'my_cluster' ( id String, dt DateTime('UTC'), dt64 DateTime64(3, 'UTC'), val Int32 ) ENGINE ReplicatedSummingMergeTree('/clickhouse/tables/{shard}/gl_test/test_smt', '{replica}', (val)) PARTITION BY toYYYYMM(dt) ORDER BY (cityHash64(id), toDate(dt), val) PRIMARY KEY (cityHash64(id), toDate(dt)); CREATE TABLE gl_test.test_smt_d ON CLUSTER 'my_cluster' AS gl_test.test_smt ENGINE = Distributed('my_cluster', 'gl_test', test_smt, cityHash64(id)); INSERT INTO gl_test.test_smt (id, dt, dt64, val) VALUES('abc', toDateTime(1686036919, 'UTC'), toDateTime64(1686036919.123, 3, 'UTC'), 1); select * from gl_test.test_smt_d tsd where dt64 > (select toDateTime64(0, 3, 'UTC'));",
    "Affected Elements": "Subquery in WHERE clause",
    "Root Cause Analysis": "The issue arises when using a subquery for comparison, which leads to incorrect result set due to how ClickHouse handles distributed queries and subquery execution."
}
{
    "sql": "DROP TABLE named_tuples_bug; CREATE TABLE named_tuples_bug (`a` Tuple(s Tuple(d String), i Tuple(x UInt64))) ENGINE = MergeTree ORDER BY tuple(); INSERT INTO named_tuples_bug VALUES ((('y'), (10))); ALTER TABLE named_tuples_bug ADD COLUMN f Tuple(s Tuple(d String), i Tuple(x UInt64)) ALIAS a; SELECT *, a.s.d, a.i.x, f, f.s, f.s.d, f.i.x, f.1.1 AS d FROM named_tuples_bug; ALTER TABLE named_tuples_bug DROP COLUMN f; ALTER TABLE named_tuples_bug ADD COLUMN f Tuple(s Tuple(d String), i Tuple(x UInt64)) MATERIALIZED a; SELECT *, a.s.d, a.i.x, f, f.s, f.s.d, f.i.x, f.1.1 AS d FROM named_tuples_bug; ALTER TABLE named_tuples_bug DROP COLUMN f; ALTER TABLE named_tuples_bug ADD COLUMN f Tuple(s Tuple(d String), i Tuple(x UInt64)) DEFAULT a; ALTER TABLE named_tuples_bug UPDATE f=f WHERE 1; SELECT *, a.s.d, a.i.x, f, f.s, f.s.d, f.i.x, f.1.1 AS d FROM named_tuples_bug;",
    "Affected Elements": "ALIAS, MATERIALIZED, DEFAULT, SELECT clauses",
    "Root Cause Analysis": "The issue arises from the handling of virtual columns that are either ALIAS or calculated on the fly, which do not return the expected values."
}
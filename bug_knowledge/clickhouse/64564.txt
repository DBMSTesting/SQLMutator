{
    "sql": "CREATE TABLE hackernews (id UInt64, deleted UInt8, type String, author String, timestamp DateTime, comment String, dead UInt8, parent UInt64, poll UInt64, children Array(UInt32), url String, score UInt32, title String, parts Array(UInt32), descendants UInt32) ENGINE = MergeTree ORDER BY (type, author); INSERT INTO hackernews SELECT * FROM s3Cluster('default', 'https://datasets-documentation.s3.eu-west-3.amazonaws.com/hackernews/hacknernews.parquet', 'Parquet', 'id UInt64, deleted UInt8, type String, by String, time DateTime, text String, dead UInt8, parent UInt64, poll UInt64, kids Array(UInt32), url String, score UInt32, title String, parts Array(UInt32), descendants UInt32'); SELECT count() FROM hackernews WHERE match(comment, 'clickho[u]se'); SELECT count() FROM hackernews WHERE match(comment, 'clickhouse'); ALTER TABLE hackernews ADD INDEX idx_comment comment TYPE tokenbf_v1(32768, 3, 0) GRANULARITY 1; ALTER TABLE hackernews MATERIALIZE INDEX idx_comment; SELECT count() FROM hackernews WHERE match(comment, 'clickho[u]se');",
    "Affected Elements": "MATCH function in WHERE clause; tokenbf_v1 index definition; GRANULARITY clause",
    "Root Cause Analysis": "Incorrect behavior of the tokenbf_v1 index causing it to drop granules that match the regex, resulting in unexpected query results."
}
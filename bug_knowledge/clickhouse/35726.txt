{
    "sql": "CREATE TABLE test_tbl ( `ip` String, `ipv6` IPv6 MATERIALIZED toIPv6(ip) ) ENGINE = Memory; insert into test_tbl(ip) values ('fe80::9801:43ff:fe1f:7690'), ('1.1.1.1'), (''), ('::ffff:1.1.1.1'); set cast_ipv4_ipv6_default_on_conversion_error=1; insert into test_tbl(ip) values ('fe80::9801:43ff:fe1f:7690'), ('1.1.1.1'), (''), ('::ffff:1.1.1.1'); CREATE TABLE test_tbl ( `ip` String, `ipv6` IPv6 MATERIALIZED toIPv6OrDefault(ip) ) ENGINE = Memory; insert into test_tbl(ip) values ('fe80::9801:43ff:fe1f:7690'), ('1.1.1.1'), (''), ('::ffff:1.1.1.1'); insert into test_tbl(ip) values ('fe80::9801:43ff:fe1f:7690'), ('1.1.1.1'), (''), ('::ffff:1.1.1.1'), ('garbudge'); CREATE TABLE test_tbl ( `ip` String, `ipv6` IPv6 MATERIALIZED if(ip='', '::', ip) ) ENGINE = Memory; insert into test_tbl(ip) values ('fe80::9801:43ff:fe1f:7690'), ('1.1.1.1'), (''), ('::ffff:1.1.1.1'); select ip, ipv6 from test_tbl;",
    "Affected Elements": "toIPv6, toIPv6OrDefault, if function",
    "Root Cause Analysis": "The issue stems from the inability of the toIPv6 and toIPv6OrDefault functions to handle certain invalid IPv4 inputs, resulting in exceptions when inserting these values."
}
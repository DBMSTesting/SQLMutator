{
    "sql": "create table bug_shard1 on cluster mycluster (id Int32) engine = MergeTree order by cityHash64(id); create table bug_distr1 on cluster mycluster as bug_shard1 engine Distributed(mycluster, `default`, bug_shard1, cityHash64(id)); create table bug_shard2 on cluster mycluster (id Int32) engine = MergeTree order by cityHash64(id); create table bug_distr2 on cluster mycluster as bug_shard2 engine Distributed(mycluster, `default`, bug_shard2, cityHash64(id)); select `default`.bug_distr1.id from `default`.bug_distr1 where `default`.bug_distr1.id in (select `default`.bug_distr1.id from `default`.bug_distr1 inner join `default`.bug_distr2 on `default`.bug_distr1.id = `default`.bug_distr2.id where `default`.bug_distr1.id > 0 order by `default`.bug_distr1.id); select d0.id from bug_distr1 d0 where d0.id in (select d1.id from bug_distr1 as d1 inner join bug_distr2 as d2 on d1.id = d2.id where d1.id > 0 order by d1.id);",
    "Affected Elements": "SELECT, WHERE, ORDER BY, JOIN",
    "Root Cause Analysis": "ClickHouse fails to replace distributed table names with local names in SELECT and WHERE clauses while losing aliases in subqueries."
}
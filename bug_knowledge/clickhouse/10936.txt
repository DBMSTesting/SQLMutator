{
    "sql": "drop table test_table_for_replication_alter_partitions_sync on cluster all_replica; drop table test_table_for_replication_alter_partitions_sync_temp on cluster all_replica; create table test_table_for_replication_alter_partitions_sync on cluster all_replica (number Int64, v Float64, dt String) Engine=ReplicatedMergeTree('/clickhouse/test/table/replication_alter_partitions_sync/', '{all_replica_replica}') partition by dt order by number; create table test_table_for_replication_alter_partitions_sync_temp on cluster all_replica (number Int64,v Float64, dt String) Engine=ReplicatedMergeTree('/clickhouse/test/table/replication_alter_partitions_sync_temp/', '{all_replica_replica}') partition by dt order by number; truncate table test_table_for_replication_alter_partitions_sync_temp; insert into test_table_for_replication_alter_partitions_sync_temp select number, rand(), '20200515' from system.numbers limit 1000000; alter table test_table_for_replication_alter_partitions_sync replace partition '20200515' from test_table_for_replication_alter_partitions_sync_temp; select count() from test_table_for_replication_alter_partitions_sync where dt='20200515';",
    "Affected Elements": "ALTER TABLE, REPLACE PARTITION, INSERT statements",
    "Root Cause Analysis": "The expected behavior of the replication synchronization setting not being enforced, leading to premature partition replacement before insert operations are completed."
}
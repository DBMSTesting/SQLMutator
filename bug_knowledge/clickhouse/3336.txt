{
    "sql": "drop table if exists t1; create table t1 (id UInt64, val Array(String), nid UInt64, eDate Date) ENGINE = MergeTree(eDate, (id, eDate), 8192); insert into t1 (id, val, nid, eDate) values (1, ['background', 'foreground', 'heading', 'image'], 1, '2018-09-27'); insert into t1 (id, val, nid, eDate) values (1, ['background', 'foreground', 'heading', 'image'], 1, '2018-09-27'); insert into t1 (id, val, nid, eDate) values (2, ['background', 'foreground', 'heading', 'image'], 1, '2018-09-27'); insert into t1 (id, val, nid, eDate) values (2, [], 2, '2018-09-27'); select arrayJoin(val) as nameGroup6 from t1 prewhere notEmpty(toString(nameGroup6)) group by nameGroup6; select arrayJoin(val) as nameGroup6, countDistinct(nid) as rowids from t1 prewhere notEmpty(toString(nameGroup6)) group by nameGroup6;",
    "Affected Elements": "prewhere, arrayJoin, notEmpty, toString",
    "Root Cause Analysis": "The crash occurs due to an attempt to read data that does not conform to expected sizes, specifically when using 'prewhere' with empty arrays."
}
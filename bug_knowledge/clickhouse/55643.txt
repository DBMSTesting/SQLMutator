{
    "sql": "CREATE TABLE tbl1 ( `ID` String, `TS` DateTime64(3, 'UTC') ) ENGINE = MergeTree PARTITION BY toYYYYMM(TS) ORDER BY TS SETTINGS index_granularity = 8192; INSERT INTO tbl1 SELECT * FROM s3('https://public-test-data-xyz.s3.us-east-2.amazonaws.com/tbl1.clickhouse', Native); CREATE TABLE tbl2 ( `ID` String, `TS` DateTime64(3, 'UTC') ) ENGINE = MergeTree PARTITION BY toYYYYMM(TS) ORDER BY (ID, TS) SETTINGS index_granularity = 8192; INSERT INTO tbl2 SELECT * FROM s3('https://public-test-data-xyz.s3.us-east-2.amazonaws.com/tbl1.clickhouse', Native); CREATE TABLE default.tbl3 ( `ID` String, `TS` DateTime64(3, 'UTC'), PROJECTION proj ( SELECT count(*) GROUP BY ID ) ) ENGINE = MergeTree PARTITION BY toYYYYMM(TS) ORDER BY TS SETTINGS index_granularity = 8192; SELECT count(*) FROM tbl1 WHERE ID = '37242ba15380c91ef199a19834325589'; SELECT count(*) FROM tbl2 WHERE ID = '37242ba15380c91ef199a19834325589'; SELECT count(*) FROM tbl3 WHERE ID = '37242ba15380c91ef199a19834325589';",
    "Affected Elements": "ORDER BY clause, projections",
    "Root Cause Analysis": "The discrepancy in results when filtering by ID in different table configurations suggests a regression in the way ClickHouse handles sorting and indexing in the 23.9 release, particularly affecting projections."
}
{
    "sql": "SET insert_distributed_sync = 1; SET parallel_distributed_insert_select=1; CREATE TABLE local_01099_a (number UInt64) ENGINE = Log; CREATE TABLE local_01099_b (number UInt64) ENGINE = Log; CREATE TABLE distributed_01099_a AS local_01099_a ENGINE = Distributed('test_cluster_two_shards_localhost', currentDatabase(), local_01099_a, rand()); CREATE TABLE distributed_01099_b AS local_01099_b ENGINE = Distributed('test_cluster_two_shards_localhost', currentDatabase(), local_01099_b, rand()); INSERT INTO local_01099_a SELECT number from system.numbers LIMIT 3; INSERT INTO distributed_01099_b SELECT * from distributed_01099_a; SELECT number, COUNT(number) FROM local_01099_b GROUP BY number ORDER BY number;",
    "Affected Elements": "SET, CREATE TABLE, INSERT INTO, SELECT",
    "Root Cause Analysis": "The deadlock occurs due to concurrent operations on Log engine tables when insert_distributed_sync and parallel_distributed_insert_select settings are enabled."
}
{
    "sql": "CREATE DATABASE test_db ON CLUSTER test_cluster; CREATE TABLE IF NOT EXISTS test_db.test_table ON CLUSTER test_cluster (event_date Date DEFAULT toDate(now()), company_id UInt32, product_id UInt32) ENGINE=ReplicatedMergeTree('/clickhouse/tables/{shard}/events_shard', '{replica}', event_date, (company_id), 8192); CREATE TABLE IF NOT EXISTS test_db.queue ON CLUSTER test_cluster (event_date Date DEFAULT toDate(now()), company_id UInt32, product_id UInt32) ENGINE=RabbitMQ SETTINGS rabbitmq_host_port = 'rabbitmq:5672', rabbitmq_exchange_name = 'exchange_test', rabbitmq_format = 'Protobuf', rabbitmq_num_consumers = 2; CREATE MATERIALIZED VIEW consumer ON CLUSTER test_cluster TO test_db.test_table AS SELECT event_date, company_id, product_id FROM test_db.queue SETTINGS format_schema='test.proto:TestPayload';",
    "Affected Elements": "CREATE DATABASE, CREATE TABLE, CREATE MATERIALIZED VIEW, SETTINGS",
    "Root Cause Analysis": "The error indicates that the Protobuf format requires a schema to be specified, yet the system did not recognize the provided schema in the materialized view settings."
}
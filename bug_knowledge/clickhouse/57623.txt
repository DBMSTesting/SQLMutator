{
    "sql": "DROP DATABASE IF EXISTS extract_all; CREATE DATABASE extract_all; CREATE TABLE extract_all.ds ( number UInt32 ) ENGINE=MergeTree ORDER BY number AS SELECT 1; CREATE TABLE extract_all.ds_2 ( arr Array(String) ) ENGINE=MergeTree ORDER BY tuple(); CREATE TABLE extract_all.regex ( reg String ) ENGINE = MergeTree ORDER BY tuple() AS SELECT '\\d[a-z]'; WITH coalesce(( SELECT reg FROM extract_all.regex ), '') AS val SELECT extractAll(concat(toString(number), 'a'), assumeNotNull(val)) FROM extract_all.ds; CREATE MATERIALIZED VIEW extract_all.mv TO extract_all.ds_2 AS WITH coalesce(( SELECT reg FROM extract_all.regex ), '') AS val SELECT extractAll(concat(toString(number), 'a'), assumeNotNull(val)) AS arr FROM extract_all.ds;",
    "Affected Elements": "WITH clause, extractAll function, coalesce function, assumeNotNull function",
    "Root Cause Analysis": "The behavior change in the interpretation of CTE output as constant in materialized views from version 23.8 to 23.9."
}
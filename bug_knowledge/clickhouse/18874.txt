{
    "sql": "CREATE TABLE empty_parts (k Int8, v Int8) ENGINE = ReplicatedSummingMergeTree('/clickhouse/empty_parts', 'replica1') ORDER BY k; INSERT INTO empty_parts VALUES (1, 15), (1, -15); OPTIMIZE TABLE empty_parts; INSERT INTO empty_parts VALUES (2, -15); SELECT name, active, rows, modification_time FROM system.parts WHERE table LIKE 'empty_parts'; INSERT INTO empty_parts VALUES (2, -15); SELECT name, active, rows, modification_time FROM system.parts WHERE table LIKE 'empty_parts'; SELECT name, value FROM system.zookeeper WHERE path='/clickhouse/empty_parts/blocks/';",
    "Affected Elements": "ALTER TABLE, INSERT INTO, OPTIMIZE TABLE, SELECT",
    "Root Cause Analysis": "Dropping parts in the background leads to inconsistencies in deduplication logic when inserting duplicate blocks."
}
{
    "sql": "PRAGMA page_size=1024; BEGIN; CREATE TABLE t1(x INTEGER PRIMARY KEY, y TEXT); WITH RECURSIVE c(x) AS (VALUES(1) UNION SELECT x+1 FROM c WHERE x<250) INSERT INTO t1(x,y) SELECT x*10, printf('%04d%.800c',x,'*') FROM c; SAVEPOINT one; SELECT count(*) FROM t1; WITH RECURSIVE c(x) AS (VALUES(1) UNION SELECT x+1 FROM c WHERE x<250) INSERT INTO t1(x,y) SELECT x*10+1, printf('%04d%.800c',x,'*') FROM c; ROLLBACK TO one; SELECT count(*) FROM t1; SAVEPOINT twoB; WITH RECURSIVE c(x) AS (VALUES(1) UNION SELECT x+1 FROM c WHERE x<10) INSERT INTO t1(x,y) SELECT x*10+2, printf('%04d%.800c',x,'*') FROM c; ROLLBACK TO twoB; RELEASE one; COMMIT;",
    "Affected Elements": "SAVEPOINT, ROLLBACK, RELEASE, PRAGMA",
    "Root Cause Analysis": "A defect in the in-memory journal logic leads to an inconsistent cursor state during heavy SAVEPOINT usage, particularly when savepoint journal size aligns with in-memory journal buffer size."
}
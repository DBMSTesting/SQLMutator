{
    "sql": "CREATE DATABASE bbdb; USE bbdb; CREATE TABLE `wh_productsales` (`id` int(11) NOT NULL AUTO_INCREMENT, `created_on` datetime NOT NULL, `updated_on` datetime NOT NULL, `created_by_id` int(11) DEFAULT NULL, `updated_by_id` int(11) DEFAULT NULL, `date` date NOT NULL, `sales_quantity` decimal(10,2) NOT NULL, `promo_quantity` decimal(10,2) NOT NULL, `kirana_quantity` decimal(10,2) NOT NULL DEFAULT '0.00', `outofstock_time` int(11) NOT NULL DEFAULT '0', `available_time` int(11) NOT NULL DEFAULT '86400', `unavailable_time` int(11) NOT NULL DEFAULT '0', `actual_sales` decimal(10,2) NOT NULL DEFAULT '0.00', `dc_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `date` (`date`,`product_id`,`dc_id`), KEY `wh_productsales_4a21cf42` (`created_by_id`), KEY `wh_productsales_6f403c1` (`updated_by_id`), KEY `wh_productsales_679343db` (`date`), KEY `wh_productsales_44bdf3ee` (`product_id`), KEY `wh_productsales_f3c25827` (`dc_id`), KEY `idx_wh_productsales_created_on` (`created_on`), CONSTRAINT `created_by_id_refs_id_567b1f38` FOREIGN KEY (`created_by_id`) REFERENCES `auth_user` (`id`), CONSTRAINT `updated_by_id_refs_id_567b1f38` FOREIGN KEY (`updated_by_id`) REFERENCES `auth_user` (`id`)) ENGINE=InnoDB AUTO_INCREMENT=261935007 DEFAULT CHARSET=latin1; CREATE TABLE `auth_user` (`id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(30) NOT NULL, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `password` varchar(128) NOT NULL, `is_staff` tinyint(1) NOT NULL, `is_active` tinyint(1) NOT NULL, `is_superuser` tinyint(1) NOT NULL, `last_login` datetime(6) DEFAULT NULL, `date_joined` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `username` (`username`)) ENGINE=InnoDB AUTO_INCREMENT=49782 DEFAULT CHARSET=latin1; CREATE DATABASE qas4_bbdb; USE qas4_bbdb; CREATE TABLE `wh_productsales` (`id` int(11) NOT NULL AUTO_INCREMENT, `created_on` datetime NOT NULL, `updated_on` datetime NOT NULL, `created_by_id` int(11) DEFAULT NULL, `updated_by_id` int(11) DEFAULT NULL, `date` date NOT NULL, `sales_quantity` decimal(10,2) NOT NULL, `promo_quantity` decimal(10,2) NOT NULL, `kirana_quantity` decimal(10,2) NOT NULL DEFAULT '0.00', `outofstock_time` int(11) NOT NULL DEFAULT '0', `available_time` int(11) NOT NULL DEFAULT '86400', `unavailable_time` int(11) NOT NULL DEFAULT '0', `actual_sales` decimal(10,2) NOT NULL DEFAULT '0.00', `dc_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `date` (`date`,`product_id`,`dc_id`), KEY `wh_productsales_4a21cf42` (`created_by_id`), KEY `wh_productsales_6f403c1` (`updated_by_id`), KEY `wh_productsales_679343db` (`date`), KEY `wh_productsales_44bdf3ee` (`product_id`), KEY `wh_productsales_f3c25827` (`dc_id`), KEY `idx_wh_productsales_created_on` (`created_on`), CONSTRAINT `created_by_id_refs_id_567b1f38` FOREIGN KEY (`created_by_id`) REFERENCES `auth_user` (`id`), CONSTRAINT `updated_by_id_refs_id_567b1f38` FOREIGN KEY (`updated_by_id`) REFERENCES `auth_user` (`id`)) ENGINE=InnoDB AUTO_INCREMENT=261935007 DEFAULT CHARSET=latin1; mysqldiff --force --server1=username:password@server1-db:3306 --server2=username:password@qserver2-db:3306 bbdb:qas4_bbdb --changes-for=server2 --difftype=sql; ALTER TABLE `qas4_bbdb`.`wh_productsales` DROP FOREIGN KEY created_by_id_refs_id_567b1f38, DROP FOREIGN KEY product_id_refs_id_3530cfeb, DROP FOREIGN KEY updated_by_id_refs_id_567b1f38, ADD CONSTRAINT created_by_id_refs_id_567b1f38 FOREIGN KEY(created_by_id) REFERENCES `bbdb`.`auth_user`(id), ADD CONSTRAINT updated_by_id_refs_id_567b1f38 FOREIGN KEY(updated_by_id) REFERENCES `bbdb`.`auth_user`(id), ADD CONSTRAINT product_id_refs_id_3530cfeb FOREIGN KEY(product_id) REFERENCES `bbdb`.`product_product`(id), AUTO_INCREMENT=238982497;",
    "Affected Elements": "ALTER TABLE, DROP FOREIGN KEY, ADD CONSTRAINT",
    "Root Cause Analysis": "The mysqldiff tool incorrectly references foreign keys to the wrong database during the transformation process."
}
{
    "sql": "CREATE TABLE `new_products_ndb` ( `id` int(10) unsigned NOT NULL, `extension_id` int(10) unsigned NOT NULL DEFAULT '0', `name` varchar(255) COLLATE latin1_general_ci NOT NULL, `min_months` int(10) unsigned NOT NULL DEFAULT '0', `max_months` int(10) unsigned NOT NULL DEFAULT '0', `default_months` int(10) unsigned NOT NULL DEFAULT '0', `min_years` int(10) unsigned NOT NULL DEFAULT '0', `max_years` int(10) unsigned NOT NULL DEFAULT '0', `default_years` int(10) unsigned NOT NULL DEFAULT '0', `desctype` int(10) unsigned NOT NULL, `type` enum('new','renewal','refund') COLLATE latin1_general_ci DEFAULT NULL, `renewal_service` varchar(25) COLLATE latin1_general_ci DEFAULT NULL, `product_group_id` int(10) unsigned DEFAULT NULL, `navision_code` varchar(32) COLLATE latin1_general_ci DEFAULT '', `pretty_name` varchar(255) COLLATE latin1_general_ci DEFAULT '', PRIMARY KEY (`id`,`extension_id`), KEY `name` (`name`), KEY `type` (`type`), KEY `desctype` (`desctype`) ) ENGINE=ndb DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci; CREATE TABLE `customer_referral_commission_ndb` ( `product_id` int(10) unsigned NOT NULL, `extension_id` int(10) unsigned NOT NULL DEFAULT '0', `customer_commission` decimal(9,2) unsigned DEFAULT '0.00', `date_entered` datetime DEFAULT NULL, `last_updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`product_id`,`extension_id`), KEY `product_id` (`product_id`), KEY `extension_id` (`extension_id`), CONSTRAINT `customer_referral_commission_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `new_products_ndb` (`id`) ) ENGINE=ndb DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci; ALTER TABLE `webmail_quota` ADD CONSTRAINT `webmail_quota_ibfk_2` FOREIGN KEY (`product_id`) REFERENCES `new_products_ndb` (`id`) ON DELETE CASCADE ON UPDATE restrict;",
    "Affected Elements": "FOREIGN KEY constraint, ON UPDATE CASCADE",
    "Root Cause Analysis": "MySQL Cluster (NDB) does not support ON UPDATE CASCADE for foreign keys referencing the primary key of a parent table."
}
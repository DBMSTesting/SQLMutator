{
    "sql": "set names utf8mb4; create database test default character set utf8mb4; use test; DROP TABLE IF EXISTS `json_test`; CREATE TABLE `json_test` ( `id` int unsigned NOT NULL AUTO_INCREMENT, `j` json DEFAULT NULL, `c` varchar(768) GENERATED ALWAYS AS (json_unquote(json_extract(`j`,'$.\"a\"'))) VIRTUAL, PRIMARY KEY (`id`), KEY `a` (`c`)); INSERT INTO `json_test` (`id`, `j`) VALUES (3,'{\"a\": \"1\"}'),(4,'{\"a\": 1}'); explain select id,JSON_TYPE(j->\"$.a\") from json_test where `j`->'$.\"a\"' = '1'; set names utf8; explain select id,JSON_TYPE(j->\"$.a\") from json_test where `j`->'$.\"a\"' = '1'; explain select id,JSON_TYPE(j->\"$.a\") from json_test where json_extract(`j`,_utf8mb4'$.\"a\"') = '1';",
    "Affected Elements": "set names, json_extract, json_unquote, JSON_TYPE",
    "Root Cause Analysis": "The issue arises due to the character set used when inserting data into the JSON column, affecting the usability of the index on the generated column."
}
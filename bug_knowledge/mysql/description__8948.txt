{
    "sql": "CREATE TABLE test1 ( id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, s1 VARCHAR(10) NOT NULL DEFAULT '', s2 VARCHAR(10) NOT NULL DEFAULT '', PRIMARY KEY(id)) ENGINE=InnoDB; CREATE PROCEDURE insert_test1(IN row_num INT) BEGIN DECLARE i INT DEFAULT 0; WHILE i < row_num DO INSERT INTO test1(s1,s2) VALUES('hello','hello2'); SET i = i + 1; END WHILE; END; CALL insert_test1(10000000); ALTER TABLE test1 CHANGE COLUMN s1 s1 VARCHAR(15), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE test1 CHANGE COLUMN s1 s1 VARCHAR(20), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE test1 CHANGE COLUMN s2 s2 VARCHAR(15), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE test1 CHANGE COLUMN s2 s2 VARCHAR(20), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE test1 CHANGE COLUMN s1 s1 VARCHAR(25), ALGORITHM=INPLACE, LOCK=NONE;",
    "Affected Elements": "ALTER TABLE, CHANGE COLUMN, ALGORITHM=INPLACE, LOCK=NONE",
    "Root Cause Analysis": "The InnoDB storage engine is not handling the initial VARCHAR column size extension correctly, causing an unexpected table rebuild."
}
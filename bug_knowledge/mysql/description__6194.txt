{
    "sql": "CREATE TABLE `rollup_enum_bug` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `tablename` varchar(60) NOT NULL, `action` enum('INSERT','UPDATE','DELETE') NOT NULL, `at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=DYNAMIC COMMENT='test'; INSERT INTO rollup_enum_bug (tablename, action) VALUES ('foo', 'INSERT'),('foo','UPDATE'),('bar','INSERT'),('bar','UPDATE'); INSERT INTO rollup_enum_bug (tablename, action) SELECT tablename, action FROM rollup_enum_bug; INSERT INTO rollup_enum_bug (tablename, action) SELECT tablename, action FROM rollup_enum_bug; SELECT CONCAT(LEFT(`at`,15),'0') AS _ymd_HM, action, tablename, COUNT(*) FROM rollup_enum_bug GROUP BY 1,0+action,3 WITH ROLLUP;",
    "Affected Elements": "GROUP BY, WITH ROLLUP",
    "Root Cause Analysis": "The grouping expressions must match the data types consistently to ensure correct NULL handling in the result set."
}
{
    "sql": "CREATE TABLE a (id BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (id), uid BIGINT) ENGINE=InnoDB; CREATE TABLE b (id BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (id), a_id BIGINT NOT NULL, CONSTRAINT fk_a__id FOREIGN KEY (a_id) REFERENCES a (id) ON DELETE CASCADE) ENGINE=InnoDB; CREATE TABLE c (id BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (id)) ENGINE=InnoDB; CREATE TABLE d (id BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (id), b_id BIGINT NOT NULL, CONSTRAINT fk_b__id FOREIGN KEY (b_id) REFERENCES b (id) ON DELETE CASCADE, c_id BIGINT NULL, CONSTRAINT fk_c__id FOREIGN KEY (c_id) REFERENCES c (id) ON DELETE CASCADE) ENGINE=InnoDB; INSERT INTO a VALUES (1, 123), (2, 456), (3, 123); INSERT INTO b VALUES (1, 1), (2, 2), (3, 3), (4, 3); INSERT INTO c VALUES (1), (2), (3), (4), (5), (6); INSERT INTO d VALUES (1, 1, 1), (2, 2, 2), (3, 3, 3), (4, 4, 4), (5, 4, 5); DELETE a, c FROM a LEFT JOIN b ON b.a_id = a.id LEFT JOIN d ON d.b_id = b.id LEFT JOIN c ON c.id = d.c_id WHERE a.uid = 123;",
    "Affected Elements": "DELETE statement, LEFT JOIN clause",
    "Root Cause Analysis": "The DELETE operation is affected by the PK-FK relationships, causing records to be missed due to immediate deletions in InnoDB that alter the state of the join."
}
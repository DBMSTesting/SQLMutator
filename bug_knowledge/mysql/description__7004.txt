{
    "sql": "drop table if exists TEST_SUB_PROBLEM; create table TEST_SUB_PROBLEM (UID integer PRIMARY KEY AUTO_INCREMENT, BID VARCHAR(10), THING_NAME VARCHAR(100), OTHER_IFO VARCHAR(100)); insert into TEST_SUB_PROBLEM(BID,THING_NAME,OTHER_IFO) values ('thing1','name1','look a chicken'),('thing1','name1','look an airplane'),('thing2','name2','look a mouse'),('thing3','name3','look a taperecorder'),('thing3','name3','look an explosion'),('thing4','name4','look at the stars'); drop table if exists TEST_SUB_PROBLEM_2; create table TEST_SUB_PROBLEM_2 as select TST.UID, TST.BID, TST.THING_NAME, TST.OTHER_IFO, vw2.DIST_UID from TEST_SUB_PROBLEM TST join (select uuid() as DIST_UID, vw.* from (select DISTINCT BID, THING_NAME from TEST_SUB_PROBLEM) vw) vw2 on vw2.BID = TST.BID; select distinct DIST_UID from TEST_SUB_PROBLEM_2;",
    "Affected Elements": "DISTINCT keyword, uuid() function, subquery",
    "Root Cause Analysis": "The optimizer setting 'derived_merge=on' interferes with the expected behavior of UUID generation in the context of a distinct subquery, resulting in multiple UUIDs for the same business key."
}
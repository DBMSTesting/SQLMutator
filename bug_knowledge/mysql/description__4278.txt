{
    "sql": "CREATE DATABASE db; USE db; CREATE TABLE t1 (i INT) ENGINE=MyISAM PARTITION BY HASH(i) PARTITIONS 16; CREATE TABLE t2 (i INT) ENGINE=MyISAM PARTITION BY HASH(i) PARTITIONS 16; CREATE TABLE t3 (i INT) ENGINE=MyISAM PARTITION BY HASH(i) PARTITIONS 16; CREATE TABLE files AS SELECT * FROM information_schema.files; INSERT INTO files (file_id, file_type, file_name, logfile_group_name, TABLESPACE_NAME) VALUES (1, 'UNDO LOG', 'file1', 'logfile-group1', 'tablespace1'); INSERT INTO files (file_id, file_type, file_name, logfile_group_name, TABLESPACE_NAME) VALUES (2, 'DATAFILE', 'file1', 'logfile-group1', 'tablespace1'); UPDATE files SET tablespace_name='p11'; SET optimizer_switch='semijoin=on'; SELECT LOGFILE_GROUP_NAME, FILE_NAME, TOTAL_EXTENTS, INITIAL_SIZE, ENGINE, EXTRA FROM files WHERE FILE_TYPE = 'UNDO LOG' AND FILE_NAME IS NOT NULL AND LOGFILE_GROUP_NAME IN (SELECT DISTINCT LOGFILE_GROUP_NAME FROM files F2 WHERE FILE_TYPE = 'DATAFILE' AND TABLESPACE_NAME IN (SELECT DISTINCT partition_name FROM INFORMATION_SCHEMA.PARTITIONS WHERE TABLE_SCHEMA IN ('db'))) GROUP BY LOGFILE_GROUP_NAME, FILE_NAME, ENGINE ORDER BY LOGFILE_GROUP_NAME;",
    "Affected Elements": "INFORMATION_SCHEMA, semi-join, GROUP BY, ORDER BY",
    "Root Cause Analysis": "The optimizer may not be correctly handling semi-joins with materialized subqueries when using INFORMATION_SCHEMA, leading to incorrect results."
}
{
    "sql": "SET GLOBAL innodb_default_row_format=COMPACT; CREATE TABLE t_pk_compact (a VARCHAR(100) CHARACTER SET utf8mb4 NOT NULL, PRIMARY KEY (a)) ENGINE=INNODB; ALTER TABLE t_pk_compact MODIFY a VARCHAR(500) CHARACTER SET utf8mb4 NOT NULL; SET GLOBAL innodb_default_row_format=REDUNDANT; CREATE TABLE t_pk_redundant (a VARCHAR(100) CHARACTER SET utf8mb4 NOT NULL, PRIMARY KEY (a)) ENGINE=INNODB; ALTER TABLE t_pk_redundant MODIFY a VARCHAR(500) CHARACTER SET utf8mb4 NOT NULL; SHOW CREATE TABLE t_pk_compact; SHOW CREATE TABLE t_pk_redundant; SELECT COUNT(*) FROM t_pk_compact; SELECT COUNT(*) FROM t_pk_redundant; ALTER TABLE t_pk_compact DROP PRIMARY KEY; ALTER TABLE t_pk_redundant DROP PRIMARY KEY; DROP TABLE t_pk_compact; DROP TABLE t_pk_redundant;",
    "Affected Elements": "SET GLOBAL innodb_default_row_format, CREATE TABLE, ALTER TABLE, DROP PRIMARY KEY",
    "Root Cause Analysis": "The bug arises from the inability to drop a clustered index due to the creation of an overly large index when certain row formats are set, leading to table inaccessibility."
}
{
    "sql": "create database if not exists test; use test; drop table if exists test1; CREATE TABLE `test1` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `b` varchar(250), PRIMARY KEY (`id`) ) ENGINE=ndb; set @id:=0; insert into `test1` values (@id:=@id+1,md5(rand()*1000000)), (@id:=@id+1,md5(rand()*1000000)), (@id:=@id+1,md5(rand()*1000000)), (@id:=@id+1,md5(rand()*1000000)); insert into `test1`(`id`,`b`) select @id:=@id+1,md5(rand()*1000000) from `test1` k1, `test1` k2, `test1` k3, `test1` k4, `test1` k5, `test1` k6, `test1` k7, `test1` k8, `test1` k9, `test1` k0, `test1` ka, `test1` kb, `test1` kc, `test1` kd limit 500000; alter table test1 add index `b` (b), algorithm=inplace; alter table test1 drop index `b`, algorithm=inplace; set profiling = 1; insert into test1 (b) values('mysql;mysql;'); set profiling = 0; show profiles; show profile for query 1;",
    "Affected Elements": "ALTER TABLE, ONLINE, ALGORITHM=INPLACE, metadata lock",
    "Root Cause Analysis": "The ONLINE ALTER TABLE operation holds a metadata lock, preventing local DML operations from executing concurrently, which is inconsistent with expected behavior."
}
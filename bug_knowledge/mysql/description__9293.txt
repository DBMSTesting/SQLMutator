{
    "sql": "DROP TABLE IF EXISTS t1, t2, t3, t4; CREATE TABLE t1 (id BIGINT(20) NOT NULL AUTO_INCREMENT, type VARCHAR(32), PRIMARY KEY (id)) ENGINE=InnoDB; INSERT INTO t1 VALUES (11, 'test'), (12, 'test'), (13, 'test'); CREATE TABLE t2 (id BIGINT(20) NOT NULL, t1_id BIGINT(20) DEFAULT NULL, PRIMARY KEY (id), KEY idx_t1_id (t1_id)) ENGINE=InnoDB; INSERT INTO t2 VALUES (21, 11), (22, 12), (23, 13); CREATE TABLE t3 (id BIGINT(20) NOT NULL AUTO_INCREMENT, t1_id BIGINT(20) DEFAULT NULL, PRIMARY KEY (id), KEY idx_t1_id (t1_id)) ENGINE=InnoDB; INSERT INTO t3 VALUES (31, 11), (32, 12), (33, 13); CREATE TABLE t4 (id BIGINT(20) NOT NULL AUTO_INCREMENT, t1_id BIGINT(20) NOT NULL, PRIMARY KEY (id), KEY idx_t1_id (t1_id)) ENGINE=InnoDB; INSERT INTO t4 VALUES (41, 11), (42, 12), (43, 13); SELECT DISTINCT t2.t1_id, t1.id AS hp_id FROM t1 LEFT JOIN t2 ON t1.id = t2.t1_id LEFT JOIN t3 ON t1.id = t3.t1_id LEFT JOIN t4 ON t4.t1_id = t1.id WHERE t1.type = 'test';",
    "Affected Elements": "LEFT JOIN, DISTINCT, WHERE clause",
    "Root Cause Analysis": "Performance regression due to inefficient handling of DISTINCT with multiple LEFT JOINs when not all columns are used in the final output."
}
{
    "sql": "CREATE TABLE filler (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT) ENGINE=Memory; CREATE TABLE grouping (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT, value1 INT NOT NULL, value2 INT NOT NULL) ENGINE=InnoDB; DELIMITER $$ CREATE PROCEDURE prc_filler(cnt INT) BEGIN DECLARE _cnt INT; SET _cnt = 1; WHILE _cnt <= cnt DO INSERT INTO filler SELECT _cnt; SET _cnt = _cnt + 1; END WHILE; END $$ DELIMITER ; START TRANSACTION; CALL prc_filler(100000); COMMIT; INSERT INTO grouping (value1, value2) SELECT CEILING(RAND(20110330) * 300000), CEILING(RAND(20110330 << 1) * 300000) FROM filler CROSS JOIN (SELECT id FROM filler LIMIT 30) q; EXPLAIN SELECT value1 AS value FROM grouping GROUP BY value1 UNION SELECT value2 AS value FROM grouping GROUP BY value2 LIMIT 10;",
    "Affected Elements": "GROUP BY, UNION, ORDER BY",
    "Root Cause Analysis": "The MySQL optimizer is incorrectly ordering results from a GROUP BY inside a UNION, which violates the expected behavior of UNION not preserving order from individual queries."
}
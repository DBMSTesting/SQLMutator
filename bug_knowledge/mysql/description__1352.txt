{
    "sql": "DROP TABLE IF EXISTS test; CREATE TABLE test (id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, foo GEOMETRY NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=latin1; INSERT INTO test(foo) VALUES(GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))')); SELECT id, AsText(foo) FROM test WHERE Contains(foo,GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))')); ALTER TABLE test ADD INDEX(foo(100)); SELECT id, AsText(foo) FROM test WHERE Contains(foo,GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))')); SELECT id, AsText(foo) FROM test IGNORE INDEX(foo) WHERE Contains(foo,GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))'));",
    "Affected Elements": "INDEX, IGNORE INDEX, spatial functions (Contains, GeomFromText)",
    "Root Cause Analysis": "InnoDB's handling of spatial functions does not ignore indexes, leading to errors when attempting to execute queries that involve both."
}
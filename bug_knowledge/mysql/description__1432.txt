{
    "sql": "EXPLAIN SELECT * FROM (SELECT o.dbx_tx, COUNT(*) AS null_cnt FROM pizza_orders o JOIN pizza_line_items li ON o.id = li.order_id WHERE li.type = 'ProductLineItem' AND li.product_id IS NULL AND o.id >= 700000 GROUP BY o.dbx_tx) sn LEFT JOIN (SELECT o.dbx_tx, COUNT(*) AS no_null_cnt FROM pizza_orders o JOIN pizza_line_items li ON o.id = li.order_id WHERE li.type = 'TicketLineItem' AND EXISTS (SELECT * FROM pizza_line_items li2 WHERE li2.order_id = li.order_id AND li2.type = 'ProductLineItem' AND li2.product_id IS NULL) AND o.id >= 700000 GROUP BY o.dbx_tx) snn ON sn.dbx_tx = snn.dbx_tx ORDER BY sn.dbx_tx;",
    "Affected Elements": "EXPLAIN, SELECT, JOIN, WHERE, EXISTS, GROUP BY, ORDER BY",
    "Root Cause Analysis": "The MySQL optimizer has a known issue with materializing derived tables during EXPLAIN, leading to significantly slower performance compared to execution."
}
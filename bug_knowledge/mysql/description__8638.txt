{
    "sql": "create database partition_clear_db; use partition_clear_db; CREATE TABLE `hft_task_sub1` ( `MNTSK_ID` varchar(17) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `STSK_ID` varchar(9) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `TSK_PRGRS_STCD` varchar(2) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL, `LCKD_IND` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '0', `RCRD_RGTM` datetime(3) DEFAULT NULL, `LOCK_ECD` varchar(400) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL, `RCRD_NO` decimal(9,0) DEFAULT NULL, `LOGICAL_PART_NO` int(11) NOT NULL DEFAULT '0', `GDB_BID` int(11) NOT NULL, `GTID` bigint(20) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`MNTSK_ID`,`LOGICAL_PART_NO`,`STSK_ID`), KEY `GDB_BID` (`GDB_BID`), KEY `IDX_HFT_TASK_SUB1` (`MNTSK_ID`,`TSK_PRGRS_STCD`,`LCKD_IND`), KEY `IDX_HFT_TASK_SUB2` (`MNTSK_ID`,`RCRD_NO`,`TSK_PRGRS_STCD`), KEY `IDX_HFT_TASK_SUB3` (`MNTSK_ID`,`LOCK_ECD`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin /*!50100 PARTITION BY LIST (`LOGICAL_PART_NO`) SUBPARTITION BY KEY (MNTSK_ID) SUBPARTITIONS 4 (PARTITION P1 VALUES IN (0) ENGINE = InnoDB, PARTITION P2 VALUES IN (1) ENGINE = InnoDB, PARTITION P3 VALUES IN (2) ENGINE = InnoDB, PARTITION P4 VALUES IN (3) ENGINE = InnoDB, PARTITION P5 VALUES IN (4) ENGINE = InnoDB, PARTITION P6 VALUES IN (5) ENGINE = InnoDB, PARTITION P7 VALUES IN (6) ENGINE = InnoDB) */; INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1234123412341234',0,'000000200',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1235123512351235',1,'000000300',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1236123612361236',2,'000000400',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1237123712371237',3,'000000500',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1237123712371237',4,'000000500',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1238123812381238',4,'000000600',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1239123912391239',5,'000000700',1); INSERT INTO hft_task_sub1(MNTSK_ID,LOGICAL_PART_NO,STSK_ID,GDB_BID) VALUES('1233123312331233',6,'000000800',1); SELECT stsk_id, logical_part_no FROM hft_task_sub1 WHERE mntsk_id='1236123612361236'; SELECT COUNT(0) FROM hft_task_sub1 FORCE INDEX(IDX_HFT_TASK_SUB3) WHERE mntsk_id = '1237123712371237' AND LOGICAL_PART_NO = '3' AND LOCK_ECD IS NULL;",
    "Affected Elements": "SELECT, INSERT, FORCE INDEX, COUNT",
    "Root Cause Analysis": "The issue arises from the handling of subpartitions in the SELECT statement that leads to an incorrect resultset when querying specific values."
}
{
    "sql": "DROP PROCEDURE IF EXISTS load_data; DELIMITER //; CREATE PROCEDURE load_data(table_name VARCHAR(256), start INT, count INT) BEGIN DECLARE i INT DEFAULT 0; SET @insert_stmt := CONCAT('INSERT INTO ', table_name, '(a,b,c,d,e,f,g,h,x,y,z) VALUES (?, REPEAT(''b'',100), 3598, REPEAT(''d'',100), 3598, 3598, 3598, 3598, 3598, 3598, 3598)'); PREPARE insert_stmt FROM @insert_stmt; WHILE i < count DO SET @pk = i + start; EXECUTE insert_stmt USING @pk; SET i = i + 1; END WHILE; END// DELIMITER ; CREATE TABLE t_inplace_alter_tmp_file_02(a INT PRIMARY KEY, b VARCHAR(100), c INT DEFAULT NULL, d VARCHAR(100), e INT, f INT, g INT, h INT, x INT, y INT, z INT) ENGINE=INNODB; CALL load_data('t_inplace_alter_tmp_file_02', 0, 20000); SET DEBUG_SYNC='RESET'; SET DEBUG_SYNC='innodb_inplace_alter_table_enter SIGNAL do_dml WAIT_FOR go_on_execute EXECUTE 1'; ALTER TABLE t_inplace_alter_tmp_file_02 ADD INDEX ci(c); CONNECTION con1; SET DEBUG_SYNC='now WAIT_FOR do_dml'; CALL load_data('t_inplace_alter_tmp_file_02', 20000, 20000); SET DEBUG_SYNC='now SIGNAL go_on_execute';",
    "Affected Elements": "ALTER TABLE, ADD INDEX, EXECUTE, CALL",
    "Root Cause Analysis": "The assertion failure occurs due to the server's improper handling of row logs during concurrent DML operations while an online ALTER TABLE is being executed."
}
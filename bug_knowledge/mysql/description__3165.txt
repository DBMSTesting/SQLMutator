{
    "sql": "CREATE OR REPLACE VIEW `xt overall event attendence monthly` AS SELECT 'Volunteers' AS `Category`, CONCAT('V', CAST(`ve`.`Volunteer_ID` AS CHAR)) AS `Named_ID`, `div`.`ID` AS `Division_ID`, `div`.`Name` AS `Division`, `pgm`.`ID` AS `Programme_ID`, `pgm`.`Name` AS `Programme`, `pjt`.`ID` AS `Project_ID`, `pjt`.`Name` AS `Project`, DATE(AddDate(`e`.`Start`, 1 - DAYOFMONTH(`e`.`Start`))) AS `Period`, COUNT(`e`.`Duration`) AS `Events` FROM `volunteers_attend_events` `ve` JOIN `event` `e` ON (`ve`.`Event_ID` = `e`.`ID`) JOIN `project` `pjt` ON (`e`.`Project` = `pjt`.`ID`) JOIN `programme` `pgm` ON (`pjt`.`Programme_id` = `pgm`.`ID`) JOIN `my divisions` `div` ON (`pgm`.`Division` = `div`.`ID`) GROUP BY 1,2,3,4,5,6,7,8,9 UNION SELECT 'Players' AS `Classification`, CONCAT('P', CAST(`psp`.`Player_ID` AS CHAR)) AS `Named_ID`, `div`.`ID` AS `Division_ID`, `div`.`Name` AS `Division`, `pgm`.`ID` AS `Programme_ID`, `pgm`.`Name` AS `Programme`, `pjt`.`ID` AS `Project_ID`, `pjt`.`Name` AS `Project`, DATE(AddDate(`e`.`Start`, 1 - DAYOFMONTH(`e`.`Start`))) AS `Period`, COUNT(`e`.`Duration`) AS `Events` FROM `players_participate_in_events` `pe` JOIN `players signup to projects` `psp` ON (`pe`.`Player_signup_ID` = `psp`.`ID`) JOIN `event` `e` ON (`pe`.`Event_ID` = `e`.`ID`) JOIN `project` `pjt` ON (`e`.`Project` = `pjt`.`ID`) JOIN `programme` `pgm` ON (`pjt`.`Programme_id` = `pgm`.`ID`) JOIN `my divisions` `div` ON (`pgm`.`Division` = `div`.`ID`) GROUP BY 1,2,3,4,5,6,7,8,9 UNION SELECT `p`.`Category` AS `Category`, `p`.`Named_ID` AS `Named_ID`, `p`.`Division_ID` AS `Division_ID`, `p`.`Division` AS `Division`, `p`.`Programme_ID` AS `Programme_ID`, `p`.`Programme` AS `Programme`, `p`.`Project_ID` AS `Project_ID`, `p`.`Project` AS `Project`, Adddate(AddDate(CURDATE(), 1 - DAYOFMONTH(CURDATE())), INTERVAL -`No` MONTH) AS `Adddate`, NULL AS `NULL` FROM `xt overall projects` `p` JOIN `sequence nos` WHERE `sequence nos`.`No` < 26;",
    "Affected Elements": "CREATE VIEW, UNION, Adddate",
    "Root Cause Analysis": "The export routine generates view definitions that reference functions before the functions are defined, causing failures on import."
}
{
    "sql": "DROP TABLE IF EXISTS monty; CREATE TABLE monty ( p int(10) unsigned NOT NULL, u int(10) unsigned NOT NULL, o bigint(20) unsigned NOT NULL, t enum('CONTACT','COMPANY','DEAL') CHARACTER SET ascii COLLATE ascii_bin NOT NULL DEFAULT 'CONTACT', c bigint(20) unsigned NOT NULL, s enum('MANUAL','OWNER') CHARACTER SET ascii COLLATE ascii_bin NOT NULL DEFAULT 'MANUAL', PRIMARY KEY (p,u,t,o), KEY o (o,p,t) ) ENGINE=InnoDB DEFAULT CHARSET=ascii; INSERT INTO monty VALUES (1,2,3,'CONTACT',4,'OWNER'); INSERT INTO monty VALUES (1,2,3,'COMPANY',4,'OWNER'); ALTER TABLE monty MODIFY COLUMN t VARCHAR(40) CHARSET ascii COLLATE ascii_bin NOT NULL;",
    "Affected Elements": "ALTER TABLE, MODIFY COLUMN, PRIMARY KEY",
    "Root Cause Analysis": "The issue arises due to MySQL adding a column prefix to the primary key index when converting an ENUM to VARCHAR, which leads to duplicate entry errors when ENUM values share the same starting characters."
}
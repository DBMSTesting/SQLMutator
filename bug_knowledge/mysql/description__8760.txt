{
    "sql": "CREATE TABLE `userid_10781986` ( `cid` bigint(20) NOT NULL, `type` int(11) NOT NULL, `uid` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `upid` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `ctime` timestamp NULL DEFAULT NULL, PRIMARY KEY (`cid`,`type`,`uid`,`upid`) USING BTREE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin ROW_FORMAT=DYNAMIC /*!50100 PARTITION BY KEY (cid,`type`,uid) (PARTITION p0 ENGINE = InnoDB, PARTITION p1 ENGINE = InnoDB, PARTITION p10 ENGINE = InnoDB, PARTITION p100 ENGINE = InnoDB, PARTITION p101 ENGINE = InnoDB, PARTITION p102 ENGINE = InnoDB, PARTITION p103 ENGINE = InnoDB, PARTITION p104 ENGINE = InnoDB, PARTITION p105 ENGINE = InnoDB, PARTITION p106 ENGINE = InnoDB, PARTITION p107 ENGINE = InnoDB, PARTITION p108 ENGINE = InnoDB, PARTITION p109 ENGINE = InnoDB, PARTITION p11 ENGINE = InnoDB, PARTITION p110 ENGINE = InnoDB, PARTITION p111 ENGINE = InnoDB, PARTITION p112 ENGINE = InnoDB, PARTITION p113 ENGINE = InnoDB, PARTITION p114 ENGINE = InnoDB, PARTITION p115 ENGINE = InnoDB, PARTITION p116 ENGINE = InnoDB, PARTITION p117 ENGINE = InnoDB, PARTITION p118 ENGINE = InnoDB, PARTITION p119 ENGINE = InnoDB, PARTITION p12 ENGINE = InnoDB, PARTITION p120 ENGINE = InnoDB, PARTITION p121 ENGINE = InnoDB, PARTITION p122 ENGINE = InnoDB, PARTITION p123 ENGINE = InnoDB, PARTITION p124 ENGINE = InnoDB, PARTITION p125 ENGINE = InnoDB, PARTITION p126 ENGINE = InnoDB, PARTITION p127 ENGINE = InnoDB, PARTITION p13 ENGINE = InnoDB, PARTITION p14 ENGINE = InnoDB, PARTITION p15 ENGINE = InnoDB, PARTITION p16 ENGINE = InnoDB, PARTITION p17 ENGINE = InnoDB, PARTITION p18 ENGINE = InnoDB, PARTITION p19 ENGINE = InnoDB, PARTITION p2 ENGINE = InnoDB, PARTITION p20 ENGINE = InnoDB, PARTITION p21 ENGINE = InnoDB, PARTITION p22 ENGINE = InnoDB, PARTITION p23 ENGINE = InnoDB, PARTITION p24 ENGINE = InnoDB, PARTITION p25 ENGINE = InnoDB, PARTITION p26 ENGINE = InnoDB, PARTITION p27 ENGINE = InnoDB, PARTITION p28 ENGINE = InnoDB, PARTITION p29 ENGINE = InnoDB, PARTITION p3 ENGINE = InnoDB, PARTITION p30 ENGINE = InnoDB, PARTITION p31 ENGINE = InnoDB, PARTITION p32 ENGINE = InnoDB, PARTITION p33 ENGINE = InnoDB, PARTITION p34 ENGINE = InnoDB, PARTITION p35 ENGINE = InnoDB, PARTITION p36 ENGINE = InnoDB, PARTITION p37 ENGINE = InnoDB, PARTITION p38 ENGINE = InnoDB, PARTITION p39 ENGINE = InnoDB, PARTITION p4 ENGINE = InnoDB, PARTITION p40 ENGINE = InnoDB, PARTITION p41 ENGINE = InnoDB, PARTITION p42 ENGINE = InnoDB, PARTITION p43 ENGINE = InnoDB, PARTITION p44 ENGINE = InnoDB, PARTITION p45 ENGINE = InnoDB, PARTITION p46 ENGINE = InnoDB, PARTITION p47 ENGINE = InnoDB, PARTITION p48 ENGINE = InnoDB, PARTITION p49 ENGINE = InnoDB, PARTITION p5 ENGINE = InnoDB, PARTITION p50 ENGINE = InnoDB, PARTITION p51 ENGINE = InnoDB, PARTITION p52 ENGINE = InnoDB, PARTITION p53 ENGINE = InnoDB, PARTITION p54 ENGINE = InnoDB, PARTITION p55 ENGINE = InnoDB, PARTITION p56 ENGINE = InnoDB, PARTITION p57 ENGINE = InnoDB, PARTITION p58 ENGINE = InnoDB, PARTITION p59 ENGINE = InnoDB, PARTITION p6 ENGINE = InnoDB, PARTITION p60 ENGINE = InnoDB, PARTITION p61 ENGINE = InnoDB, PARTITION p62 ENGINE = InnoDB, PARTITION p63 ENGINE = InnoDB, PARTITION p64 ENGINE = InnoDB, PARTITION p65 ENGINE = InnoDB, PARTITION p66 ENGINE = InnoDB, PARTITION p67 ENGINE = InnoDB, PARTITION p68 ENGINE = InnoDB, PARTITION p69 ENGINE = InnoDB, PARTITION p7 ENGINE = InnoDB, PARTITION p70 ENGINE = InnoDB, PARTITION p71 ENGINE = InnoDB, PARTITION p72 ENGINE = InnoDB, PARTITION p73 ENGINE = InnoDB, PARTITION p74 ENGINE = InnoDB, PARTITION p75 ENGINE = InnoDB, PARTITION p76 ENGINE = InnoDB, PARTITION p77 ENGINE = InnoDB, PARTITION p78 ENGINE = InnoDB, PARTITION p79 ENGINE = InnoDB, PARTITION p8 ENGINE = InnoDB, PARTITION p80 ENGINE = InnoDB, PARTITION p81 ENGINE = InnoDB, PARTITION p82 ENGINE = InnoDB, PARTITION p83 ENGINE = InnoDB, PARTITION p84 ENGINE = InnoDB, PARTITION p85 ENGINE = InnoDB, PARTITION p86 ENGINE = InnoDB, PARTITION p87 ENGINE = InnoDB, PARTITION p88 ENGINE = InnoDB, PARTITION p89 ENGINE = InnoDB, PARTITION p9 ENGINE = InnoDB, PARTITION p90 ENGINE = InnoDB, PARTITION p91 ENGINE = InnoDB, PARTITION p92 ENGINE = InnoDB, PARTITION p93 ENGINE = InnoDB, PARTITION p94 ENGINE = InnoDB, PARTITION p95 ENGINE = InnoDB, PARTITION p96 ENGINE = InnoDB, PARTITION p97 ENGINE = InnoDB, PARTITION p98 ENGINE = InnoDB, PARTITION p99 ENGINE = InnoDB) */; select cid, type, uid, upid, ctime from userid_10781986 where upid in ('571359603338510336') and cid = 10781986;",
    "Affected Elements": "ha_innpart::records_in_range function, high CPU cost due to full scans of all partitions instead of logarithmic scans",
    "Root Cause Analysis": "The performance issue arises from the refactored logic in ha_innpart::records_in_range, which causes it to scan all N partitions instead of only log(N) - 1 partitions, leading to excessive CPU usage and degraded performance."
}
{
    "sql": "DROP TABLE IF EXISTS tmp_documents, tmp_document_positions; CREATE TABLE tmp_documents (id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT, date DATE, KEY (date)); CREATE TABLE tmp_document_positions (id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT, document_id INT UNSIGNED NOT NULL, quantity INT, KEY document_id_abs_quantity (document_id, (ABS(quantity)))); INSERT INTO tmp_documents WITH RECURSIVE num(n) AS (SELECT 0 n UNION ALL SELECT n + 1 FROM num WHERE n + 1 <= 100) SELECT NULL, DATE(NOW() - INTERVAL num.n DAY) FROM num; INSERT INTO tmp_document_positions (document_id, quantity) WITH RECURSIVE num(n) AS (SELECT 1 n UNION ALL SELECT n + 1 FROM num WHERE n + 1 <= 100) SELECT d.id, n FROM tmp_documents d, num; EXPLAIN ANALYZE SELECT * FROM tmp_documents td LEFT JOIN tmp_document_positions tdp ON (tdp.document_id, (ABS(quantity))) = (td.id, 5) WHERE td.date = DATE(NOW());",
    "Affected Elements": "LEFT JOIN, ABS function, index usage",
    "Root Cause Analysis": "The optimizer does not push down the ABS function for LEFT JOIN conditions, resulting in suboptimal index usage."
}
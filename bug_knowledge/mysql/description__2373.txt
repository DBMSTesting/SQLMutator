{
    "sql": "DROP TABLE IF EXISTS CC; DROP TABLE IF EXISTS C; DROP TABLE IF EXISTS BB; CREATE TABLE `CC` (`pk` int(11) NOT NULL AUTO_INCREMENT, `col_int_key` int(11) DEFAULT NULL, `col_varchar_key` varchar(1) DEFAULT NULL, PRIMARY KEY (`pk`), KEY `col_int_key` (`col_int_key`), KEY `col_varchar_key` (`col_varchar_key`,`col_int_key`)) ENGINE=MyISAM AUTO_INCREMENT=30 DEFAULT CHARSET=latin1; INSERT INTO `CC` VALUES (10,8,'v'), (11,9,'r'), (12,9,'a'), (13,186,'m'), (14,NULL,'y'), (15,2,'j'), (16,3,'d'), (17,0,'z'), (18,133,'e'), (19,1,'h'), (20,8,'b'), (21,5,'s'), (22,5,'e'), (23,8,'j'), (24,6,'e'), (25,51,'f'), (26,4,'v'), (27,7,'x'), (28,6,'m'), (29,4,'c'); CREATE TABLE `C` (`pk` int(11) NOT NULL AUTO_INCREMENT, `col_int_key` int(11) DEFAULT NULL, `col_varchar_key` varchar(1) DEFAULT NULL, PRIMARY KEY (`pk`), KEY `col_int_key` (`col_int_key`), KEY `col_varchar_key` (`col_varchar_key`,`col_int_key`)) ENGINE=MyISAM AUTO_INCREMENT=21 DEFAULT CHARSET=latin1; INSERT INTO `C` VALUES (1,2,'w'), (2,9,'m'), (3,3,'m'), (4,9,'k'), (5,NULL,'r'), (6,9,'t'), (7,3,'j'), (8,8,'u'), (9,8,'h'), (10,53,'o'), (11,0,NULL), (12,5,'k'), (13,166,'e'), (14,3,'n'), (15,0,'t'), (16,1,'c'), (17,9,'m'), (18,5,'y'), (19,6,'f'), (20,2,'d'); CREATE TABLE `BB` (`pk` int(11) NOT NULL AUTO_INCREMENT, `col_int_key` int(11) DEFAULT NULL, `col_varchar_key` varchar(1) DEFAULT NULL, PRIMARY KEY (`pk`), KEY `col_int_key` (`col_int_key`), KEY `col_varchar_key` (`col_varchar_key`,`col_int_key`)) ENGINE=MyISAM AUTO_INCREMENT=11 DEFAULT CHARSET=latin1; INSERT INTO `BB` VALUES (10,8,NULL); SELECT MAX(table1.`col_int_key`) field1 FROM C table1 STRAIGHT_JOIN (BB table2 JOIN CC ON table2.`pk`) ON table2.`col_varchar_key` HAVING field1;",
    "Affected Elements": "MAX, STRAIGHT_JOIN, HAVING",
    "Root Cause Analysis": "The optimizer's handling of indexes leads to different result sets for the same query under different indexing conditions."
}
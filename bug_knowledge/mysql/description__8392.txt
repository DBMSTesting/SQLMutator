{
    "sql": "CREATE TABLE t (a int, b int, c int, d int, e int, PRIMARY KEY(a), KEY abc (b, c, d)) ENGINE=InnoDB; INSERT INTO t VALUES (1, 1, 1, 1, 1), (2, 2, 2, 2, 2), (3, 3, 3, 3, 3), (4, 4, 4, 4, 4); INSERT INTO t SELECT a+4, b+4, c, d, e FROM t; INSERT INTO t SELECT a+8, b+8, c, d, e FROM t; INSERT INTO t SELECT a+16, b+16, c, d, e FROM t; INSERT INTO t SELECT a+32, b+32, c, d, e FROM t; INSERT INTO t SELECT a+64, b+64, c, d, e FROM t; INSERT INTO t SELECT a+128, b+128, c, d, e FROM t; INSERT INTO t SELECT a+256, b+256, c, d, e FROM t; INSERT INTO t SELECT a+512, b+512, c, d, e FROM t; INSERT INTO t SELECT a+1024, b+1024, c, d, e FROM t; ANALYZE TABLE t; FLUSH TABLES; SHOW INDEXES IN t; SET INFORMATION_SCHEMA_STATS_EXPIRY = 0; SET DEBUG_SYNC = 'after_empty_index SIGNAL parked WAIT_FOR go'; SEND ANALYZE TABLE t; CONNECT (con1,localhost,root,,); SET INFORMATION_SCHEMA_STATS_EXPIRY = 0; SET DEBUG_SYNC='now WAIT_FOR parked'; SHOW INDEXES IN t; CONNECT (con2,localhost,root,,); SET DEBUG_SYNC='now SIGNAL go'; DISCONNECT con2; DISCONNECT con1; DROP TABLE t; SET DEBUG_SYNC = 'RESET';",
    "Affected Elements": "ANALYZE TABLE, SHOW INDEXES, SET DEBUG_SYNC",
    "Root Cause Analysis": "The bug arises from a race condition where old statistics are read without locking during an index statistics update, leading to incorrect or stale statistics being returned."
}
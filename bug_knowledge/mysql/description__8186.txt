{
    "sql": "create table tt2 (id1 int, id2 int, value1 int, value2 int, name varchar(32)); insert into tt2 values (30,00, 10, 10, '10'), (60,30, 13, 97, '11'), (90,60, 16, 94, '12'), (20,90, 19, 91, '13'), (50,20, 22, 88, '14'), (80,50, 25, 85, '15'), (10,80, 28, 82, '16'), (40,10, 31, 79, '17'), (70,40, 34, 76, '18'), (00,70, 37, 73, '19'), (30,00, 40, 70, '20'), (60,30, 43, 67, '21'), (90,60, 46, 64, '22'), (20,90, 49, 61, '23'), (50,20, 52, 58, '24'); select id1,id2, sum(value1), max(value2), substring_index(group_concat(name order by value2),',',1), rank() over (order by sum(value1) desc, max(value2) asc ) as `rank` from tt2 group by id1,id2 order by sum(value1) desc, max(value2) asc;",
    "Affected Elements": "rank(), group_concat(), substring_index()",
    "Root Cause Analysis": "The bug was caused by a regression introduced in version 8.0.17 affecting the window function's execution context, leading to incorrect results when computing ranks."
}
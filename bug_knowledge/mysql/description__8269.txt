{
    "sql": "CREATE TABLE `t` (`id` bigint(20) NOT NULL AUTO_INCREMENT, `name` varchar(32), PRIMARY KEY (`id`), unique KEY `p_name` (`name`)) ENGINE=InnoDB CHARSET=utf8; INSERT INTO t (name) VALUES ('A'), ('C'), ('D'); INSERT INTO t (name) VALUES (NULL), (NULL); BEGIN; DELETE FROM t WHERE name IS NULL; SELECT object_name, index_name, lock_type, lock_mode, lock_status, lock_data FROM data_locks; ALTER TABLE t MODIFY name varchar(32) NOT NULL; BEGIN; DELETE FROM t WHERE name = 'C'; BEGIN; DELETE FROM t WHERE name = 'C'; SELECT engine_transaction_id, object_name, index_name, lock_type, lock_mode, lock_status, lock_data FROM data_locks;",
    "Affected Elements": "DELETE FROM ... WHERE ..., INSERT INTO ... VALUES ...",
    "Root Cause Analysis": "The documentation inaccurately describes locking behavior in InnoDB, failing to clarify that next-key locks are required for delete-marked records and certain conditions involving null values."
}
{
    "sql": "CREATE TABLE `t1` ( `id` bigint(20) unsigned NOT NULL, `col` varchar(255) DEFAULT NULL, UNIQUE KEY `uk` (`col`) USING BTREE, KEY `sk` (`id`) USING BTREE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; DELIMITER $$ CREATE PROCEDURE auto_insert(IN times int) BEGIN declare i int default 1; TRUNCATE TABLE t1; WHILE(i<times) DO INSERT INTO t1 VALUES(i, NULL); SET i=i+1; END WHILE; END$$ DELIMITER ; CALL auto_insert(1000); XA BEGIN 'x1'; DELETE FROM t1 WHERE id=100 AND col IS NULL; XA END 'x1'; XA PREPARE 'x1'; DELETE FROM t1 WHERE id=99 AND col IS NULL;",
    "Affected Elements": "XA transactions, DELETE statement, locking behavior",
    "Root Cause Analysis": "The slave is not unlocking rows correctly during the execution of XA transactions when dealing with NULL unique keys, leading to blocking issues."
}
{
    "sql": "set global innodb_default_row_format='redundant'; drop database if exists test; create database test; use test; CREATE TABLE `test123` ( `id` int unsigned NOT NULL AUTO_INCREMENT, `b` varchar(255) DEFAULT NULL, `c` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; insert into test123 (b,c) select repeat('b',255), repeat('c',255); create index idx123 on test123(b); CREATE TABLE `test456` ( `id` int unsigned NOT NULL AUTO_INCREMENT, `b` varchar(255) DEFAULT NULL, `c` varchar(255) DEFAULT NULL, `d` varchar(255) DEFAULT NULL, `e` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; insert into test456 (b,c,d,e) select repeat('b',255), repeat('c',255), repeat('d',255), repeat('e',255); create index idx123 on test456(b,c,d,e); CREATE TABLE `test789` ( `id` int unsigned NOT NULL AUTO_INCREMENT, `b` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '', `c` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; insert into test789 (b,c) select repeat('b',255), repeat('c',255); create index idx123 on test789(b,c);",
    "Affected Elements": "create index, varchar, utf8mb4 character set",
    "Root Cause Analysis": "The limitation of 767 bytes on index length for individual columns in InnoDB tables is not clearly documented, leading to confusion when creating compound indexes."
}
{
    "sql": "SET GLOBAL ob_sql_work_area_percentage = 10; CREATE TABLE `部门表` (`ID` bigint(255) NOT NULL, `上级ID` bigint(255) DEFAULT NULL, `编码` varchar(1024) COLLATE utf8mb4_bin DEFAULT NULL, `名称` varchar(1024) COLLATE utf8mb4_bin DEFAULT NULL, PRIMARY KEY (`ID`)) WITH COLUMN GROUP(all columns, each column); CREATE TABLE `病案主页_T1` (`病人ID` bigint(255) NOT NULL, `主页ID` int(255) NOT NULL, `住院号` bigint(255) DEFAULT NULL, `出院科室ID` bigint(255) DEFAULT NULL, PRIMARY KEY (`病人ID`, `主页ID`)) WITH COLUMN GROUP(all columns, each column); CREATE TABLE `病人变动记录_T1` (`ID` bigint(255) NOT NULL, `病人ID` bigint(255) DEFAULT NULL, `主页ID` int(255) DEFAULT NULL, `开始时间` varchar(1024) COLLATE utf8mb4_bin DEFAULT NULL, `开始原因` int(255) DEFAULT NULL, PRIMARY KEY (`ID`)) WITH COLUMN GROUP(all columns, each column); INSERT INTO `test`.`病案主页_T1` (`病人ID`, `主页ID`, `住院号`, `出院科室ID`) VALUES (1, 1, 666, 1); INSERT INTO `test`.`病人变动记录_T1` (`ID`, `病人ID`, `主页ID`, `开始时间`, `开始原因`) VALUES (1, 666, 666, '2024-10-17 00:00:00', 1); INSERT INTO `test`.`部门表` (`ID`, `上级ID`, `编码`, `名称`) VALUES (1, 2, '123', 'TEST'); EXPLAIN SELECT (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)), (SELECT `部门表`.`编码` FROM `ods_whfkyy_his_hisdbdg_zlhis`.`部门表` WHERE (`部门表`.`ID` = `a`.`出院科室ID`)) FROM `ods_whfkyy_his_hisdbdg_zlhis`.`病案主页_T1` `a`, `ods_whfkyy_his_hisdbdg_zlhis`.`病人变动记录_T1` `c` WHERE (`c`.`开始原因` IN (1, 3, 15)) AND (`a`.`病人ID` = `c`.`病人ID`) AND (`a`.`主页ID` = `c`.`主页ID`) LIMIT 0,200;",
    "Affected Elements": "Multiple occurrences of the same table in subqueries, use of primary keys in subqueries.",
    "Root Cause Analysis": "The execution plan generation fails due to the presence of multiple subqueries referencing the same table, compounded by the primary key index affecting the optimizer's choices."
}